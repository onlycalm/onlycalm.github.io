<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>第十四章——嵌入式系统总线和通讯接口 | OnlyCalm's Blog</title><meta name="author" content="OnlyCalm"><meta name="copyright" content="OnlyCalm"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第十四章——嵌入式系统总线和通讯接口前言：&amp;amp;emsp;&amp;amp;emsp; 计算机第十四章节主要知识点。 1 知识点介绍 串行接口基本原理与结构 并行接口基本原理与结构 PCI接口基本原理与结构 USB接口基本原理与结构 SPI接口基本原理与结构 IIC接口基本原理与结构 网络接口基本原理与"><link rel="shortcut icon" href="http://onlycalm.gitee.io/blogimage/res/favicon_16x16.ico"><link rel="canonical" href="http://onlycalm.cn/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?aa84fe0b630e04119afd5cc009c11181";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '第十四章——嵌入式系统总线和通讯接口',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-04 19:08:00'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/butterfly.css"><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/res/Avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">229</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">327</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">53</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fab fa-fort-awesome"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-box-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-bookmark"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-hourglass-half"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-icons"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-headphones"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-user-friends"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/reward/"><i class="fa-fw fas fa-gift"></i><span> 打赏</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fab fa-canadian-maple-leaf"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://onlycalm.gitee.io/blogimage/res/Cover_12.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="OnlyCalm's Blog"><span class="site-name">OnlyCalm's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fab fa-fort-awesome"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-box-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-bookmark"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-hourglass-half"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-icons"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-headphones"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-user-friends"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/reward/"><i class="fa-fw fas fa-gift"></i><span> 打赏</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fab fa-canadian-maple-leaf"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">第十四章——嵌入式系统总线和通讯接口</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-02-04T11:08:00.000Z" title="发表于 2022-02-04 19:08:00">2022-02-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-02-04T11:08:00.000Z" title="更新于 2022-02-04 19:08:00">2022-02-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%85%B4%E8%B6%A3/">兴趣</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/">国家软考</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/">中级嵌入式系统设计师</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">410.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>1354分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="第十四章——嵌入式系统总线和通讯接口"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/" itemprop="commentCount"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第十四章——嵌入式系统总线和通讯接口"><a href="#第十四章——嵌入式系统总线和通讯接口" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍"><a href="#1-知识点介绍" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构"><a href="#2-串行接口基本原理与结构" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述"><a href="#2-1-串行通信概述" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-1"><a href="#第十四章——嵌入式系统总线和通讯接口-1" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-1"><a href="#1-知识点介绍-1" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-1"><a href="#2-串行接口基本原理与结构-1" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-1"><a href="#2-1-串行通信概述-1" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式"><a href="#2-2-串行通信模式" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工"><a href="#2-2-1-单工" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工"><a href="#2-2-2-半双工" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工"><a href="#2-2-3-全双工" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步"><a href="#2-2-4-串行通信异步" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位"><a href="#2-2-5-波特率和校验位" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点"><a href="#2-2-6-串行异步特点" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步"><a href="#2-2-7-串行通信同步" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送"><a href="#2-2-8-串口同步和异步发送" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口"><a href="#2-3-RS-232C串行接口" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格"><a href="#2-3-1-接口规格" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号"><a href="#2-3-2-接口信号" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能"><a href="#2-3-3-引脚功能" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式"><a href="#2-3-4-连接方式" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口"><a href="#2-4-RS-422串行接口" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口"><a href="#2-5-RS-485串行接口" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题"><a href="#2-6-例题" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构"><a href="#3-并行接口基本原理与结构" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念"><a href="#3-1-并行接口基本概念" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类"><a href="#3-2-并行接口分类" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类"><a href="#3-3-并行总线分类" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488"><a href="#3-4-并行总线IEE488" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI"><a href="#3-5-并行总线SCSI和MXI" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题"><a href="#3-6-例题" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构"><a href="#4-PCI接口基本原理与结构" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构"><a href="#4-1-PCI接口基本结构" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题"><a href="#4-1-1-例题" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构"><a href="#5-USB接口基本原理与结构" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔"><a href="#5-1-热插拔" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点"><a href="#5-2-USB总线的主要性能特点" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用"><a href="#5-3-USB总线的应用" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口"><a href="#5-4-USB总线物理接口" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题"><a href="#5-5-例题" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构"><a href="#6-SPI接口基本原理与结构" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介"><a href="#6-1-SPI接口简介" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理"><a href="#6-2-SPI接口基本原理" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式"><a href="#6-3-SPI接口工作模式" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题"><a href="#6-4-例题" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构"><a href="#7-IIC接口基本原理与结构" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介"><a href="#7-1-IIC接口简介" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式"><a href="#7-2-操作模式" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号"><a href="#7-3-启动信号" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据"><a href="#7-4-读写数据" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式"><a href="#7-5-数据传输格式" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号"><a href="#7-6-应答信号" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理"><a href="#7-7-IIC总线工作原理" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题"><a href="#7-8-例题" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口"><a href="#8-网络接口" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构"><a href="#8-1-以太网接口基本原理与结构" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识"><a href="#8-2-以太网基础知识" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码"><a href="#8-3-传输编码" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧"><a href="#8-4-802-3Mac层的帧" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点"><a href="#8-5-以太网数据传输的特点" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法"><a href="#8-6-以太网接口实现的方法" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口"><a href="#8-7-网络编程接口" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题"><a href="#8-8-例题" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构"><a href="#9-CAN总线接口基本原理与结构" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述"><a href="#9-1-CAN总线概述" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口"><a href="#9-2-CAN总线接口" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口"><a href="#9-3-嵌入式处理器上扩展CAN总线接口" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构"><a href="#10-无线以太网基本原理与结构" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介"><a href="#10-1-WLAN简介" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准"><a href="#10-2-WLAN标准" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构"><a href="#11-IEEE-1394接口基本原理与结构" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介"><a href="#11-1-IEEE-1394简介" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点"><a href="#11-2-IEEE-1394的特点" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构"><a href="#11-3-IEEE-1394的协议结构" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题"><a href="#11-4-例题" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类"><a href="#12-总线分类" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题"><a href="#12-1-例题" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="2-2-串行通信模式-1"><a href="#2-2-串行通信模式-1" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-1"><a href="#2-2-1-单工-1" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-2"><a href="#第十四章——嵌入式系统总线和通讯接口-2" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-2"><a href="#1-知识点介绍-2" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-2"><a href="#2-串行接口基本原理与结构-2" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-2"><a href="#2-1-串行通信概述-2" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-2"><a href="#2-2-串行通信模式-2" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-2"><a href="#2-2-1-单工-2" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-1"><a href="#2-2-2-半双工-1" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-1"><a href="#2-2-3-全双工-1" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-1"><a href="#2-2-4-串行通信异步-1" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-1"><a href="#2-2-5-波特率和校验位-1" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-1"><a href="#2-2-6-串行异步特点-1" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-1"><a href="#2-2-7-串行通信同步-1" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-1"><a href="#2-2-8-串口同步和异步发送-1" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-1"><a href="#2-3-RS-232C串行接口-1" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-1"><a href="#2-3-1-接口规格-1" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-1"><a href="#2-3-2-接口信号-1" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-1"><a href="#2-3-3-引脚功能-1" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-1"><a href="#2-3-4-连接方式-1" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-1"><a href="#2-4-RS-422串行接口-1" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-1"><a href="#2-5-RS-485串行接口-1" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-1"><a href="#2-6-例题-1" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-1"><a href="#3-并行接口基本原理与结构-1" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-1"><a href="#3-1-并行接口基本概念-1" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-1"><a href="#3-2-并行接口分类-1" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-1"><a href="#3-3-并行总线分类-1" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-1"><a href="#3-4-并行总线IEE488-1" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-1"><a href="#3-5-并行总线SCSI和MXI-1" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-1"><a href="#3-6-例题-1" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-1"><a href="#4-PCI接口基本原理与结构-1" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-1"><a href="#4-1-PCI接口基本结构-1" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-1"><a href="#4-1-1-例题-1" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-1"><a href="#5-USB接口基本原理与结构-1" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-1"><a href="#5-1-热插拔-1" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-1"><a href="#5-2-USB总线的主要性能特点-1" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-1"><a href="#5-3-USB总线的应用-1" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-1"><a href="#5-4-USB总线物理接口-1" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-1"><a href="#5-5-例题-1" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-1"><a href="#6-SPI接口基本原理与结构-1" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-1"><a href="#6-1-SPI接口简介-1" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-1"><a href="#6-2-SPI接口基本原理-1" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-1"><a href="#6-3-SPI接口工作模式-1" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-1"><a href="#6-4-例题-1" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-1"><a href="#7-IIC接口基本原理与结构-1" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-1"><a href="#7-1-IIC接口简介-1" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-1"><a href="#7-2-操作模式-1" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-1"><a href="#7-3-启动信号-1" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-1"><a href="#7-4-读写数据-1" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-1"><a href="#7-5-数据传输格式-1" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-1"><a href="#7-6-应答信号-1" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-1"><a href="#7-7-IIC总线工作原理-1" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-1"><a href="#7-8-例题-1" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-1"><a href="#8-网络接口-1" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-1"><a href="#8-1-以太网接口基本原理与结构-1" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-1"><a href="#8-2-以太网基础知识-1" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-1"><a href="#8-3-传输编码-1" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-1"><a href="#8-4-802-3Mac层的帧-1" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-1"><a href="#8-5-以太网数据传输的特点-1" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-1"><a href="#8-6-以太网接口实现的方法-1" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-1"><a href="#8-7-网络编程接口-1" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-1"><a href="#8-8-例题-1" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-1"><a href="#9-CAN总线接口基本原理与结构-1" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-1"><a href="#9-1-CAN总线概述-1" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-1"><a href="#9-2-CAN总线接口-1" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-1"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-1" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-1"><a href="#10-无线以太网基本原理与结构-1" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-1"><a href="#10-1-WLAN简介-1" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-1"><a href="#10-2-WLAN标准-1" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-1"><a href="#11-IEEE-1394接口基本原理与结构-1" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-1"><a href="#11-1-IEEE-1394简介-1" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-1"><a href="#11-2-IEEE-1394的特点-1" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-1"><a href="#11-3-IEEE-1394的协议结构-1" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-1"><a href="#11-4-例题-1" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-1"><a href="#12-总线分类-1" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-1"><a href="#12-1-例题-1" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h4 id="2-2-2-半双工-2"><a href="#2-2-2-半双工-2" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-3"><a href="#第十四章——嵌入式系统总线和通讯接口-3" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-3"><a href="#1-知识点介绍-3" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-3"><a href="#2-串行接口基本原理与结构-3" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-3"><a href="#2-1-串行通信概述-3" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-3"><a href="#2-2-串行通信模式-3" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-3"><a href="#2-2-1-单工-3" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-3"><a href="#2-2-2-半双工-3" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-2"><a href="#2-2-3-全双工-2" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-2"><a href="#2-2-4-串行通信异步-2" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-2"><a href="#2-2-5-波特率和校验位-2" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-2"><a href="#2-2-6-串行异步特点-2" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-2"><a href="#2-2-7-串行通信同步-2" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-2"><a href="#2-2-8-串口同步和异步发送-2" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-2"><a href="#2-3-RS-232C串行接口-2" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-2"><a href="#2-3-1-接口规格-2" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-2"><a href="#2-3-2-接口信号-2" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-2"><a href="#2-3-3-引脚功能-2" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-2"><a href="#2-3-4-连接方式-2" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-2"><a href="#2-4-RS-422串行接口-2" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-2"><a href="#2-5-RS-485串行接口-2" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-2"><a href="#2-6-例题-2" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-2"><a href="#3-并行接口基本原理与结构-2" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-2"><a href="#3-1-并行接口基本概念-2" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-2"><a href="#3-2-并行接口分类-2" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-2"><a href="#3-3-并行总线分类-2" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-2"><a href="#3-4-并行总线IEE488-2" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-2"><a href="#3-5-并行总线SCSI和MXI-2" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-2"><a href="#3-6-例题-2" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-2"><a href="#4-PCI接口基本原理与结构-2" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-2"><a href="#4-1-PCI接口基本结构-2" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-2"><a href="#4-1-1-例题-2" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-2"><a href="#5-USB接口基本原理与结构-2" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-2"><a href="#5-1-热插拔-2" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-2"><a href="#5-2-USB总线的主要性能特点-2" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-2"><a href="#5-3-USB总线的应用-2" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-2"><a href="#5-4-USB总线物理接口-2" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-2"><a href="#5-5-例题-2" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-2"><a href="#6-SPI接口基本原理与结构-2" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-2"><a href="#6-1-SPI接口简介-2" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-2"><a href="#6-2-SPI接口基本原理-2" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-2"><a href="#6-3-SPI接口工作模式-2" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-2"><a href="#6-4-例题-2" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-2"><a href="#7-IIC接口基本原理与结构-2" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-2"><a href="#7-1-IIC接口简介-2" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-2"><a href="#7-2-操作模式-2" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-2"><a href="#7-3-启动信号-2" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-2"><a href="#7-4-读写数据-2" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-2"><a href="#7-5-数据传输格式-2" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-2"><a href="#7-6-应答信号-2" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-2"><a href="#7-7-IIC总线工作原理-2" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-2"><a href="#7-8-例题-2" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-2"><a href="#8-网络接口-2" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-2"><a href="#8-1-以太网接口基本原理与结构-2" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-2"><a href="#8-2-以太网基础知识-2" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-2"><a href="#8-3-传输编码-2" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-2"><a href="#8-4-802-3Mac层的帧-2" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-2"><a href="#8-5-以太网数据传输的特点-2" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-2"><a href="#8-6-以太网接口实现的方法-2" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-2"><a href="#8-7-网络编程接口-2" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-2"><a href="#8-8-例题-2" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-2"><a href="#9-CAN总线接口基本原理与结构-2" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-2"><a href="#9-1-CAN总线概述-2" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-2"><a href="#9-2-CAN总线接口-2" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-2"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-2" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-2"><a href="#10-无线以太网基本原理与结构-2" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-2"><a href="#10-1-WLAN简介-2" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-2"><a href="#10-2-WLAN标准-2" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-2"><a href="#11-IEEE-1394接口基本原理与结构-2" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-2"><a href="#11-1-IEEE-1394简介-2" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-2"><a href="#11-2-IEEE-1394的特点-2" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-2"><a href="#11-3-IEEE-1394的协议结构-2" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-2"><a href="#11-4-例题-2" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-2"><a href="#12-总线分类-2" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-2"><a href="#12-1-例题-2" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h4 id="2-2-3-全双工-3"><a href="#2-2-3-全双工-3" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-4"><a href="#第十四章——嵌入式系统总线和通讯接口-4" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-4"><a href="#1-知识点介绍-4" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-4"><a href="#2-串行接口基本原理与结构-4" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-4"><a href="#2-1-串行通信概述-4" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-4"><a href="#2-2-串行通信模式-4" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-4"><a href="#2-2-1-单工-4" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-4"><a href="#2-2-2-半双工-4" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-4"><a href="#2-2-3-全双工-4" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-3"><a href="#2-2-4-串行通信异步-3" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-3"><a href="#2-2-5-波特率和校验位-3" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-3"><a href="#2-2-6-串行异步特点-3" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-3"><a href="#2-2-7-串行通信同步-3" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-3"><a href="#2-2-8-串口同步和异步发送-3" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-3"><a href="#2-3-RS-232C串行接口-3" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-3"><a href="#2-3-1-接口规格-3" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-3"><a href="#2-3-2-接口信号-3" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-3"><a href="#2-3-3-引脚功能-3" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-3"><a href="#2-3-4-连接方式-3" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-3"><a href="#2-4-RS-422串行接口-3" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-3"><a href="#2-5-RS-485串行接口-3" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-3"><a href="#2-6-例题-3" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-3"><a href="#3-并行接口基本原理与结构-3" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-3"><a href="#3-1-并行接口基本概念-3" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-3"><a href="#3-2-并行接口分类-3" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-3"><a href="#3-3-并行总线分类-3" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-3"><a href="#3-4-并行总线IEE488-3" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-3"><a href="#3-5-并行总线SCSI和MXI-3" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-3"><a href="#3-6-例题-3" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-3"><a href="#4-PCI接口基本原理与结构-3" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-3"><a href="#4-1-PCI接口基本结构-3" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-3"><a href="#4-1-1-例题-3" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-3"><a href="#5-USB接口基本原理与结构-3" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-3"><a href="#5-1-热插拔-3" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-3"><a href="#5-2-USB总线的主要性能特点-3" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-3"><a href="#5-3-USB总线的应用-3" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-3"><a href="#5-4-USB总线物理接口-3" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-3"><a href="#5-5-例题-3" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-3"><a href="#6-SPI接口基本原理与结构-3" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-3"><a href="#6-1-SPI接口简介-3" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-3"><a href="#6-2-SPI接口基本原理-3" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-3"><a href="#6-3-SPI接口工作模式-3" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-3"><a href="#6-4-例题-3" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-3"><a href="#7-IIC接口基本原理与结构-3" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-3"><a href="#7-1-IIC接口简介-3" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-3"><a href="#7-2-操作模式-3" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-3"><a href="#7-3-启动信号-3" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-3"><a href="#7-4-读写数据-3" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-3"><a href="#7-5-数据传输格式-3" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-3"><a href="#7-6-应答信号-3" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-3"><a href="#7-7-IIC总线工作原理-3" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-3"><a href="#7-8-例题-3" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-3"><a href="#8-网络接口-3" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-3"><a href="#8-1-以太网接口基本原理与结构-3" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-3"><a href="#8-2-以太网基础知识-3" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-3"><a href="#8-3-传输编码-3" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-3"><a href="#8-4-802-3Mac层的帧-3" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-3"><a href="#8-5-以太网数据传输的特点-3" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-3"><a href="#8-6-以太网接口实现的方法-3" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-3"><a href="#8-7-网络编程接口-3" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-3"><a href="#8-8-例题-3" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-3"><a href="#9-CAN总线接口基本原理与结构-3" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-3"><a href="#9-1-CAN总线概述-3" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-3"><a href="#9-2-CAN总线接口-3" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-3"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-3" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-3"><a href="#10-无线以太网基本原理与结构-3" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-3"><a href="#10-1-WLAN简介-3" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-3"><a href="#10-2-WLAN标准-3" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-3"><a href="#11-IEEE-1394接口基本原理与结构-3" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-3"><a href="#11-1-IEEE-1394简介-3" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-3"><a href="#11-2-IEEE-1394的特点-3" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-3"><a href="#11-3-IEEE-1394的协议结构-3" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-3"><a href="#11-4-例题-3" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-3"><a href="#12-总线分类-3" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-3"><a href="#12-1-例题-3" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h4 id="2-2-4-串行通信异步-4"><a href="#2-2-4-串行通信异步-4" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-5"><a href="#第十四章——嵌入式系统总线和通讯接口-5" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-5"><a href="#1-知识点介绍-5" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-5"><a href="#2-串行接口基本原理与结构-5" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-5"><a href="#2-1-串行通信概述-5" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-5"><a href="#2-2-串行通信模式-5" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-5"><a href="#2-2-1-单工-5" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-5"><a href="#2-2-2-半双工-5" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-5"><a href="#2-2-3-全双工-5" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-5"><a href="#2-2-4-串行通信异步-5" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-4"><a href="#2-2-5-波特率和校验位-4" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-4"><a href="#2-2-6-串行异步特点-4" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-4"><a href="#2-2-7-串行通信同步-4" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-4"><a href="#2-2-8-串口同步和异步发送-4" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-4"><a href="#2-3-RS-232C串行接口-4" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-4"><a href="#2-3-1-接口规格-4" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-4"><a href="#2-3-2-接口信号-4" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-4"><a href="#2-3-3-引脚功能-4" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-4"><a href="#2-3-4-连接方式-4" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-4"><a href="#2-4-RS-422串行接口-4" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-4"><a href="#2-5-RS-485串行接口-4" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-4"><a href="#2-6-例题-4" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-4"><a href="#3-并行接口基本原理与结构-4" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-4"><a href="#3-1-并行接口基本概念-4" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-4"><a href="#3-2-并行接口分类-4" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-4"><a href="#3-3-并行总线分类-4" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-4"><a href="#3-4-并行总线IEE488-4" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-4"><a href="#3-5-并行总线SCSI和MXI-4" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-4"><a href="#3-6-例题-4" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-4"><a href="#4-PCI接口基本原理与结构-4" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-4"><a href="#4-1-PCI接口基本结构-4" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-4"><a href="#4-1-1-例题-4" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-4"><a href="#5-USB接口基本原理与结构-4" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-4"><a href="#5-1-热插拔-4" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-4"><a href="#5-2-USB总线的主要性能特点-4" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-4"><a href="#5-3-USB总线的应用-4" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-4"><a href="#5-4-USB总线物理接口-4" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-4"><a href="#5-5-例题-4" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-4"><a href="#6-SPI接口基本原理与结构-4" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-4"><a href="#6-1-SPI接口简介-4" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-4"><a href="#6-2-SPI接口基本原理-4" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-4"><a href="#6-3-SPI接口工作模式-4" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-4"><a href="#6-4-例题-4" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-4"><a href="#7-IIC接口基本原理与结构-4" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-4"><a href="#7-1-IIC接口简介-4" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-4"><a href="#7-2-操作模式-4" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-4"><a href="#7-3-启动信号-4" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-4"><a href="#7-4-读写数据-4" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-4"><a href="#7-5-数据传输格式-4" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-4"><a href="#7-6-应答信号-4" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-4"><a href="#7-7-IIC总线工作原理-4" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-4"><a href="#7-8-例题-4" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-4"><a href="#8-网络接口-4" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-4"><a href="#8-1-以太网接口基本原理与结构-4" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-4"><a href="#8-2-以太网基础知识-4" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-4"><a href="#8-3-传输编码-4" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-4"><a href="#8-4-802-3Mac层的帧-4" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-4"><a href="#8-5-以太网数据传输的特点-4" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-4"><a href="#8-6-以太网接口实现的方法-4" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-4"><a href="#8-7-网络编程接口-4" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-4"><a href="#8-8-例题-4" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-4"><a href="#9-CAN总线接口基本原理与结构-4" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-4"><a href="#9-1-CAN总线概述-4" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-4"><a href="#9-2-CAN总线接口-4" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-4"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-4" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-4"><a href="#10-无线以太网基本原理与结构-4" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-4"><a href="#10-1-WLAN简介-4" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-4"><a href="#10-2-WLAN标准-4" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-4"><a href="#11-IEEE-1394接口基本原理与结构-4" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-4"><a href="#11-1-IEEE-1394简介-4" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-4"><a href="#11-2-IEEE-1394的特点-4" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-4"><a href="#11-3-IEEE-1394的协议结构-4" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-4"><a href="#11-4-例题-4" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-4"><a href="#12-总线分类-4" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-4"><a href="#12-1-例题-4" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-6"><a href="#第十四章——嵌入式系统总线和通讯接口-6" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-6"><a href="#1-知识点介绍-6" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-6"><a href="#2-串行接口基本原理与结构-6" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-6"><a href="#2-1-串行通信概述-6" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-6"><a href="#2-2-串行通信模式-6" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-6"><a href="#2-2-1-单工-6" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-6"><a href="#2-2-2-半双工-6" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-6"><a href="#2-2-3-全双工-6" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-6"><a href="#2-2-4-串行通信异步-6" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-5"><a href="#2-2-5-波特率和校验位-5" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-5"><a href="#2-2-6-串行异步特点-5" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-5"><a href="#2-2-7-串行通信同步-5" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-5"><a href="#2-2-8-串口同步和异步发送-5" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-5"><a href="#2-3-RS-232C串行接口-5" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-5"><a href="#2-3-1-接口规格-5" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-5"><a href="#2-3-2-接口信号-5" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-5"><a href="#2-3-3-引脚功能-5" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-5"><a href="#2-3-4-连接方式-5" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-5"><a href="#2-4-RS-422串行接口-5" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-5"><a href="#2-5-RS-485串行接口-5" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-5"><a href="#2-6-例题-5" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-5"><a href="#3-并行接口基本原理与结构-5" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-5"><a href="#3-1-并行接口基本概念-5" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-5"><a href="#3-2-并行接口分类-5" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-5"><a href="#3-3-并行总线分类-5" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-5"><a href="#3-4-并行总线IEE488-5" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-5"><a href="#3-5-并行总线SCSI和MXI-5" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-5"><a href="#3-6-例题-5" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-5"><a href="#4-PCI接口基本原理与结构-5" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-5"><a href="#4-1-PCI接口基本结构-5" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-5"><a href="#4-1-1-例题-5" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-5"><a href="#5-USB接口基本原理与结构-5" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-5"><a href="#5-1-热插拔-5" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-5"><a href="#5-2-USB总线的主要性能特点-5" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-5"><a href="#5-3-USB总线的应用-5" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-5"><a href="#5-4-USB总线物理接口-5" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-5"><a href="#5-5-例题-5" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-5"><a href="#6-SPI接口基本原理与结构-5" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-5"><a href="#6-1-SPI接口简介-5" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-5"><a href="#6-2-SPI接口基本原理-5" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-5"><a href="#6-3-SPI接口工作模式-5" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-5"><a href="#6-4-例题-5" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-5"><a href="#7-IIC接口基本原理与结构-5" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-5"><a href="#7-1-IIC接口简介-5" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-5"><a href="#7-2-操作模式-5" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-5"><a href="#7-3-启动信号-5" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-5"><a href="#7-4-读写数据-5" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-5"><a href="#7-5-数据传输格式-5" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-5"><a href="#7-6-应答信号-5" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-5"><a href="#7-7-IIC总线工作原理-5" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-5"><a href="#7-8-例题-5" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-5"><a href="#8-网络接口-5" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-5"><a href="#8-1-以太网接口基本原理与结构-5" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-5"><a href="#8-2-以太网基础知识-5" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-5"><a href="#8-3-传输编码-5" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-5"><a href="#8-4-802-3Mac层的帧-5" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-5"><a href="#8-5-以太网数据传输的特点-5" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-5"><a href="#8-6-以太网接口实现的方法-5" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-5"><a href="#8-7-网络编程接口-5" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-5"><a href="#8-8-例题-5" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-5"><a href="#9-CAN总线接口基本原理与结构-5" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-5"><a href="#9-1-CAN总线概述-5" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-5"><a href="#9-2-CAN总线接口-5" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-5"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-5" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-5"><a href="#10-无线以太网基本原理与结构-5" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-5"><a href="#10-1-WLAN简介-5" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-5"><a href="#10-2-WLAN标准-5" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-5"><a href="#11-IEEE-1394接口基本原理与结构-5" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-5"><a href="#11-1-IEEE-1394简介-5" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-5"><a href="#11-2-IEEE-1394的特点-5" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-5"><a href="#11-3-IEEE-1394的协议结构-5" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-5"><a href="#11-4-例题-5" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-5"><a href="#12-总线分类-5" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-5"><a href="#12-1-例题-5" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h4 id="2-2-5-波特率和校验位-6"><a href="#2-2-5-波特率和校验位-6" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-6"><a href="#2-2-6-串行异步特点-6" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-6"><a href="#2-2-7-串行通信同步-6" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-6"><a href="#2-2-8-串口同步和异步发送-6" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><h1 id="第十四章——嵌入式系统总线和通讯接口-7"><a href="#第十四章——嵌入式系统总线和通讯接口-7" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-7"><a href="#1-知识点介绍-7" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-7"><a href="#2-串行接口基本原理与结构-7" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-7"><a href="#2-1-串行通信概述-7" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-7"><a href="#2-2-串行通信模式-7" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-7"><a href="#2-2-1-单工-7" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-7"><a href="#2-2-2-半双工-7" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-7"><a href="#2-2-3-全双工-7" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-7"><a href="#2-2-4-串行通信异步-7" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-7"><a href="#2-2-5-波特率和校验位-7" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-7"><a href="#2-2-6-串行异步特点-7" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-7"><a href="#2-2-7-串行通信同步-7" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-7"><a href="#2-2-8-串口同步和异步发送-7" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-6"><a href="#2-3-RS-232C串行接口-6" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-6"><a href="#2-3-1-接口规格-6" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-6"><a href="#2-3-2-接口信号-6" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-6"><a href="#2-3-3-引脚功能-6" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-6"><a href="#2-3-4-连接方式-6" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-6"><a href="#2-4-RS-422串行接口-6" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-6"><a href="#2-5-RS-485串行接口-6" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-6"><a href="#2-6-例题-6" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-6"><a href="#3-并行接口基本原理与结构-6" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-6"><a href="#3-1-并行接口基本概念-6" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-6"><a href="#3-2-并行接口分类-6" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-6"><a href="#3-3-并行总线分类-6" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-6"><a href="#3-4-并行总线IEE488-6" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-6"><a href="#3-5-并行总线SCSI和MXI-6" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-6"><a href="#3-6-例题-6" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-6"><a href="#4-PCI接口基本原理与结构-6" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-6"><a href="#4-1-PCI接口基本结构-6" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-6"><a href="#4-1-1-例题-6" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-6"><a href="#5-USB接口基本原理与结构-6" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-6"><a href="#5-1-热插拔-6" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-6"><a href="#5-2-USB总线的主要性能特点-6" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-6"><a href="#5-3-USB总线的应用-6" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-6"><a href="#5-4-USB总线物理接口-6" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-6"><a href="#5-5-例题-6" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-6"><a href="#6-SPI接口基本原理与结构-6" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-6"><a href="#6-1-SPI接口简介-6" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-6"><a href="#6-2-SPI接口基本原理-6" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-6"><a href="#6-3-SPI接口工作模式-6" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-6"><a href="#6-4-例题-6" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-6"><a href="#7-IIC接口基本原理与结构-6" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-6"><a href="#7-1-IIC接口简介-6" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-6"><a href="#7-2-操作模式-6" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-6"><a href="#7-3-启动信号-6" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-6"><a href="#7-4-读写数据-6" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-6"><a href="#7-5-数据传输格式-6" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-6"><a href="#7-6-应答信号-6" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-6"><a href="#7-7-IIC总线工作原理-6" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-6"><a href="#7-8-例题-6" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-6"><a href="#8-网络接口-6" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-6"><a href="#8-1-以太网接口基本原理与结构-6" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-6"><a href="#8-2-以太网基础知识-6" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-6"><a href="#8-3-传输编码-6" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-6"><a href="#8-4-802-3Mac层的帧-6" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-6"><a href="#8-5-以太网数据传输的特点-6" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-6"><a href="#8-6-以太网接口实现的方法-6" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-6"><a href="#8-7-网络编程接口-6" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-6"><a href="#8-8-例题-6" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-6"><a href="#9-CAN总线接口基本原理与结构-6" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-6"><a href="#9-1-CAN总线概述-6" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-6"><a href="#9-2-CAN总线接口-6" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-6"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-6" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-6"><a href="#10-无线以太网基本原理与结构-6" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-6"><a href="#10-1-WLAN简介-6" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-6"><a href="#10-2-WLAN标准-6" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-6"><a href="#11-IEEE-1394接口基本原理与结构-6" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-6"><a href="#11-1-IEEE-1394简介-6" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-6"><a href="#11-2-IEEE-1394的特点-6" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-6"><a href="#11-3-IEEE-1394的协议结构-6" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-6"><a href="#11-4-例题-6" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-6"><a href="#12-总线分类-6" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-6"><a href="#12-1-例题-6" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="2-3-RS-232C串行接口-7"><a href="#2-3-RS-232C串行接口-7" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-7"><a href="#2-3-1-接口规格-7" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-7"><a href="#2-3-2-接口信号-7" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-8"><a href="#第十四章——嵌入式系统总线和通讯接口-8" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-8"><a href="#1-知识点介绍-8" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-8"><a href="#2-串行接口基本原理与结构-8" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-8"><a href="#2-1-串行通信概述-8" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-8"><a href="#2-2-串行通信模式-8" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-8"><a href="#2-2-1-单工-8" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-8"><a href="#2-2-2-半双工-8" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-8"><a href="#2-2-3-全双工-8" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-8"><a href="#2-2-4-串行通信异步-8" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-8"><a href="#2-2-5-波特率和校验位-8" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-8"><a href="#2-2-6-串行异步特点-8" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-8"><a href="#2-2-7-串行通信同步-8" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-8"><a href="#2-2-8-串口同步和异步发送-8" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-8"><a href="#2-3-RS-232C串行接口-8" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-8"><a href="#2-3-1-接口规格-8" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-8"><a href="#2-3-2-接口信号-8" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-7"><a href="#2-3-3-引脚功能-7" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-7"><a href="#2-3-4-连接方式-7" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-7"><a href="#2-4-RS-422串行接口-7" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-7"><a href="#2-5-RS-485串行接口-7" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-7"><a href="#2-6-例题-7" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-7"><a href="#3-并行接口基本原理与结构-7" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-7"><a href="#3-1-并行接口基本概念-7" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-7"><a href="#3-2-并行接口分类-7" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-7"><a href="#3-3-并行总线分类-7" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-7"><a href="#3-4-并行总线IEE488-7" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-7"><a href="#3-5-并行总线SCSI和MXI-7" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-7"><a href="#3-6-例题-7" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-7"><a href="#4-PCI接口基本原理与结构-7" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-7"><a href="#4-1-PCI接口基本结构-7" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-7"><a href="#4-1-1-例题-7" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-7"><a href="#5-USB接口基本原理与结构-7" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-7"><a href="#5-1-热插拔-7" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-7"><a href="#5-2-USB总线的主要性能特点-7" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-7"><a href="#5-3-USB总线的应用-7" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-7"><a href="#5-4-USB总线物理接口-7" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-7"><a href="#5-5-例题-7" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-7"><a href="#6-SPI接口基本原理与结构-7" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-7"><a href="#6-1-SPI接口简介-7" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-7"><a href="#6-2-SPI接口基本原理-7" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-7"><a href="#6-3-SPI接口工作模式-7" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-7"><a href="#6-4-例题-7" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-7"><a href="#7-IIC接口基本原理与结构-7" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-7"><a href="#7-1-IIC接口简介-7" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-7"><a href="#7-2-操作模式-7" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-7"><a href="#7-3-启动信号-7" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-7"><a href="#7-4-读写数据-7" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-7"><a href="#7-5-数据传输格式-7" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-7"><a href="#7-6-应答信号-7" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-7"><a href="#7-7-IIC总线工作原理-7" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-7"><a href="#7-8-例题-7" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-7"><a href="#8-网络接口-7" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-7"><a href="#8-1-以太网接口基本原理与结构-7" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-7"><a href="#8-2-以太网基础知识-7" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-7"><a href="#8-3-传输编码-7" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-7"><a href="#8-4-802-3Mac层的帧-7" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-7"><a href="#8-5-以太网数据传输的特点-7" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-7"><a href="#8-6-以太网接口实现的方法-7" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-7"><a href="#8-7-网络编程接口-7" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-7"><a href="#8-8-例题-7" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-7"><a href="#9-CAN总线接口基本原理与结构-7" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-7"><a href="#9-1-CAN总线概述-7" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-7"><a href="#9-2-CAN总线接口-7" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-7"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-7" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-7"><a href="#10-无线以太网基本原理与结构-7" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-7"><a href="#10-1-WLAN简介-7" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-7"><a href="#10-2-WLAN标准-7" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-7"><a href="#11-IEEE-1394接口基本原理与结构-7" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-7"><a href="#11-1-IEEE-1394简介-7" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-7"><a href="#11-2-IEEE-1394的特点-7" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-7"><a href="#11-3-IEEE-1394的协议结构-7" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-7"><a href="#11-4-例题-7" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-7"><a href="#12-总线分类-7" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-7"><a href="#12-1-例题-7" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h4 id="2-3-3-引脚功能-8"><a href="#2-3-3-引脚功能-8" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-8"><a href="#2-3-4-连接方式-8" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-9"><a href="#第十四章——嵌入式系统总线和通讯接口-9" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-9"><a href="#1-知识点介绍-9" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-9"><a href="#2-串行接口基本原理与结构-9" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-9"><a href="#2-1-串行通信概述-9" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-9"><a href="#2-2-串行通信模式-9" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-9"><a href="#2-2-1-单工-9" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-9"><a href="#2-2-2-半双工-9" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-9"><a href="#2-2-3-全双工-9" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-9"><a href="#2-2-4-串行通信异步-9" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-9"><a href="#2-2-5-波特率和校验位-9" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-9"><a href="#2-2-6-串行异步特点-9" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-9"><a href="#2-2-7-串行通信同步-9" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-9"><a href="#2-2-8-串口同步和异步发送-9" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-9"><a href="#2-3-RS-232C串行接口-9" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-9"><a href="#2-3-1-接口规格-9" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-9"><a href="#2-3-2-接口信号-9" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-9"><a href="#2-3-3-引脚功能-9" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-9"><a href="#2-3-4-连接方式-9" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-8"><a href="#2-4-RS-422串行接口-8" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-8"><a href="#2-5-RS-485串行接口-8" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-8"><a href="#2-6-例题-8" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-8"><a href="#3-并行接口基本原理与结构-8" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-8"><a href="#3-1-并行接口基本概念-8" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-8"><a href="#3-2-并行接口分类-8" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-8"><a href="#3-3-并行总线分类-8" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-8"><a href="#3-4-并行总线IEE488-8" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-8"><a href="#3-5-并行总线SCSI和MXI-8" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-8"><a href="#3-6-例题-8" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-8"><a href="#4-PCI接口基本原理与结构-8" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-8"><a href="#4-1-PCI接口基本结构-8" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-8"><a href="#4-1-1-例题-8" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-8"><a href="#5-USB接口基本原理与结构-8" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-8"><a href="#5-1-热插拔-8" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-8"><a href="#5-2-USB总线的主要性能特点-8" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-8"><a href="#5-3-USB总线的应用-8" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-8"><a href="#5-4-USB总线物理接口-8" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-8"><a href="#5-5-例题-8" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-8"><a href="#6-SPI接口基本原理与结构-8" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-8"><a href="#6-1-SPI接口简介-8" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-8"><a href="#6-2-SPI接口基本原理-8" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-8"><a href="#6-3-SPI接口工作模式-8" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-8"><a href="#6-4-例题-8" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-8"><a href="#7-IIC接口基本原理与结构-8" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-8"><a href="#7-1-IIC接口简介-8" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-8"><a href="#7-2-操作模式-8" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-8"><a href="#7-3-启动信号-8" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-8"><a href="#7-4-读写数据-8" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-8"><a href="#7-5-数据传输格式-8" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-8"><a href="#7-6-应答信号-8" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-8"><a href="#7-7-IIC总线工作原理-8" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-8"><a href="#7-8-例题-8" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-8"><a href="#8-网络接口-8" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-8"><a href="#8-1-以太网接口基本原理与结构-8" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-8"><a href="#8-2-以太网基础知识-8" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-8"><a href="#8-3-传输编码-8" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-8"><a href="#8-4-802-3Mac层的帧-8" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-8"><a href="#8-5-以太网数据传输的特点-8" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-8"><a href="#8-6-以太网接口实现的方法-8" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-8"><a href="#8-7-网络编程接口-8" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-8"><a href="#8-8-例题-8" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-8"><a href="#9-CAN总线接口基本原理与结构-8" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-8"><a href="#9-1-CAN总线概述-8" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-8"><a href="#9-2-CAN总线接口-8" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-8"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-8" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-8"><a href="#10-无线以太网基本原理与结构-8" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-8"><a href="#10-1-WLAN简介-8" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-8"><a href="#10-2-WLAN标准-8" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-8"><a href="#11-IEEE-1394接口基本原理与结构-8" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-8"><a href="#11-1-IEEE-1394简介-8" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-8"><a href="#11-2-IEEE-1394的特点-8" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-8"><a href="#11-3-IEEE-1394的协议结构-8" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-8"><a href="#11-4-例题-8" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-8"><a href="#12-总线分类-8" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-8"><a href="#12-1-例题-8" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="2-4-RS-422串行接口-9"><a href="#2-4-RS-422串行接口-9" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-10"><a href="#第十四章——嵌入式系统总线和通讯接口-10" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-10"><a href="#1-知识点介绍-10" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-10"><a href="#2-串行接口基本原理与结构-10" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-10"><a href="#2-1-串行通信概述-10" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-10"><a href="#2-2-串行通信模式-10" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-10"><a href="#2-2-1-单工-10" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-10"><a href="#2-2-2-半双工-10" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-10"><a href="#2-2-3-全双工-10" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-10"><a href="#2-2-4-串行通信异步-10" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-10"><a href="#2-2-5-波特率和校验位-10" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-10"><a href="#2-2-6-串行异步特点-10" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-10"><a href="#2-2-7-串行通信同步-10" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-10"><a href="#2-2-8-串口同步和异步发送-10" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-10"><a href="#2-3-RS-232C串行接口-10" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-10"><a href="#2-3-1-接口规格-10" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-10"><a href="#2-3-2-接口信号-10" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-10"><a href="#2-3-3-引脚功能-10" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-10"><a href="#2-3-4-连接方式-10" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-10"><a href="#2-4-RS-422串行接口-10" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-9"><a href="#2-5-RS-485串行接口-9" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-9"><a href="#2-6-例题-9" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-9"><a href="#3-并行接口基本原理与结构-9" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-9"><a href="#3-1-并行接口基本概念-9" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-9"><a href="#3-2-并行接口分类-9" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-9"><a href="#3-3-并行总线分类-9" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-9"><a href="#3-4-并行总线IEE488-9" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-9"><a href="#3-5-并行总线SCSI和MXI-9" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-9"><a href="#3-6-例题-9" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-9"><a href="#4-PCI接口基本原理与结构-9" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-9"><a href="#4-1-PCI接口基本结构-9" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-9"><a href="#4-1-1-例题-9" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-9"><a href="#5-USB接口基本原理与结构-9" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-9"><a href="#5-1-热插拔-9" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-9"><a href="#5-2-USB总线的主要性能特点-9" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-9"><a href="#5-3-USB总线的应用-9" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-9"><a href="#5-4-USB总线物理接口-9" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-9"><a href="#5-5-例题-9" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-9"><a href="#6-SPI接口基本原理与结构-9" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-9"><a href="#6-1-SPI接口简介-9" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-9"><a href="#6-2-SPI接口基本原理-9" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-9"><a href="#6-3-SPI接口工作模式-9" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-9"><a href="#6-4-例题-9" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-9"><a href="#7-IIC接口基本原理与结构-9" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-9"><a href="#7-1-IIC接口简介-9" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-9"><a href="#7-2-操作模式-9" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-9"><a href="#7-3-启动信号-9" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-9"><a href="#7-4-读写数据-9" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-9"><a href="#7-5-数据传输格式-9" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-9"><a href="#7-6-应答信号-9" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-9"><a href="#7-7-IIC总线工作原理-9" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-9"><a href="#7-8-例题-9" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-9"><a href="#8-网络接口-9" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-9"><a href="#8-1-以太网接口基本原理与结构-9" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-9"><a href="#8-2-以太网基础知识-9" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-9"><a href="#8-3-传输编码-9" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-9"><a href="#8-4-802-3Mac层的帧-9" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-9"><a href="#8-5-以太网数据传输的特点-9" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-9"><a href="#8-6-以太网接口实现的方法-9" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-9"><a href="#8-7-网络编程接口-9" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-9"><a href="#8-8-例题-9" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-9"><a href="#9-CAN总线接口基本原理与结构-9" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-9"><a href="#9-1-CAN总线概述-9" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-9"><a href="#9-2-CAN总线接口-9" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-9"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-9" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-9"><a href="#10-无线以太网基本原理与结构-9" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-9"><a href="#10-1-WLAN简介-9" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-9"><a href="#10-2-WLAN标准-9" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-9"><a href="#11-IEEE-1394接口基本原理与结构-9" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-9"><a href="#11-1-IEEE-1394简介-9" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-9"><a href="#11-2-IEEE-1394的特点-9" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-9"><a href="#11-3-IEEE-1394的协议结构-9" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-9"><a href="#11-4-例题-9" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-9"><a href="#12-总线分类-9" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-9"><a href="#12-1-例题-9" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-10"><a href="#2-5-RS-485串行接口-10" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-11"><a href="#第十四章——嵌入式系统总线和通讯接口-11" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-11"><a href="#1-知识点介绍-11" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-11"><a href="#2-串行接口基本原理与结构-11" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-11"><a href="#2-1-串行通信概述-11" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-11"><a href="#2-2-串行通信模式-11" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-11"><a href="#2-2-1-单工-11" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-11"><a href="#2-2-2-半双工-11" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-11"><a href="#2-2-3-全双工-11" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-11"><a href="#2-2-4-串行通信异步-11" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-11"><a href="#2-2-5-波特率和校验位-11" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-11"><a href="#2-2-6-串行异步特点-11" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-11"><a href="#2-2-7-串行通信同步-11" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-11"><a href="#2-2-8-串口同步和异步发送-11" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-11"><a href="#2-3-RS-232C串行接口-11" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-11"><a href="#2-3-1-接口规格-11" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-11"><a href="#2-3-2-接口信号-11" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-11"><a href="#2-3-3-引脚功能-11" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-11"><a href="#2-3-4-连接方式-11" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-11"><a href="#2-4-RS-422串行接口-11" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-11"><a href="#2-5-RS-485串行接口-11" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-10"><a href="#2-6-例题-10" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-10"><a href="#3-并行接口基本原理与结构-10" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-10"><a href="#3-1-并行接口基本概念-10" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-10"><a href="#3-2-并行接口分类-10" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-10"><a href="#3-3-并行总线分类-10" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-10"><a href="#3-4-并行总线IEE488-10" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-10"><a href="#3-5-并行总线SCSI和MXI-10" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-10"><a href="#3-6-例题-10" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-10"><a href="#4-PCI接口基本原理与结构-10" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-10"><a href="#4-1-PCI接口基本结构-10" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-10"><a href="#4-1-1-例题-10" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-10"><a href="#5-USB接口基本原理与结构-10" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-10"><a href="#5-1-热插拔-10" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-10"><a href="#5-2-USB总线的主要性能特点-10" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-10"><a href="#5-3-USB总线的应用-10" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-10"><a href="#5-4-USB总线物理接口-10" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-10"><a href="#5-5-例题-10" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-10"><a href="#6-SPI接口基本原理与结构-10" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-10"><a href="#6-1-SPI接口简介-10" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-10"><a href="#6-2-SPI接口基本原理-10" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-10"><a href="#6-3-SPI接口工作模式-10" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-10"><a href="#6-4-例题-10" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-10"><a href="#7-IIC接口基本原理与结构-10" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-10"><a href="#7-1-IIC接口简介-10" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-10"><a href="#7-2-操作模式-10" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-10"><a href="#7-3-启动信号-10" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-10"><a href="#7-4-读写数据-10" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-10"><a href="#7-5-数据传输格式-10" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-10"><a href="#7-6-应答信号-10" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-10"><a href="#7-7-IIC总线工作原理-10" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-10"><a href="#7-8-例题-10" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-10"><a href="#8-网络接口-10" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-10"><a href="#8-1-以太网接口基本原理与结构-10" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-10"><a href="#8-2-以太网基础知识-10" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-10"><a href="#8-3-传输编码-10" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-10"><a href="#8-4-802-3Mac层的帧-10" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-10"><a href="#8-5-以太网数据传输的特点-10" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-10"><a href="#8-6-以太网接口实现的方法-10" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-10"><a href="#8-7-网络编程接口-10" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-10"><a href="#8-8-例题-10" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-10"><a href="#9-CAN总线接口基本原理与结构-10" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-10"><a href="#9-1-CAN总线概述-10" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-10"><a href="#9-2-CAN总线接口-10" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-10"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-10" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-10"><a href="#10-无线以太网基本原理与结构-10" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-10"><a href="#10-1-WLAN简介-10" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-10"><a href="#10-2-WLAN标准-10" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-10"><a href="#11-IEEE-1394接口基本原理与结构-10" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-10"><a href="#11-1-IEEE-1394简介-10" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-10"><a href="#11-2-IEEE-1394的特点-10" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-10"><a href="#11-3-IEEE-1394的协议结构-10" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-10"><a href="#11-4-例题-10" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-10"><a href="#12-总线分类-10" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-10"><a href="#12-1-例题-10" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-11"><a href="#2-6-例题-11" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-12"><a href="#第十四章——嵌入式系统总线和通讯接口-12" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-12"><a href="#1-知识点介绍-12" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-12"><a href="#2-串行接口基本原理与结构-12" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-12"><a href="#2-1-串行通信概述-12" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-12"><a href="#2-2-串行通信模式-12" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-12"><a href="#2-2-1-单工-12" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-12"><a href="#2-2-2-半双工-12" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-12"><a href="#2-2-3-全双工-12" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-12"><a href="#2-2-4-串行通信异步-12" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-12"><a href="#2-2-5-波特率和校验位-12" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-12"><a href="#2-2-6-串行异步特点-12" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-12"><a href="#2-2-7-串行通信同步-12" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-12"><a href="#2-2-8-串口同步和异步发送-12" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-12"><a href="#2-3-RS-232C串行接口-12" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-12"><a href="#2-3-1-接口规格-12" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-12"><a href="#2-3-2-接口信号-12" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-12"><a href="#2-3-3-引脚功能-12" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-12"><a href="#2-3-4-连接方式-12" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-12"><a href="#2-4-RS-422串行接口-12" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-12"><a href="#2-5-RS-485串行接口-12" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-12"><a href="#2-6-例题-12" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-11"><a href="#3-并行接口基本原理与结构-11" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-11"><a href="#3-1-并行接口基本概念-11" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-11"><a href="#3-2-并行接口分类-11" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-11"><a href="#3-3-并行总线分类-11" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-11"><a href="#3-4-并行总线IEE488-11" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-11"><a href="#3-5-并行总线SCSI和MXI-11" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-11"><a href="#3-6-例题-11" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-11"><a href="#4-PCI接口基本原理与结构-11" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-11"><a href="#4-1-PCI接口基本结构-11" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-11"><a href="#4-1-1-例题-11" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-11"><a href="#5-USB接口基本原理与结构-11" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-11"><a href="#5-1-热插拔-11" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-11"><a href="#5-2-USB总线的主要性能特点-11" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-11"><a href="#5-3-USB总线的应用-11" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-11"><a href="#5-4-USB总线物理接口-11" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-11"><a href="#5-5-例题-11" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-11"><a href="#6-SPI接口基本原理与结构-11" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-11"><a href="#6-1-SPI接口简介-11" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-11"><a href="#6-2-SPI接口基本原理-11" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-11"><a href="#6-3-SPI接口工作模式-11" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-11"><a href="#6-4-例题-11" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-11"><a href="#7-IIC接口基本原理与结构-11" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-11"><a href="#7-1-IIC接口简介-11" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-11"><a href="#7-2-操作模式-11" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-11"><a href="#7-3-启动信号-11" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-11"><a href="#7-4-读写数据-11" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-11"><a href="#7-5-数据传输格式-11" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-11"><a href="#7-6-应答信号-11" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-11"><a href="#7-7-IIC总线工作原理-11" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-11"><a href="#7-8-例题-11" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-11"><a href="#8-网络接口-11" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-11"><a href="#8-1-以太网接口基本原理与结构-11" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-11"><a href="#8-2-以太网基础知识-11" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-11"><a href="#8-3-传输编码-11" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-11"><a href="#8-4-802-3Mac层的帧-11" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-11"><a href="#8-5-以太网数据传输的特点-11" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-11"><a href="#8-6-以太网接口实现的方法-11" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-11"><a href="#8-7-网络编程接口-11" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-11"><a href="#8-8-例题-11" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-11"><a href="#9-CAN总线接口基本原理与结构-11" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-11"><a href="#9-1-CAN总线概述-11" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-11"><a href="#9-2-CAN总线接口-11" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-11"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-11" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-11"><a href="#10-无线以太网基本原理与结构-11" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-11"><a href="#10-1-WLAN简介-11" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-11"><a href="#10-2-WLAN标准-11" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-11"><a href="#11-IEEE-1394接口基本原理与结构-11" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-11"><a href="#11-1-IEEE-1394简介-11" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-11"><a href="#11-2-IEEE-1394的特点-11" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-11"><a href="#11-3-IEEE-1394的协议结构-11" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-11"><a href="#11-4-例题-11" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-11"><a href="#12-总线分类-11" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-11"><a href="#12-1-例题-11" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h2 id="3-并行接口基本原理与结构-12"><a href="#3-并行接口基本原理与结构-12" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-12"><a href="#3-1-并行接口基本概念-12" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-13"><a href="#第十四章——嵌入式系统总线和通讯接口-13" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-13"><a href="#1-知识点介绍-13" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-13"><a href="#2-串行接口基本原理与结构-13" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-13"><a href="#2-1-串行通信概述-13" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-13"><a href="#2-2-串行通信模式-13" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-13"><a href="#2-2-1-单工-13" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-13"><a href="#2-2-2-半双工-13" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-13"><a href="#2-2-3-全双工-13" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-13"><a href="#2-2-4-串行通信异步-13" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-13"><a href="#2-2-5-波特率和校验位-13" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-13"><a href="#2-2-6-串行异步特点-13" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-13"><a href="#2-2-7-串行通信同步-13" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-13"><a href="#2-2-8-串口同步和异步发送-13" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-13"><a href="#2-3-RS-232C串行接口-13" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-13"><a href="#2-3-1-接口规格-13" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-13"><a href="#2-3-2-接口信号-13" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-13"><a href="#2-3-3-引脚功能-13" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-13"><a href="#2-3-4-连接方式-13" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-13"><a href="#2-4-RS-422串行接口-13" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-13"><a href="#2-5-RS-485串行接口-13" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-13"><a href="#2-6-例题-13" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-13"><a href="#3-并行接口基本原理与结构-13" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-13"><a href="#3-1-并行接口基本概念-13" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-12"><a href="#3-2-并行接口分类-12" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-12"><a href="#3-3-并行总线分类-12" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-12"><a href="#3-4-并行总线IEE488-12" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-12"><a href="#3-5-并行总线SCSI和MXI-12" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-12"><a href="#3-6-例题-12" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-12"><a href="#4-PCI接口基本原理与结构-12" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-12"><a href="#4-1-PCI接口基本结构-12" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-12"><a href="#4-1-1-例题-12" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-12"><a href="#5-USB接口基本原理与结构-12" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-12"><a href="#5-1-热插拔-12" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-12"><a href="#5-2-USB总线的主要性能特点-12" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-12"><a href="#5-3-USB总线的应用-12" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-12"><a href="#5-4-USB总线物理接口-12" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-12"><a href="#5-5-例题-12" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-12"><a href="#6-SPI接口基本原理与结构-12" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-12"><a href="#6-1-SPI接口简介-12" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-12"><a href="#6-2-SPI接口基本原理-12" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-12"><a href="#6-3-SPI接口工作模式-12" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-12"><a href="#6-4-例题-12" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-12"><a href="#7-IIC接口基本原理与结构-12" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-12"><a href="#7-1-IIC接口简介-12" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-12"><a href="#7-2-操作模式-12" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-12"><a href="#7-3-启动信号-12" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-12"><a href="#7-4-读写数据-12" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-12"><a href="#7-5-数据传输格式-12" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-12"><a href="#7-6-应答信号-12" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-12"><a href="#7-7-IIC总线工作原理-12" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-12"><a href="#7-8-例题-12" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-12"><a href="#8-网络接口-12" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-12"><a href="#8-1-以太网接口基本原理与结构-12" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-12"><a href="#8-2-以太网基础知识-12" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-12"><a href="#8-3-传输编码-12" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-12"><a href="#8-4-802-3Mac层的帧-12" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-12"><a href="#8-5-以太网数据传输的特点-12" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-12"><a href="#8-6-以太网接口实现的方法-12" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-12"><a href="#8-7-网络编程接口-12" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-12"><a href="#8-8-例题-12" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-12"><a href="#9-CAN总线接口基本原理与结构-12" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-12"><a href="#9-1-CAN总线概述-12" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-12"><a href="#9-2-CAN总线接口-12" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-12"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-12" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-12"><a href="#10-无线以太网基本原理与结构-12" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-12"><a href="#10-1-WLAN简介-12" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-12"><a href="#10-2-WLAN标准-12" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-12"><a href="#11-IEEE-1394接口基本原理与结构-12" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-12"><a href="#11-1-IEEE-1394简介-12" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-12"><a href="#11-2-IEEE-1394的特点-12" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-12"><a href="#11-3-IEEE-1394的协议结构-12" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-12"><a href="#11-4-例题-12" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-12"><a href="#12-总线分类-12" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-12"><a href="#12-1-例题-12" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-13"><a href="#3-2-并行接口分类-13" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-13"><a href="#3-3-并行总线分类-13" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-13"><a href="#3-4-并行总线IEE488-13" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-13"><a href="#3-5-并行总线SCSI和MXI-13" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-13"><a href="#3-6-例题-13" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-13"><a href="#4-PCI接口基本原理与结构-13" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-13"><a href="#4-1-PCI接口基本结构-13" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-13"><a href="#4-1-1-例题-13" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-13"><a href="#5-USB接口基本原理与结构-13" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-13"><a href="#5-1-热插拔-13" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-13"><a href="#5-2-USB总线的主要性能特点-13" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-14"><a href="#第十四章——嵌入式系统总线和通讯接口-14" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-14"><a href="#1-知识点介绍-14" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-14"><a href="#2-串行接口基本原理与结构-14" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-14"><a href="#2-1-串行通信概述-14" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-14"><a href="#2-2-串行通信模式-14" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-14"><a href="#2-2-1-单工-14" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-14"><a href="#2-2-2-半双工-14" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-14"><a href="#2-2-3-全双工-14" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-14"><a href="#2-2-4-串行通信异步-14" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-14"><a href="#2-2-5-波特率和校验位-14" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-14"><a href="#2-2-6-串行异步特点-14" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-14"><a href="#2-2-7-串行通信同步-14" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-14"><a href="#2-2-8-串口同步和异步发送-14" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-14"><a href="#2-3-RS-232C串行接口-14" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-14"><a href="#2-3-1-接口规格-14" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-14"><a href="#2-3-2-接口信号-14" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-14"><a href="#2-3-3-引脚功能-14" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-14"><a href="#2-3-4-连接方式-14" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-14"><a href="#2-4-RS-422串行接口-14" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-14"><a href="#2-5-RS-485串行接口-14" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-14"><a href="#2-6-例题-14" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-14"><a href="#3-并行接口基本原理与结构-14" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-14"><a href="#3-1-并行接口基本概念-14" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-14"><a href="#3-2-并行接口分类-14" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-14"><a href="#3-3-并行总线分类-14" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-14"><a href="#3-4-并行总线IEE488-14" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-14"><a href="#3-5-并行总线SCSI和MXI-14" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-14"><a href="#3-6-例题-14" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-14"><a href="#4-PCI接口基本原理与结构-14" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-14"><a href="#4-1-PCI接口基本结构-14" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-14"><a href="#4-1-1-例题-14" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-14"><a href="#5-USB接口基本原理与结构-14" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-14"><a href="#5-1-热插拔-14" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-14"><a href="#5-2-USB总线的主要性能特点-14" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-13"><a href="#5-3-USB总线的应用-13" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-13"><a href="#5-4-USB总线物理接口-13" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-13"><a href="#5-5-例题-13" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-13"><a href="#6-SPI接口基本原理与结构-13" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-13"><a href="#6-1-SPI接口简介-13" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-13"><a href="#6-2-SPI接口基本原理-13" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-13"><a href="#6-3-SPI接口工作模式-13" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-13"><a href="#6-4-例题-13" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-13"><a href="#7-IIC接口基本原理与结构-13" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-13"><a href="#7-1-IIC接口简介-13" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-13"><a href="#7-2-操作模式-13" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-13"><a href="#7-3-启动信号-13" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-13"><a href="#7-4-读写数据-13" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-13"><a href="#7-5-数据传输格式-13" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-13"><a href="#7-6-应答信号-13" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-13"><a href="#7-7-IIC总线工作原理-13" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-13"><a href="#7-8-例题-13" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-13"><a href="#8-网络接口-13" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-13"><a href="#8-1-以太网接口基本原理与结构-13" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-13"><a href="#8-2-以太网基础知识-13" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-13"><a href="#8-3-传输编码-13" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-13"><a href="#8-4-802-3Mac层的帧-13" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-13"><a href="#8-5-以太网数据传输的特点-13" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-13"><a href="#8-6-以太网接口实现的方法-13" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-13"><a href="#8-7-网络编程接口-13" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-13"><a href="#8-8-例题-13" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-13"><a href="#9-CAN总线接口基本原理与结构-13" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-13"><a href="#9-1-CAN总线概述-13" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-13"><a href="#9-2-CAN总线接口-13" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-13"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-13" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-13"><a href="#10-无线以太网基本原理与结构-13" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-13"><a href="#10-1-WLAN简介-13" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-13"><a href="#10-2-WLAN标准-13" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-13"><a href="#11-IEEE-1394接口基本原理与结构-13" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-13"><a href="#11-1-IEEE-1394简介-13" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-13"><a href="#11-2-IEEE-1394的特点-13" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-13"><a href="#11-3-IEEE-1394的协议结构-13" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-13"><a href="#11-4-例题-13" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-13"><a href="#12-总线分类-13" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-13"><a href="#12-1-例题-13" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-14"><a href="#5-3-USB总线的应用-14" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><h1 id="第十四章——嵌入式系统总线和通讯接口-15"><a href="#第十四章——嵌入式系统总线和通讯接口-15" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-15"><a href="#1-知识点介绍-15" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-15"><a href="#2-串行接口基本原理与结构-15" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-15"><a href="#2-1-串行通信概述-15" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-15"><a href="#2-2-串行通信模式-15" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-15"><a href="#2-2-1-单工-15" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-15"><a href="#2-2-2-半双工-15" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-15"><a href="#2-2-3-全双工-15" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-15"><a href="#2-2-4-串行通信异步-15" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-15"><a href="#2-2-5-波特率和校验位-15" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-15"><a href="#2-2-6-串行异步特点-15" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-15"><a href="#2-2-7-串行通信同步-15" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-15"><a href="#2-2-8-串口同步和异步发送-15" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-15"><a href="#2-3-RS-232C串行接口-15" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-15"><a href="#2-3-1-接口规格-15" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-15"><a href="#2-3-2-接口信号-15" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-15"><a href="#2-3-3-引脚功能-15" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-15"><a href="#2-3-4-连接方式-15" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-15"><a href="#2-4-RS-422串行接口-15" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-15"><a href="#2-5-RS-485串行接口-15" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-15"><a href="#2-6-例题-15" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-15"><a href="#3-并行接口基本原理与结构-15" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-15"><a href="#3-1-并行接口基本概念-15" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-15"><a href="#3-2-并行接口分类-15" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-15"><a href="#3-3-并行总线分类-15" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-15"><a href="#3-4-并行总线IEE488-15" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-15"><a href="#3-5-并行总线SCSI和MXI-15" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-15"><a href="#3-6-例题-15" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-15"><a href="#4-PCI接口基本原理与结构-15" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-15"><a href="#4-1-PCI接口基本结构-15" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-15"><a href="#4-1-1-例题-15" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-15"><a href="#5-USB接口基本原理与结构-15" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-15"><a href="#5-1-热插拔-15" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-15"><a href="#5-2-USB总线的主要性能特点-15" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-15"><a href="#5-3-USB总线的应用-15" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-14"><a href="#5-4-USB总线物理接口-14" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-14"><a href="#5-5-例题-14" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-14"><a href="#6-SPI接口基本原理与结构-14" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-14"><a href="#6-1-SPI接口简介-14" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-14"><a href="#6-2-SPI接口基本原理-14" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-14"><a href="#6-3-SPI接口工作模式-14" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-14"><a href="#6-4-例题-14" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-14"><a href="#7-IIC接口基本原理与结构-14" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-14"><a href="#7-1-IIC接口简介-14" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-14"><a href="#7-2-操作模式-14" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-14"><a href="#7-3-启动信号-14" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-14"><a href="#7-4-读写数据-14" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-14"><a href="#7-5-数据传输格式-14" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-14"><a href="#7-6-应答信号-14" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-14"><a href="#7-7-IIC总线工作原理-14" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-14"><a href="#7-8-例题-14" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-14"><a href="#8-网络接口-14" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-14"><a href="#8-1-以太网接口基本原理与结构-14" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-14"><a href="#8-2-以太网基础知识-14" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-14"><a href="#8-3-传输编码-14" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-14"><a href="#8-4-802-3Mac层的帧-14" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-14"><a href="#8-5-以太网数据传输的特点-14" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-14"><a href="#8-6-以太网接口实现的方法-14" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-14"><a href="#8-7-网络编程接口-14" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-14"><a href="#8-8-例题-14" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-14"><a href="#9-CAN总线接口基本原理与结构-14" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-14"><a href="#9-1-CAN总线概述-14" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-14"><a href="#9-2-CAN总线接口-14" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-14"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-14" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-14"><a href="#10-无线以太网基本原理与结构-14" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-14"><a href="#10-1-WLAN简介-14" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-14"><a href="#10-2-WLAN标准-14" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-14"><a href="#11-IEEE-1394接口基本原理与结构-14" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-14"><a href="#11-1-IEEE-1394简介-14" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-14"><a href="#11-2-IEEE-1394的特点-14" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-14"><a href="#11-3-IEEE-1394的协议结构-14" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-14"><a href="#11-4-例题-14" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-14"><a href="#12-总线分类-14" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-14"><a href="#12-1-例题-14" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="5-4-USB总线物理接口-15"><a href="#5-4-USB总线物理接口-15" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-16"><a href="#第十四章——嵌入式系统总线和通讯接口-16" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-16"><a href="#1-知识点介绍-16" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-16"><a href="#2-串行接口基本原理与结构-16" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-16"><a href="#2-1-串行通信概述-16" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-16"><a href="#2-2-串行通信模式-16" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-16"><a href="#2-2-1-单工-16" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-16"><a href="#2-2-2-半双工-16" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-16"><a href="#2-2-3-全双工-16" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-16"><a href="#2-2-4-串行通信异步-16" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-16"><a href="#2-2-5-波特率和校验位-16" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-16"><a href="#2-2-6-串行异步特点-16" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-16"><a href="#2-2-7-串行通信同步-16" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-16"><a href="#2-2-8-串口同步和异步发送-16" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-16"><a href="#2-3-RS-232C串行接口-16" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-16"><a href="#2-3-1-接口规格-16" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-16"><a href="#2-3-2-接口信号-16" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-16"><a href="#2-3-3-引脚功能-16" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-16"><a href="#2-3-4-连接方式-16" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-16"><a href="#2-4-RS-422串行接口-16" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-16"><a href="#2-5-RS-485串行接口-16" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-16"><a href="#2-6-例题-16" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-16"><a href="#3-并行接口基本原理与结构-16" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-16"><a href="#3-1-并行接口基本概念-16" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-16"><a href="#3-2-并行接口分类-16" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-16"><a href="#3-3-并行总线分类-16" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-16"><a href="#3-4-并行总线IEE488-16" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-16"><a href="#3-5-并行总线SCSI和MXI-16" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-16"><a href="#3-6-例题-16" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-16"><a href="#4-PCI接口基本原理与结构-16" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-16"><a href="#4-1-PCI接口基本结构-16" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-16"><a href="#4-1-1-例题-16" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-16"><a href="#5-USB接口基本原理与结构-16" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-16"><a href="#5-1-热插拔-16" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-16"><a href="#5-2-USB总线的主要性能特点-16" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-16"><a href="#5-3-USB总线的应用-16" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-16"><a href="#5-4-USB总线物理接口-16" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-15"><a href="#5-5-例题-15" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-15"><a href="#6-SPI接口基本原理与结构-15" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-15"><a href="#6-1-SPI接口简介-15" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-15"><a href="#6-2-SPI接口基本原理-15" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-15"><a href="#6-3-SPI接口工作模式-15" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-15"><a href="#6-4-例题-15" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-15"><a href="#7-IIC接口基本原理与结构-15" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-15"><a href="#7-1-IIC接口简介-15" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-15"><a href="#7-2-操作模式-15" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-15"><a href="#7-3-启动信号-15" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-15"><a href="#7-4-读写数据-15" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-15"><a href="#7-5-数据传输格式-15" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-15"><a href="#7-6-应答信号-15" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-15"><a href="#7-7-IIC总线工作原理-15" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-15"><a href="#7-8-例题-15" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-15"><a href="#8-网络接口-15" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-15"><a href="#8-1-以太网接口基本原理与结构-15" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-15"><a href="#8-2-以太网基础知识-15" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-15"><a href="#8-3-传输编码-15" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-15"><a href="#8-4-802-3Mac层的帧-15" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-15"><a href="#8-5-以太网数据传输的特点-15" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-15"><a href="#8-6-以太网接口实现的方法-15" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-15"><a href="#8-7-网络编程接口-15" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-15"><a href="#8-8-例题-15" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-15"><a href="#9-CAN总线接口基本原理与结构-15" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-15"><a href="#9-1-CAN总线概述-15" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-15"><a href="#9-2-CAN总线接口-15" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-15"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-15" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-15"><a href="#10-无线以太网基本原理与结构-15" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-15"><a href="#10-1-WLAN简介-15" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-15"><a href="#10-2-WLAN标准-15" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-15"><a href="#11-IEEE-1394接口基本原理与结构-15" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-15"><a href="#11-1-IEEE-1394简介-15" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-15"><a href="#11-2-IEEE-1394的特点-15" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-15"><a href="#11-3-IEEE-1394的协议结构-15" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-15"><a href="#11-4-例题-15" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-15"><a href="#12-总线分类-15" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-15"><a href="#12-1-例题-15" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-16"><a href="#5-5-例题-16" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-16"><a href="#6-SPI接口基本原理与结构-16" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-16"><a href="#6-1-SPI接口简介-16" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-16"><a href="#6-2-SPI接口基本原理-16" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-17"><a href="#第十四章——嵌入式系统总线和通讯接口-17" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-17"><a href="#1-知识点介绍-17" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-17"><a href="#2-串行接口基本原理与结构-17" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-17"><a href="#2-1-串行通信概述-17" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-17"><a href="#2-2-串行通信模式-17" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-17"><a href="#2-2-1-单工-17" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-17"><a href="#2-2-2-半双工-17" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-17"><a href="#2-2-3-全双工-17" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-17"><a href="#2-2-4-串行通信异步-17" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-17"><a href="#2-2-5-波特率和校验位-17" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-17"><a href="#2-2-6-串行异步特点-17" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-17"><a href="#2-2-7-串行通信同步-17" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-17"><a href="#2-2-8-串口同步和异步发送-17" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-17"><a href="#2-3-RS-232C串行接口-17" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-17"><a href="#2-3-1-接口规格-17" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-17"><a href="#2-3-2-接口信号-17" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-17"><a href="#2-3-3-引脚功能-17" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-17"><a href="#2-3-4-连接方式-17" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-17"><a href="#2-4-RS-422串行接口-17" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-17"><a href="#2-5-RS-485串行接口-17" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-17"><a href="#2-6-例题-17" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-17"><a href="#3-并行接口基本原理与结构-17" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-17"><a href="#3-1-并行接口基本概念-17" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-17"><a href="#3-2-并行接口分类-17" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-17"><a href="#3-3-并行总线分类-17" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-17"><a href="#3-4-并行总线IEE488-17" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-17"><a href="#3-5-并行总线SCSI和MXI-17" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-17"><a href="#3-6-例题-17" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-17"><a href="#4-PCI接口基本原理与结构-17" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-17"><a href="#4-1-PCI接口基本结构-17" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-17"><a href="#4-1-1-例题-17" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-17"><a href="#5-USB接口基本原理与结构-17" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-17"><a href="#5-1-热插拔-17" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-17"><a href="#5-2-USB总线的主要性能特点-17" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-17"><a href="#5-3-USB总线的应用-17" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-17"><a href="#5-4-USB总线物理接口-17" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-17"><a href="#5-5-例题-17" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-17"><a href="#6-SPI接口基本原理与结构-17" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-17"><a href="#6-1-SPI接口简介-17" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-17"><a href="#6-2-SPI接口基本原理-17" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-16"><a href="#6-3-SPI接口工作模式-16" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-16"><a href="#6-4-例题-16" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-16"><a href="#7-IIC接口基本原理与结构-16" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-16"><a href="#7-1-IIC接口简介-16" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-16"><a href="#7-2-操作模式-16" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-16"><a href="#7-3-启动信号-16" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-16"><a href="#7-4-读写数据-16" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-16"><a href="#7-5-数据传输格式-16" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-16"><a href="#7-6-应答信号-16" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-16"><a href="#7-7-IIC总线工作原理-16" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-16"><a href="#7-8-例题-16" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-16"><a href="#8-网络接口-16" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-16"><a href="#8-1-以太网接口基本原理与结构-16" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-16"><a href="#8-2-以太网基础知识-16" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-16"><a href="#8-3-传输编码-16" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-16"><a href="#8-4-802-3Mac层的帧-16" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-16"><a href="#8-5-以太网数据传输的特点-16" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-16"><a href="#8-6-以太网接口实现的方法-16" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-16"><a href="#8-7-网络编程接口-16" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-16"><a href="#8-8-例题-16" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-16"><a href="#9-CAN总线接口基本原理与结构-16" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-16"><a href="#9-1-CAN总线概述-16" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-16"><a href="#9-2-CAN总线接口-16" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-16"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-16" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-16"><a href="#10-无线以太网基本原理与结构-16" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-16"><a href="#10-1-WLAN简介-16" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-16"><a href="#10-2-WLAN标准-16" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-16"><a href="#11-IEEE-1394接口基本原理与结构-16" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-16"><a href="#11-1-IEEE-1394简介-16" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-16"><a href="#11-2-IEEE-1394的特点-16" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-16"><a href="#11-3-IEEE-1394的协议结构-16" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-16"><a href="#11-4-例题-16" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-16"><a href="#12-总线分类-16" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-16"><a href="#12-1-例题-16" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-18"><a href="#第十四章——嵌入式系统总线和通讯接口-18" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-18"><a href="#1-知识点介绍-18" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-18"><a href="#2-串行接口基本原理与结构-18" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-18"><a href="#2-1-串行通信概述-18" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-18"><a href="#2-2-串行通信模式-18" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-18"><a href="#2-2-1-单工-18" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-18"><a href="#2-2-2-半双工-18" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-18"><a href="#2-2-3-全双工-18" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-18"><a href="#2-2-4-串行通信异步-18" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-18"><a href="#2-2-5-波特率和校验位-18" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-18"><a href="#2-2-6-串行异步特点-18" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-18"><a href="#2-2-7-串行通信同步-18" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-18"><a href="#2-2-8-串口同步和异步发送-18" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-18"><a href="#2-3-RS-232C串行接口-18" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-18"><a href="#2-3-1-接口规格-18" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-18"><a href="#2-3-2-接口信号-18" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-18"><a href="#2-3-3-引脚功能-18" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-18"><a href="#2-3-4-连接方式-18" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-18"><a href="#2-4-RS-422串行接口-18" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-18"><a href="#2-5-RS-485串行接口-18" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-18"><a href="#2-6-例题-18" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-18"><a href="#3-并行接口基本原理与结构-18" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-18"><a href="#3-1-并行接口基本概念-18" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-18"><a href="#3-2-并行接口分类-18" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-18"><a href="#3-3-并行总线分类-18" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-18"><a href="#3-4-并行总线IEE488-18" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-18"><a href="#3-5-并行总线SCSI和MXI-18" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-18"><a href="#3-6-例题-18" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-18"><a href="#4-PCI接口基本原理与结构-18" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-18"><a href="#4-1-PCI接口基本结构-18" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-18"><a href="#4-1-1-例题-18" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-18"><a href="#5-USB接口基本原理与结构-18" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-18"><a href="#5-1-热插拔-18" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-18"><a href="#5-2-USB总线的主要性能特点-18" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-18"><a href="#5-3-USB总线的应用-18" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-18"><a href="#5-4-USB总线物理接口-18" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-18"><a href="#5-5-例题-18" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-18"><a href="#6-SPI接口基本原理与结构-18" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-18"><a href="#6-1-SPI接口简介-18" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-18"><a href="#6-2-SPI接口基本原理-18" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-17"><a href="#6-3-SPI接口工作模式-17" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-17"><a href="#6-4-例题-17" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-17"><a href="#7-IIC接口基本原理与结构-17" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-17"><a href="#7-1-IIC接口简介-17" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-17"><a href="#7-2-操作模式-17" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-17"><a href="#7-3-启动信号-17" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-17"><a href="#7-4-读写数据-17" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-17"><a href="#7-5-数据传输格式-17" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-17"><a href="#7-6-应答信号-17" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-17"><a href="#7-7-IIC总线工作原理-17" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-17"><a href="#7-8-例题-17" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-17"><a href="#8-网络接口-17" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-17"><a href="#8-1-以太网接口基本原理与结构-17" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-17"><a href="#8-2-以太网基础知识-17" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-17"><a href="#8-3-传输编码-17" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-17"><a href="#8-4-802-3Mac层的帧-17" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-17"><a href="#8-5-以太网数据传输的特点-17" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-17"><a href="#8-6-以太网接口实现的方法-17" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-17"><a href="#8-7-网络编程接口-17" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-17"><a href="#8-8-例题-17" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-17"><a href="#9-CAN总线接口基本原理与结构-17" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-17"><a href="#9-1-CAN总线概述-17" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-17"><a href="#9-2-CAN总线接口-17" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-17"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-17" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-17"><a href="#10-无线以太网基本原理与结构-17" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-17"><a href="#10-1-WLAN简介-17" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-17"><a href="#10-2-WLAN标准-17" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-17"><a href="#11-IEEE-1394接口基本原理与结构-17" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-17"><a href="#11-1-IEEE-1394简介-17" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-17"><a href="#11-2-IEEE-1394的特点-17" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-17"><a href="#11-3-IEEE-1394的协议结构-17" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-17"><a href="#11-4-例题-17" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-17"><a href="#12-总线分类-17" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-17"><a href="#12-1-例题-17" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="6-3-SPI接口工作模式-18"><a href="#6-3-SPI接口工作模式-18" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-19"><a href="#第十四章——嵌入式系统总线和通讯接口-19" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-19"><a href="#1-知识点介绍-19" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-19"><a href="#2-串行接口基本原理与结构-19" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-19"><a href="#2-1-串行通信概述-19" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-19"><a href="#2-2-串行通信模式-19" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-19"><a href="#2-2-1-单工-19" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-19"><a href="#2-2-2-半双工-19" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-19"><a href="#2-2-3-全双工-19" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-19"><a href="#2-2-4-串行通信异步-19" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-19"><a href="#2-2-5-波特率和校验位-19" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-19"><a href="#2-2-6-串行异步特点-19" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-19"><a href="#2-2-7-串行通信同步-19" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-19"><a href="#2-2-8-串口同步和异步发送-19" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-19"><a href="#2-3-RS-232C串行接口-19" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-19"><a href="#2-3-1-接口规格-19" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-19"><a href="#2-3-2-接口信号-19" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-19"><a href="#2-3-3-引脚功能-19" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-19"><a href="#2-3-4-连接方式-19" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-19"><a href="#2-4-RS-422串行接口-19" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-19"><a href="#2-5-RS-485串行接口-19" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-19"><a href="#2-6-例题-19" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-19"><a href="#3-并行接口基本原理与结构-19" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-19"><a href="#3-1-并行接口基本概念-19" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-19"><a href="#3-2-并行接口分类-19" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-19"><a href="#3-3-并行总线分类-19" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-19"><a href="#3-4-并行总线IEE488-19" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-19"><a href="#3-5-并行总线SCSI和MXI-19" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-19"><a href="#3-6-例题-19" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-19"><a href="#4-PCI接口基本原理与结构-19" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-19"><a href="#4-1-PCI接口基本结构-19" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-19"><a href="#4-1-1-例题-19" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-19"><a href="#5-USB接口基本原理与结构-19" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-19"><a href="#5-1-热插拔-19" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-19"><a href="#5-2-USB总线的主要性能特点-19" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-19"><a href="#5-3-USB总线的应用-19" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-19"><a href="#5-4-USB总线物理接口-19" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-19"><a href="#5-5-例题-19" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-19"><a href="#6-SPI接口基本原理与结构-19" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-19"><a href="#6-1-SPI接口简介-19" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-19"><a href="#6-2-SPI接口基本原理-19" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-19"><a href="#6-3-SPI接口工作模式-19" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-18"><a href="#6-4-例题-18" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-18"><a href="#7-IIC接口基本原理与结构-18" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-18"><a href="#7-1-IIC接口简介-18" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-18"><a href="#7-2-操作模式-18" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-18"><a href="#7-3-启动信号-18" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-18"><a href="#7-4-读写数据-18" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-18"><a href="#7-5-数据传输格式-18" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-18"><a href="#7-6-应答信号-18" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-18"><a href="#7-7-IIC总线工作原理-18" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-18"><a href="#7-8-例题-18" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-18"><a href="#8-网络接口-18" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-18"><a href="#8-1-以太网接口基本原理与结构-18" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-18"><a href="#8-2-以太网基础知识-18" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-18"><a href="#8-3-传输编码-18" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-18"><a href="#8-4-802-3Mac层的帧-18" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-18"><a href="#8-5-以太网数据传输的特点-18" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-18"><a href="#8-6-以太网接口实现的方法-18" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-18"><a href="#8-7-网络编程接口-18" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-18"><a href="#8-8-例题-18" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-18"><a href="#9-CAN总线接口基本原理与结构-18" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-18"><a href="#9-1-CAN总线概述-18" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-18"><a href="#9-2-CAN总线接口-18" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-18"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-18" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-18"><a href="#10-无线以太网基本原理与结构-18" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-18"><a href="#10-1-WLAN简介-18" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-18"><a href="#10-2-WLAN标准-18" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-18"><a href="#11-IEEE-1394接口基本原理与结构-18" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-18"><a href="#11-1-IEEE-1394简介-18" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-18"><a href="#11-2-IEEE-1394的特点-18" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-18"><a href="#11-3-IEEE-1394的协议结构-18" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-18"><a href="#11-4-例题-18" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-18"><a href="#12-总线分类-18" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-18"><a href="#12-1-例题-18" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="6-4-例题-19"><a href="#6-4-例题-19" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-19"><a href="#7-IIC接口基本原理与结构-19" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-19"><a href="#7-1-IIC接口简介-19" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-20"><a href="#第十四章——嵌入式系统总线和通讯接口-20" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-20"><a href="#1-知识点介绍-20" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-20"><a href="#2-串行接口基本原理与结构-20" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-20"><a href="#2-1-串行通信概述-20" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-20"><a href="#2-2-串行通信模式-20" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-20"><a href="#2-2-1-单工-20" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-20"><a href="#2-2-2-半双工-20" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-20"><a href="#2-2-3-全双工-20" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-20"><a href="#2-2-4-串行通信异步-20" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-20"><a href="#2-2-5-波特率和校验位-20" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-20"><a href="#2-2-6-串行异步特点-20" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-20"><a href="#2-2-7-串行通信同步-20" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-20"><a href="#2-2-8-串口同步和异步发送-20" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-20"><a href="#2-3-RS-232C串行接口-20" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-20"><a href="#2-3-1-接口规格-20" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-20"><a href="#2-3-2-接口信号-20" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-20"><a href="#2-3-3-引脚功能-20" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-20"><a href="#2-3-4-连接方式-20" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-20"><a href="#2-4-RS-422串行接口-20" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-20"><a href="#2-5-RS-485串行接口-20" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-20"><a href="#2-6-例题-20" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-20"><a href="#3-并行接口基本原理与结构-20" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-20"><a href="#3-1-并行接口基本概念-20" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-20"><a href="#3-2-并行接口分类-20" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-20"><a href="#3-3-并行总线分类-20" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-20"><a href="#3-4-并行总线IEE488-20" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-20"><a href="#3-5-并行总线SCSI和MXI-20" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-20"><a href="#3-6-例题-20" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-20"><a href="#4-PCI接口基本原理与结构-20" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-20"><a href="#4-1-PCI接口基本结构-20" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-20"><a href="#4-1-1-例题-20" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-20"><a href="#5-USB接口基本原理与结构-20" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-20"><a href="#5-1-热插拔-20" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-20"><a href="#5-2-USB总线的主要性能特点-20" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-20"><a href="#5-3-USB总线的应用-20" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-20"><a href="#5-4-USB总线物理接口-20" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-20"><a href="#5-5-例题-20" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-20"><a href="#6-SPI接口基本原理与结构-20" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-20"><a href="#6-1-SPI接口简介-20" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-20"><a href="#6-2-SPI接口基本原理-20" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-20"><a href="#6-3-SPI接口工作模式-20" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-20"><a href="#6-4-例题-20" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-20"><a href="#7-IIC接口基本原理与结构-20" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-20"><a href="#7-1-IIC接口简介-20" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-19"><a href="#7-2-操作模式-19" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-19"><a href="#7-3-启动信号-19" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-19"><a href="#7-4-读写数据-19" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-19"><a href="#7-5-数据传输格式-19" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-19"><a href="#7-6-应答信号-19" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-19"><a href="#7-7-IIC总线工作原理-19" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-19"><a href="#7-8-例题-19" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-19"><a href="#8-网络接口-19" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-19"><a href="#8-1-以太网接口基本原理与结构-19" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-19"><a href="#8-2-以太网基础知识-19" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-19"><a href="#8-3-传输编码-19" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-19"><a href="#8-4-802-3Mac层的帧-19" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-19"><a href="#8-5-以太网数据传输的特点-19" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-19"><a href="#8-6-以太网接口实现的方法-19" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-19"><a href="#8-7-网络编程接口-19" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-19"><a href="#8-8-例题-19" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-19"><a href="#9-CAN总线接口基本原理与结构-19" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-19"><a href="#9-1-CAN总线概述-19" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-19"><a href="#9-2-CAN总线接口-19" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-19"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-19" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-19"><a href="#10-无线以太网基本原理与结构-19" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-19"><a href="#10-1-WLAN简介-19" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-19"><a href="#10-2-WLAN标准-19" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-19"><a href="#11-IEEE-1394接口基本原理与结构-19" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-19"><a href="#11-1-IEEE-1394简介-19" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-19"><a href="#11-2-IEEE-1394的特点-19" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-19"><a href="#11-3-IEEE-1394的协议结构-19" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-19"><a href="#11-4-例题-19" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-19"><a href="#12-总线分类-19" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-19"><a href="#12-1-例题-19" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="7-2-操作模式-20"><a href="#7-2-操作模式-20" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-20"><a href="#7-3-启动信号-20" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-21"><a href="#第十四章——嵌入式系统总线和通讯接口-21" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-21"><a href="#1-知识点介绍-21" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-21"><a href="#2-串行接口基本原理与结构-21" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-21"><a href="#2-1-串行通信概述-21" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-21"><a href="#2-2-串行通信模式-21" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-21"><a href="#2-2-1-单工-21" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-21"><a href="#2-2-2-半双工-21" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-21"><a href="#2-2-3-全双工-21" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-21"><a href="#2-2-4-串行通信异步-21" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-21"><a href="#2-2-5-波特率和校验位-21" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-21"><a href="#2-2-6-串行异步特点-21" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-21"><a href="#2-2-7-串行通信同步-21" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-21"><a href="#2-2-8-串口同步和异步发送-21" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-21"><a href="#2-3-RS-232C串行接口-21" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-21"><a href="#2-3-1-接口规格-21" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-21"><a href="#2-3-2-接口信号-21" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-21"><a href="#2-3-3-引脚功能-21" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-21"><a href="#2-3-4-连接方式-21" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-21"><a href="#2-4-RS-422串行接口-21" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-21"><a href="#2-5-RS-485串行接口-21" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-21"><a href="#2-6-例题-21" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-21"><a href="#3-并行接口基本原理与结构-21" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-21"><a href="#3-1-并行接口基本概念-21" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-21"><a href="#3-2-并行接口分类-21" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-21"><a href="#3-3-并行总线分类-21" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-21"><a href="#3-4-并行总线IEE488-21" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-21"><a href="#3-5-并行总线SCSI和MXI-21" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-21"><a href="#3-6-例题-21" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-21"><a href="#4-PCI接口基本原理与结构-21" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-21"><a href="#4-1-PCI接口基本结构-21" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-21"><a href="#4-1-1-例题-21" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-21"><a href="#5-USB接口基本原理与结构-21" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-21"><a href="#5-1-热插拔-21" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-21"><a href="#5-2-USB总线的主要性能特点-21" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-21"><a href="#5-3-USB总线的应用-21" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-21"><a href="#5-4-USB总线物理接口-21" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-21"><a href="#5-5-例题-21" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-21"><a href="#6-SPI接口基本原理与结构-21" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-21"><a href="#6-1-SPI接口简介-21" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-21"><a href="#6-2-SPI接口基本原理-21" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-21"><a href="#6-3-SPI接口工作模式-21" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-21"><a href="#6-4-例题-21" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-21"><a href="#7-IIC接口基本原理与结构-21" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-21"><a href="#7-1-IIC接口简介-21" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-21"><a href="#7-2-操作模式-21" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-21"><a href="#7-3-启动信号-21" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-20"><a href="#7-4-读写数据-20" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-20"><a href="#7-5-数据传输格式-20" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-20"><a href="#7-6-应答信号-20" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-20"><a href="#7-7-IIC总线工作原理-20" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-20"><a href="#7-8-例题-20" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-20"><a href="#8-网络接口-20" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-20"><a href="#8-1-以太网接口基本原理与结构-20" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-20"><a href="#8-2-以太网基础知识-20" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-20"><a href="#8-3-传输编码-20" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-20"><a href="#8-4-802-3Mac层的帧-20" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-20"><a href="#8-5-以太网数据传输的特点-20" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-20"><a href="#8-6-以太网接口实现的方法-20" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-20"><a href="#8-7-网络编程接口-20" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-20"><a href="#8-8-例题-20" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-20"><a href="#9-CAN总线接口基本原理与结构-20" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-20"><a href="#9-1-CAN总线概述-20" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-20"><a href="#9-2-CAN总线接口-20" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-20"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-20" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-20"><a href="#10-无线以太网基本原理与结构-20" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-20"><a href="#10-1-WLAN简介-20" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-20"><a href="#10-2-WLAN标准-20" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-20"><a href="#11-IEEE-1394接口基本原理与结构-20" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-20"><a href="#11-1-IEEE-1394简介-20" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-20"><a href="#11-2-IEEE-1394的特点-20" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-20"><a href="#11-3-IEEE-1394的协议结构-20" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-20"><a href="#11-4-例题-20" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-20"><a href="#12-总线分类-20" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-20"><a href="#12-1-例题-20" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="7-4-读写数据-21"><a href="#7-4-读写数据-21" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-21"><a href="#7-5-数据传输格式-21" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-22"><a href="#第十四章——嵌入式系统总线和通讯接口-22" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-22"><a href="#1-知识点介绍-22" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-22"><a href="#2-串行接口基本原理与结构-22" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-22"><a href="#2-1-串行通信概述-22" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-22"><a href="#2-2-串行通信模式-22" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-22"><a href="#2-2-1-单工-22" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-22"><a href="#2-2-2-半双工-22" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-22"><a href="#2-2-3-全双工-22" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-22"><a href="#2-2-4-串行通信异步-22" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-22"><a href="#2-2-5-波特率和校验位-22" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-22"><a href="#2-2-6-串行异步特点-22" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-22"><a href="#2-2-7-串行通信同步-22" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-22"><a href="#2-2-8-串口同步和异步发送-22" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-22"><a href="#2-3-RS-232C串行接口-22" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-22"><a href="#2-3-1-接口规格-22" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-22"><a href="#2-3-2-接口信号-22" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-22"><a href="#2-3-3-引脚功能-22" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-22"><a href="#2-3-4-连接方式-22" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-22"><a href="#2-4-RS-422串行接口-22" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-22"><a href="#2-5-RS-485串行接口-22" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-22"><a href="#2-6-例题-22" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-22"><a href="#3-并行接口基本原理与结构-22" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-22"><a href="#3-1-并行接口基本概念-22" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-22"><a href="#3-2-并行接口分类-22" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-22"><a href="#3-3-并行总线分类-22" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-22"><a href="#3-4-并行总线IEE488-22" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-22"><a href="#3-5-并行总线SCSI和MXI-22" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-22"><a href="#3-6-例题-22" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-22"><a href="#4-PCI接口基本原理与结构-22" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-22"><a href="#4-1-PCI接口基本结构-22" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-22"><a href="#4-1-1-例题-22" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-22"><a href="#5-USB接口基本原理与结构-22" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-22"><a href="#5-1-热插拔-22" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-22"><a href="#5-2-USB总线的主要性能特点-22" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-22"><a href="#5-3-USB总线的应用-22" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-22"><a href="#5-4-USB总线物理接口-22" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-22"><a href="#5-5-例题-22" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-22"><a href="#6-SPI接口基本原理与结构-22" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-22"><a href="#6-1-SPI接口简介-22" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-22"><a href="#6-2-SPI接口基本原理-22" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-22"><a href="#6-3-SPI接口工作模式-22" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-22"><a href="#6-4-例题-22" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-22"><a href="#7-IIC接口基本原理与结构-22" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-22"><a href="#7-1-IIC接口简介-22" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-22"><a href="#7-2-操作模式-22" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-22"><a href="#7-3-启动信号-22" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-22"><a href="#7-4-读写数据-22" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-22"><a href="#7-5-数据传输格式-22" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-21"><a href="#7-6-应答信号-21" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-21"><a href="#7-7-IIC总线工作原理-21" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-21"><a href="#7-8-例题-21" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-21"><a href="#8-网络接口-21" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-21"><a href="#8-1-以太网接口基本原理与结构-21" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-21"><a href="#8-2-以太网基础知识-21" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-21"><a href="#8-3-传输编码-21" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-21"><a href="#8-4-802-3Mac层的帧-21" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-21"><a href="#8-5-以太网数据传输的特点-21" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-21"><a href="#8-6-以太网接口实现的方法-21" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-21"><a href="#8-7-网络编程接口-21" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-21"><a href="#8-8-例题-21" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-21"><a href="#9-CAN总线接口基本原理与结构-21" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-21"><a href="#9-1-CAN总线概述-21" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-21"><a href="#9-2-CAN总线接口-21" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-21"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-21" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-21"><a href="#10-无线以太网基本原理与结构-21" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-21"><a href="#10-1-WLAN简介-21" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-21"><a href="#10-2-WLAN标准-21" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-21"><a href="#11-IEEE-1394接口基本原理与结构-21" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-21"><a href="#11-1-IEEE-1394简介-21" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-21"><a href="#11-2-IEEE-1394的特点-21" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-21"><a href="#11-3-IEEE-1394的协议结构-21" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-21"><a href="#11-4-例题-21" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-21"><a href="#12-总线分类-21" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-21"><a href="#12-1-例题-21" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="7-6-应答信号-22"><a href="#7-6-应答信号-22" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-23"><a href="#第十四章——嵌入式系统总线和通讯接口-23" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-23"><a href="#1-知识点介绍-23" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-23"><a href="#2-串行接口基本原理与结构-23" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-23"><a href="#2-1-串行通信概述-23" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-23"><a href="#2-2-串行通信模式-23" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-23"><a href="#2-2-1-单工-23" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-23"><a href="#2-2-2-半双工-23" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-23"><a href="#2-2-3-全双工-23" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-23"><a href="#2-2-4-串行通信异步-23" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-23"><a href="#2-2-5-波特率和校验位-23" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-23"><a href="#2-2-6-串行异步特点-23" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-23"><a href="#2-2-7-串行通信同步-23" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-23"><a href="#2-2-8-串口同步和异步发送-23" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-23"><a href="#2-3-RS-232C串行接口-23" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-23"><a href="#2-3-1-接口规格-23" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-23"><a href="#2-3-2-接口信号-23" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-23"><a href="#2-3-3-引脚功能-23" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-23"><a href="#2-3-4-连接方式-23" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-23"><a href="#2-4-RS-422串行接口-23" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-23"><a href="#2-5-RS-485串行接口-23" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-23"><a href="#2-6-例题-23" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-23"><a href="#3-并行接口基本原理与结构-23" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-23"><a href="#3-1-并行接口基本概念-23" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-23"><a href="#3-2-并行接口分类-23" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-23"><a href="#3-3-并行总线分类-23" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-23"><a href="#3-4-并行总线IEE488-23" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-23"><a href="#3-5-并行总线SCSI和MXI-23" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-23"><a href="#3-6-例题-23" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-23"><a href="#4-PCI接口基本原理与结构-23" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-23"><a href="#4-1-PCI接口基本结构-23" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-23"><a href="#4-1-1-例题-23" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-23"><a href="#5-USB接口基本原理与结构-23" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-23"><a href="#5-1-热插拔-23" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-23"><a href="#5-2-USB总线的主要性能特点-23" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-23"><a href="#5-3-USB总线的应用-23" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-23"><a href="#5-4-USB总线物理接口-23" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-23"><a href="#5-5-例题-23" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-23"><a href="#6-SPI接口基本原理与结构-23" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-23"><a href="#6-1-SPI接口简介-23" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-23"><a href="#6-2-SPI接口基本原理-23" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-23"><a href="#6-3-SPI接口工作模式-23" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-23"><a href="#6-4-例题-23" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-23"><a href="#7-IIC接口基本原理与结构-23" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-23"><a href="#7-1-IIC接口简介-23" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-23"><a href="#7-2-操作模式-23" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-23"><a href="#7-3-启动信号-23" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-23"><a href="#7-4-读写数据-23" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-23"><a href="#7-5-数据传输格式-23" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-23"><a href="#7-6-应答信号-23" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-22"><a href="#7-7-IIC总线工作原理-22" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-22"><a href="#7-8-例题-22" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-22"><a href="#8-网络接口-22" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-22"><a href="#8-1-以太网接口基本原理与结构-22" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-22"><a href="#8-2-以太网基础知识-22" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-22"><a href="#8-3-传输编码-22" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-22"><a href="#8-4-802-3Mac层的帧-22" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-22"><a href="#8-5-以太网数据传输的特点-22" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-22"><a href="#8-6-以太网接口实现的方法-22" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-22"><a href="#8-7-网络编程接口-22" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-22"><a href="#8-8-例题-22" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-22"><a href="#9-CAN总线接口基本原理与结构-22" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-22"><a href="#9-1-CAN总线概述-22" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-22"><a href="#9-2-CAN总线接口-22" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-22"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-22" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-22"><a href="#10-无线以太网基本原理与结构-22" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-22"><a href="#10-1-WLAN简介-22" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-22"><a href="#10-2-WLAN标准-22" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-22"><a href="#11-IEEE-1394接口基本原理与结构-22" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-22"><a href="#11-1-IEEE-1394简介-22" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-22"><a href="#11-2-IEEE-1394的特点-22" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-22"><a href="#11-3-IEEE-1394的协议结构-22" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-22"><a href="#11-4-例题-22" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-22"><a href="#12-总线分类-22" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-22"><a href="#12-1-例题-22" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="7-7-IIC总线工作原理-23"><a href="#7-7-IIC总线工作原理-23" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-23"><a href="#7-8-例题-23" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-24"><a href="#第十四章——嵌入式系统总线和通讯接口-24" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-24"><a href="#1-知识点介绍-24" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-24"><a href="#2-串行接口基本原理与结构-24" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-24"><a href="#2-1-串行通信概述-24" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-24"><a href="#2-2-串行通信模式-24" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-24"><a href="#2-2-1-单工-24" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-24"><a href="#2-2-2-半双工-24" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-24"><a href="#2-2-3-全双工-24" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-24"><a href="#2-2-4-串行通信异步-24" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-24"><a href="#2-2-5-波特率和校验位-24" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-24"><a href="#2-2-6-串行异步特点-24" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-24"><a href="#2-2-7-串行通信同步-24" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-24"><a href="#2-2-8-串口同步和异步发送-24" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-24"><a href="#2-3-RS-232C串行接口-24" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-24"><a href="#2-3-1-接口规格-24" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-24"><a href="#2-3-2-接口信号-24" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-24"><a href="#2-3-3-引脚功能-24" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-24"><a href="#2-3-4-连接方式-24" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-24"><a href="#2-4-RS-422串行接口-24" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-24"><a href="#2-5-RS-485串行接口-24" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-24"><a href="#2-6-例题-24" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-24"><a href="#3-并行接口基本原理与结构-24" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-24"><a href="#3-1-并行接口基本概念-24" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-24"><a href="#3-2-并行接口分类-24" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-24"><a href="#3-3-并行总线分类-24" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-24"><a href="#3-4-并行总线IEE488-24" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-24"><a href="#3-5-并行总线SCSI和MXI-24" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-24"><a href="#3-6-例题-24" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-24"><a href="#4-PCI接口基本原理与结构-24" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-24"><a href="#4-1-PCI接口基本结构-24" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-24"><a href="#4-1-1-例题-24" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-24"><a href="#5-USB接口基本原理与结构-24" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-24"><a href="#5-1-热插拔-24" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-24"><a href="#5-2-USB总线的主要性能特点-24" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-24"><a href="#5-3-USB总线的应用-24" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-24"><a href="#5-4-USB总线物理接口-24" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-24"><a href="#5-5-例题-24" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-24"><a href="#6-SPI接口基本原理与结构-24" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-24"><a href="#6-1-SPI接口简介-24" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-24"><a href="#6-2-SPI接口基本原理-24" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-24"><a href="#6-3-SPI接口工作模式-24" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-24"><a href="#6-4-例题-24" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-24"><a href="#7-IIC接口基本原理与结构-24" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-24"><a href="#7-1-IIC接口简介-24" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-24"><a href="#7-2-操作模式-24" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-24"><a href="#7-3-启动信号-24" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-24"><a href="#7-4-读写数据-24" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-24"><a href="#7-5-数据传输格式-24" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-24"><a href="#7-6-应答信号-24" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-24"><a href="#7-7-IIC总线工作原理-24" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-24"><a href="#7-8-例题-24" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-23"><a href="#8-网络接口-23" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-23"><a href="#8-1-以太网接口基本原理与结构-23" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-23"><a href="#8-2-以太网基础知识-23" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-23"><a href="#8-3-传输编码-23" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-23"><a href="#8-4-802-3Mac层的帧-23" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-23"><a href="#8-5-以太网数据传输的特点-23" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-23"><a href="#8-6-以太网接口实现的方法-23" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-23"><a href="#8-7-网络编程接口-23" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-23"><a href="#8-8-例题-23" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-23"><a href="#9-CAN总线接口基本原理与结构-23" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-23"><a href="#9-1-CAN总线概述-23" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-23"><a href="#9-2-CAN总线接口-23" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-23"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-23" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-23"><a href="#10-无线以太网基本原理与结构-23" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-23"><a href="#10-1-WLAN简介-23" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-23"><a href="#10-2-WLAN标准-23" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-23"><a href="#11-IEEE-1394接口基本原理与结构-23" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-23"><a href="#11-1-IEEE-1394简介-23" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-23"><a href="#11-2-IEEE-1394的特点-23" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-23"><a href="#11-3-IEEE-1394的协议结构-23" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-23"><a href="#11-4-例题-23" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-23"><a href="#12-总线分类-23" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-23"><a href="#12-1-例题-23" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h2 id="8-网络接口-24"><a href="#8-网络接口-24" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-24"><a href="#8-1-以太网接口基本原理与结构-24" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-24"><a href="#8-2-以太网基础知识-24" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-24"><a href="#8-3-传输编码-24" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-25"><a href="#第十四章——嵌入式系统总线和通讯接口-25" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-25"><a href="#1-知识点介绍-25" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-25"><a href="#2-串行接口基本原理与结构-25" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-25"><a href="#2-1-串行通信概述-25" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-25"><a href="#2-2-串行通信模式-25" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-25"><a href="#2-2-1-单工-25" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-25"><a href="#2-2-2-半双工-25" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-25"><a href="#2-2-3-全双工-25" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-25"><a href="#2-2-4-串行通信异步-25" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-25"><a href="#2-2-5-波特率和校验位-25" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-25"><a href="#2-2-6-串行异步特点-25" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-25"><a href="#2-2-7-串行通信同步-25" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-25"><a href="#2-2-8-串口同步和异步发送-25" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-25"><a href="#2-3-RS-232C串行接口-25" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-25"><a href="#2-3-1-接口规格-25" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-25"><a href="#2-3-2-接口信号-25" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-25"><a href="#2-3-3-引脚功能-25" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-25"><a href="#2-3-4-连接方式-25" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-25"><a href="#2-4-RS-422串行接口-25" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-25"><a href="#2-5-RS-485串行接口-25" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-25"><a href="#2-6-例题-25" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-25"><a href="#3-并行接口基本原理与结构-25" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-25"><a href="#3-1-并行接口基本概念-25" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-25"><a href="#3-2-并行接口分类-25" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-25"><a href="#3-3-并行总线分类-25" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-25"><a href="#3-4-并行总线IEE488-25" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-25"><a href="#3-5-并行总线SCSI和MXI-25" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-25"><a href="#3-6-例题-25" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-25"><a href="#4-PCI接口基本原理与结构-25" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-25"><a href="#4-1-PCI接口基本结构-25" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-25"><a href="#4-1-1-例题-25" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-25"><a href="#5-USB接口基本原理与结构-25" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-25"><a href="#5-1-热插拔-25" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-25"><a href="#5-2-USB总线的主要性能特点-25" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-25"><a href="#5-3-USB总线的应用-25" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-25"><a href="#5-4-USB总线物理接口-25" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-25"><a href="#5-5-例题-25" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-25"><a href="#6-SPI接口基本原理与结构-25" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-25"><a href="#6-1-SPI接口简介-25" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-25"><a href="#6-2-SPI接口基本原理-25" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-25"><a href="#6-3-SPI接口工作模式-25" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-25"><a href="#6-4-例题-25" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-25"><a href="#7-IIC接口基本原理与结构-25" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-25"><a href="#7-1-IIC接口简介-25" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-25"><a href="#7-2-操作模式-25" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-25"><a href="#7-3-启动信号-25" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-25"><a href="#7-4-读写数据-25" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-25"><a href="#7-5-数据传输格式-25" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-25"><a href="#7-6-应答信号-25" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-25"><a href="#7-7-IIC总线工作原理-25" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-25"><a href="#7-8-例题-25" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-25"><a href="#8-网络接口-25" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-25"><a href="#8-1-以太网接口基本原理与结构-25" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-25"><a href="#8-2-以太网基础知识-25" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-25"><a href="#8-3-传输编码-25" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-24"><a href="#8-4-802-3Mac层的帧-24" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-24"><a href="#8-5-以太网数据传输的特点-24" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-24"><a href="#8-6-以太网接口实现的方法-24" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-24"><a href="#8-7-网络编程接口-24" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-24"><a href="#8-8-例题-24" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-24"><a href="#9-CAN总线接口基本原理与结构-24" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-24"><a href="#9-1-CAN总线概述-24" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-24"><a href="#9-2-CAN总线接口-24" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-24"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-24" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-24"><a href="#10-无线以太网基本原理与结构-24" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-24"><a href="#10-1-WLAN简介-24" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-24"><a href="#10-2-WLAN标准-24" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-24"><a href="#11-IEEE-1394接口基本原理与结构-24" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-24"><a href="#11-1-IEEE-1394简介-24" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-24"><a href="#11-2-IEEE-1394的特点-24" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-24"><a href="#11-3-IEEE-1394的协议结构-24" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-24"><a href="#11-4-例题-24" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-24"><a href="#12-总线分类-24" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-24"><a href="#12-1-例题-24" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="8-4-802-3Mac层的帧-25"><a href="#8-4-802-3Mac层的帧-25" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-25"><a href="#8-5-以太网数据传输的特点-25" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-25"><a href="#8-6-以太网接口实现的方法-25" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-25"><a href="#8-7-网络编程接口-25" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-26"><a href="#第十四章——嵌入式系统总线和通讯接口-26" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-26"><a href="#1-知识点介绍-26" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-26"><a href="#2-串行接口基本原理与结构-26" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-26"><a href="#2-1-串行通信概述-26" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-26"><a href="#2-2-串行通信模式-26" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-26"><a href="#2-2-1-单工-26" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-26"><a href="#2-2-2-半双工-26" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-26"><a href="#2-2-3-全双工-26" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-26"><a href="#2-2-4-串行通信异步-26" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-26"><a href="#2-2-5-波特率和校验位-26" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-26"><a href="#2-2-6-串行异步特点-26" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-26"><a href="#2-2-7-串行通信同步-26" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-26"><a href="#2-2-8-串口同步和异步发送-26" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-26"><a href="#2-3-RS-232C串行接口-26" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-26"><a href="#2-3-1-接口规格-26" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-26"><a href="#2-3-2-接口信号-26" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-26"><a href="#2-3-3-引脚功能-26" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-26"><a href="#2-3-4-连接方式-26" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-26"><a href="#2-4-RS-422串行接口-26" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-26"><a href="#2-5-RS-485串行接口-26" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-26"><a href="#2-6-例题-26" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-26"><a href="#3-并行接口基本原理与结构-26" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-26"><a href="#3-1-并行接口基本概念-26" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-26"><a href="#3-2-并行接口分类-26" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-26"><a href="#3-3-并行总线分类-26" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-26"><a href="#3-4-并行总线IEE488-26" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-26"><a href="#3-5-并行总线SCSI和MXI-26" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-26"><a href="#3-6-例题-26" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-26"><a href="#4-PCI接口基本原理与结构-26" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-26"><a href="#4-1-PCI接口基本结构-26" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-26"><a href="#4-1-1-例题-26" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-26"><a href="#5-USB接口基本原理与结构-26" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-26"><a href="#5-1-热插拔-26" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-26"><a href="#5-2-USB总线的主要性能特点-26" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-26"><a href="#5-3-USB总线的应用-26" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-26"><a href="#5-4-USB总线物理接口-26" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-26"><a href="#5-5-例题-26" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-26"><a href="#6-SPI接口基本原理与结构-26" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-26"><a href="#6-1-SPI接口简介-26" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-26"><a href="#6-2-SPI接口基本原理-26" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-26"><a href="#6-3-SPI接口工作模式-26" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-26"><a href="#6-4-例题-26" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-26"><a href="#7-IIC接口基本原理与结构-26" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-26"><a href="#7-1-IIC接口简介-26" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-26"><a href="#7-2-操作模式-26" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-26"><a href="#7-3-启动信号-26" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-26"><a href="#7-4-读写数据-26" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-26"><a href="#7-5-数据传输格式-26" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-26"><a href="#7-6-应答信号-26" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-26"><a href="#7-7-IIC总线工作原理-26" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-26"><a href="#7-8-例题-26" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-26"><a href="#8-网络接口-26" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-26"><a href="#8-1-以太网接口基本原理与结构-26" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-26"><a href="#8-2-以太网基础知识-26" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-26"><a href="#8-3-传输编码-26" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-26"><a href="#8-4-802-3Mac层的帧-26" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-26"><a href="#8-5-以太网数据传输的特点-26" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-26"><a href="#8-6-以太网接口实现的方法-26" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-26"><a href="#8-7-网络编程接口-26" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-25"><a href="#8-8-例题-25" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-25"><a href="#9-CAN总线接口基本原理与结构-25" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-25"><a href="#9-1-CAN总线概述-25" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-25"><a href="#9-2-CAN总线接口-25" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-25"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-25" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-25"><a href="#10-无线以太网基本原理与结构-25" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-25"><a href="#10-1-WLAN简介-25" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-25"><a href="#10-2-WLAN标准-25" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-25"><a href="#11-IEEE-1394接口基本原理与结构-25" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-25"><a href="#11-1-IEEE-1394简介-25" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-25"><a href="#11-2-IEEE-1394的特点-25" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-25"><a href="#11-3-IEEE-1394的协议结构-25" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-25"><a href="#11-4-例题-25" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-25"><a href="#12-总线分类-25" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-25"><a href="#12-1-例题-25" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="8-8-例题-26"><a href="#8-8-例题-26" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-26"><a href="#9-CAN总线接口基本原理与结构-26" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-26"><a href="#9-1-CAN总线概述-26" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-26"><a href="#9-2-CAN总线接口-26" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-27"><a href="#第十四章——嵌入式系统总线和通讯接口-27" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-27"><a href="#1-知识点介绍-27" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-27"><a href="#2-串行接口基本原理与结构-27" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-27"><a href="#2-1-串行通信概述-27" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-27"><a href="#2-2-串行通信模式-27" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-27"><a href="#2-2-1-单工-27" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-27"><a href="#2-2-2-半双工-27" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-27"><a href="#2-2-3-全双工-27" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-27"><a href="#2-2-4-串行通信异步-27" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-27"><a href="#2-2-5-波特率和校验位-27" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-27"><a href="#2-2-6-串行异步特点-27" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-27"><a href="#2-2-7-串行通信同步-27" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-27"><a href="#2-2-8-串口同步和异步发送-27" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-27"><a href="#2-3-RS-232C串行接口-27" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-27"><a href="#2-3-1-接口规格-27" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-27"><a href="#2-3-2-接口信号-27" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-27"><a href="#2-3-3-引脚功能-27" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-27"><a href="#2-3-4-连接方式-27" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-27"><a href="#2-4-RS-422串行接口-27" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-27"><a href="#2-5-RS-485串行接口-27" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-27"><a href="#2-6-例题-27" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-27"><a href="#3-并行接口基本原理与结构-27" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-27"><a href="#3-1-并行接口基本概念-27" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-27"><a href="#3-2-并行接口分类-27" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-27"><a href="#3-3-并行总线分类-27" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-27"><a href="#3-4-并行总线IEE488-27" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-27"><a href="#3-5-并行总线SCSI和MXI-27" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-27"><a href="#3-6-例题-27" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-27"><a href="#4-PCI接口基本原理与结构-27" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-27"><a href="#4-1-PCI接口基本结构-27" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-27"><a href="#4-1-1-例题-27" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-27"><a href="#5-USB接口基本原理与结构-27" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-27"><a href="#5-1-热插拔-27" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-27"><a href="#5-2-USB总线的主要性能特点-27" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-27"><a href="#5-3-USB总线的应用-27" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-27"><a href="#5-4-USB总线物理接口-27" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-27"><a href="#5-5-例题-27" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-27"><a href="#6-SPI接口基本原理与结构-27" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-27"><a href="#6-1-SPI接口简介-27" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-27"><a href="#6-2-SPI接口基本原理-27" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-27"><a href="#6-3-SPI接口工作模式-27" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-27"><a href="#6-4-例题-27" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-27"><a href="#7-IIC接口基本原理与结构-27" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-27"><a href="#7-1-IIC接口简介-27" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-27"><a href="#7-2-操作模式-27" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-27"><a href="#7-3-启动信号-27" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-27"><a href="#7-4-读写数据-27" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-27"><a href="#7-5-数据传输格式-27" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-27"><a href="#7-6-应答信号-27" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-27"><a href="#7-7-IIC总线工作原理-27" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-27"><a href="#7-8-例题-27" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-27"><a href="#8-网络接口-27" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-27"><a href="#8-1-以太网接口基本原理与结构-27" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-27"><a href="#8-2-以太网基础知识-27" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-27"><a href="#8-3-传输编码-27" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-27"><a href="#8-4-802-3Mac层的帧-27" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-27"><a href="#8-5-以太网数据传输的特点-27" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-27"><a href="#8-6-以太网接口实现的方法-27" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-27"><a href="#8-7-网络编程接口-27" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-27"><a href="#8-8-例题-27" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-27"><a href="#9-CAN总线接口基本原理与结构-27" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-27"><a href="#9-1-CAN总线概述-27" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-27"><a href="#9-2-CAN总线接口-27" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-26"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-26" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-26"><a href="#10-无线以太网基本原理与结构-26" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-26"><a href="#10-1-WLAN简介-26" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-26"><a href="#10-2-WLAN标准-26" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-26"><a href="#11-IEEE-1394接口基本原理与结构-26" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-26"><a href="#11-1-IEEE-1394简介-26" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-26"><a href="#11-2-IEEE-1394的特点-26" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-26"><a href="#11-3-IEEE-1394的协议结构-26" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-26"><a href="#11-4-例题-26" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-26"><a href="#12-总线分类-26" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-26"><a href="#12-1-例题-26" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-27"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-27" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<h1 id="第十四章——嵌入式系统总线和通讯接口-28"><a href="#第十四章——嵌入式系统总线和通讯接口-28" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-28"><a href="#1-知识点介绍-28" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-28"><a href="#2-串行接口基本原理与结构-28" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-28"><a href="#2-1-串行通信概述-28" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-28"><a href="#2-2-串行通信模式-28" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-28"><a href="#2-2-1-单工-28" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-28"><a href="#2-2-2-半双工-28" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-28"><a href="#2-2-3-全双工-28" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-28"><a href="#2-2-4-串行通信异步-28" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-28"><a href="#2-2-5-波特率和校验位-28" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-28"><a href="#2-2-6-串行异步特点-28" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-28"><a href="#2-2-7-串行通信同步-28" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-28"><a href="#2-2-8-串口同步和异步发送-28" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-28"><a href="#2-3-RS-232C串行接口-28" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-28"><a href="#2-3-1-接口规格-28" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-28"><a href="#2-3-2-接口信号-28" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-28"><a href="#2-3-3-引脚功能-28" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-28"><a href="#2-3-4-连接方式-28" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-28"><a href="#2-4-RS-422串行接口-28" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-28"><a href="#2-5-RS-485串行接口-28" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-28"><a href="#2-6-例题-28" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-28"><a href="#3-并行接口基本原理与结构-28" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-28"><a href="#3-1-并行接口基本概念-28" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-28"><a href="#3-2-并行接口分类-28" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-28"><a href="#3-3-并行总线分类-28" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-28"><a href="#3-4-并行总线IEE488-28" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-28"><a href="#3-5-并行总线SCSI和MXI-28" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-28"><a href="#3-6-例题-28" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-28"><a href="#4-PCI接口基本原理与结构-28" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-28"><a href="#4-1-PCI接口基本结构-28" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-28"><a href="#4-1-1-例题-28" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-28"><a href="#5-USB接口基本原理与结构-28" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-28"><a href="#5-1-热插拔-28" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-28"><a href="#5-2-USB总线的主要性能特点-28" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-28"><a href="#5-3-USB总线的应用-28" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-28"><a href="#5-4-USB总线物理接口-28" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-28"><a href="#5-5-例题-28" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-28"><a href="#6-SPI接口基本原理与结构-28" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-28"><a href="#6-1-SPI接口简介-28" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-28"><a href="#6-2-SPI接口基本原理-28" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-28"><a href="#6-3-SPI接口工作模式-28" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-28"><a href="#6-4-例题-28" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-28"><a href="#7-IIC接口基本原理与结构-28" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-28"><a href="#7-1-IIC接口简介-28" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-28"><a href="#7-2-操作模式-28" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-28"><a href="#7-3-启动信号-28" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-28"><a href="#7-4-读写数据-28" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-28"><a href="#7-5-数据传输格式-28" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-28"><a href="#7-6-应答信号-28" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-28"><a href="#7-7-IIC总线工作原理-28" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-28"><a href="#7-8-例题-28" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-28"><a href="#8-网络接口-28" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-28"><a href="#8-1-以太网接口基本原理与结构-28" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-28"><a href="#8-2-以太网基础知识-28" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-28"><a href="#8-3-传输编码-28" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-28"><a href="#8-4-802-3Mac层的帧-28" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-28"><a href="#8-5-以太网数据传输的特点-28" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-28"><a href="#8-6-以太网接口实现的方法-28" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-28"><a href="#8-7-网络编程接口-28" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-28"><a href="#8-8-例题-28" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-28"><a href="#9-CAN总线接口基本原理与结构-28" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-28"><a href="#9-1-CAN总线概述-28" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-28"><a href="#9-2-CAN总线接口-28" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-28"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-28" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-27"><a href="#10-无线以太网基本原理与结构-27" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-27"><a href="#10-1-WLAN简介-27" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-27"><a href="#10-2-WLAN标准-27" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-27"><a href="#11-IEEE-1394接口基本原理与结构-27" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-27"><a href="#11-1-IEEE-1394简介-27" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-27"><a href="#11-2-IEEE-1394的特点-27" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-27"><a href="#11-3-IEEE-1394的协议结构-27" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-27"><a href="#11-4-例题-27" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-27"><a href="#12-总线分类-27" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-27"><a href="#12-1-例题-27" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-28"><a href="#10-无线以太网基本原理与结构-28" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-28"><a href="#10-1-WLAN简介-28" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-29"><a href="#第十四章——嵌入式系统总线和通讯接口-29" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-29"><a href="#1-知识点介绍-29" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-29"><a href="#2-串行接口基本原理与结构-29" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-29"><a href="#2-1-串行通信概述-29" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-29"><a href="#2-2-串行通信模式-29" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-29"><a href="#2-2-1-单工-29" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-29"><a href="#2-2-2-半双工-29" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-29"><a href="#2-2-3-全双工-29" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-29"><a href="#2-2-4-串行通信异步-29" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-29"><a href="#2-2-5-波特率和校验位-29" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-29"><a href="#2-2-6-串行异步特点-29" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-29"><a href="#2-2-7-串行通信同步-29" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-29"><a href="#2-2-8-串口同步和异步发送-29" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-29"><a href="#2-3-RS-232C串行接口-29" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-29"><a href="#2-3-1-接口规格-29" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-29"><a href="#2-3-2-接口信号-29" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-29"><a href="#2-3-3-引脚功能-29" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-29"><a href="#2-3-4-连接方式-29" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-29"><a href="#2-4-RS-422串行接口-29" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-29"><a href="#2-5-RS-485串行接口-29" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-29"><a href="#2-6-例题-29" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-29"><a href="#3-并行接口基本原理与结构-29" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-29"><a href="#3-1-并行接口基本概念-29" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-29"><a href="#3-2-并行接口分类-29" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-29"><a href="#3-3-并行总线分类-29" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-29"><a href="#3-4-并行总线IEE488-29" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-29"><a href="#3-5-并行总线SCSI和MXI-29" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-29"><a href="#3-6-例题-29" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-29"><a href="#4-PCI接口基本原理与结构-29" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-29"><a href="#4-1-PCI接口基本结构-29" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-29"><a href="#4-1-1-例题-29" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-29"><a href="#5-USB接口基本原理与结构-29" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-29"><a href="#5-1-热插拔-29" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-29"><a href="#5-2-USB总线的主要性能特点-29" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-29"><a href="#5-3-USB总线的应用-29" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-29"><a href="#5-4-USB总线物理接口-29" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-29"><a href="#5-5-例题-29" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-29"><a href="#6-SPI接口基本原理与结构-29" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-29"><a href="#6-1-SPI接口简介-29" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-29"><a href="#6-2-SPI接口基本原理-29" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-29"><a href="#6-3-SPI接口工作模式-29" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-29"><a href="#6-4-例题-29" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-29"><a href="#7-IIC接口基本原理与结构-29" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-29"><a href="#7-1-IIC接口简介-29" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-29"><a href="#7-2-操作模式-29" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-29"><a href="#7-3-启动信号-29" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-29"><a href="#7-4-读写数据-29" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-29"><a href="#7-5-数据传输格式-29" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-29"><a href="#7-6-应答信号-29" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-29"><a href="#7-7-IIC总线工作原理-29" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-29"><a href="#7-8-例题-29" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-29"><a href="#8-网络接口-29" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-29"><a href="#8-1-以太网接口基本原理与结构-29" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-29"><a href="#8-2-以太网基础知识-29" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-29"><a href="#8-3-传输编码-29" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-29"><a href="#8-4-802-3Mac层的帧-29" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-29"><a href="#8-5-以太网数据传输的特点-29" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-29"><a href="#8-6-以太网接口实现的方法-29" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-29"><a href="#8-7-网络编程接口-29" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-29"><a href="#8-8-例题-29" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-29"><a href="#9-CAN总线接口基本原理与结构-29" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-29"><a href="#9-1-CAN总线概述-29" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-29"><a href="#9-2-CAN总线接口-29" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-29"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-29" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-29"><a href="#10-无线以太网基本原理与结构-29" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-29"><a href="#10-1-WLAN简介-29" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-28"><a href="#10-2-WLAN标准-28" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-28"><a href="#11-IEEE-1394接口基本原理与结构-28" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-28"><a href="#11-1-IEEE-1394简介-28" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-28"><a href="#11-2-IEEE-1394的特点-28" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-28"><a href="#11-3-IEEE-1394的协议结构-28" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-28"><a href="#11-4-例题-28" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-28"><a href="#12-总线分类-28" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-28"><a href="#12-1-例题-28" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h3 id="10-2-WLAN标准-29"><a href="#10-2-WLAN标准-29" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-30"><a href="#第十四章——嵌入式系统总线和通讯接口-30" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-30"><a href="#1-知识点介绍-30" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-30"><a href="#2-串行接口基本原理与结构-30" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-30"><a href="#2-1-串行通信概述-30" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-30"><a href="#2-2-串行通信模式-30" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-30"><a href="#2-2-1-单工-30" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-30"><a href="#2-2-2-半双工-30" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-30"><a href="#2-2-3-全双工-30" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-30"><a href="#2-2-4-串行通信异步-30" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-30"><a href="#2-2-5-波特率和校验位-30" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-30"><a href="#2-2-6-串行异步特点-30" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-30"><a href="#2-2-7-串行通信同步-30" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-30"><a href="#2-2-8-串口同步和异步发送-30" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-30"><a href="#2-3-RS-232C串行接口-30" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-30"><a href="#2-3-1-接口规格-30" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-30"><a href="#2-3-2-接口信号-30" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-30"><a href="#2-3-3-引脚功能-30" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-30"><a href="#2-3-4-连接方式-30" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-30"><a href="#2-4-RS-422串行接口-30" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-30"><a href="#2-5-RS-485串行接口-30" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-30"><a href="#2-6-例题-30" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-30"><a href="#3-并行接口基本原理与结构-30" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-30"><a href="#3-1-并行接口基本概念-30" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-30"><a href="#3-2-并行接口分类-30" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-30"><a href="#3-3-并行总线分类-30" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-30"><a href="#3-4-并行总线IEE488-30" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-30"><a href="#3-5-并行总线SCSI和MXI-30" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-30"><a href="#3-6-例题-30" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-30"><a href="#4-PCI接口基本原理与结构-30" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-30"><a href="#4-1-PCI接口基本结构-30" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-30"><a href="#4-1-1-例题-30" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-30"><a href="#5-USB接口基本原理与结构-30" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-30"><a href="#5-1-热插拔-30" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-30"><a href="#5-2-USB总线的主要性能特点-30" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-30"><a href="#5-3-USB总线的应用-30" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-30"><a href="#5-4-USB总线物理接口-30" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-30"><a href="#5-5-例题-30" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-30"><a href="#6-SPI接口基本原理与结构-30" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-30"><a href="#6-1-SPI接口简介-30" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-30"><a href="#6-2-SPI接口基本原理-30" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-30"><a href="#6-3-SPI接口工作模式-30" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-30"><a href="#6-4-例题-30" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-30"><a href="#7-IIC接口基本原理与结构-30" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-30"><a href="#7-1-IIC接口简介-30" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-30"><a href="#7-2-操作模式-30" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-30"><a href="#7-3-启动信号-30" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-30"><a href="#7-4-读写数据-30" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-30"><a href="#7-5-数据传输格式-30" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-30"><a href="#7-6-应答信号-30" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-30"><a href="#7-7-IIC总线工作原理-30" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-30"><a href="#7-8-例题-30" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-30"><a href="#8-网络接口-30" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-30"><a href="#8-1-以太网接口基本原理与结构-30" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-30"><a href="#8-2-以太网基础知识-30" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-30"><a href="#8-3-传输编码-30" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-30"><a href="#8-4-802-3Mac层的帧-30" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-30"><a href="#8-5-以太网数据传输的特点-30" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-30"><a href="#8-6-以太网接口实现的方法-30" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-30"><a href="#8-7-网络编程接口-30" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-30"><a href="#8-8-例题-30" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-30"><a href="#9-CAN总线接口基本原理与结构-30" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-30"><a href="#9-1-CAN总线概述-30" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-30"><a href="#9-2-CAN总线接口-30" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-30"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-30" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-30"><a href="#10-无线以太网基本原理与结构-30" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-30"><a href="#10-1-WLAN简介-30" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-30"><a href="#10-2-WLAN标准-30" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-29"><a href="#11-IEEE-1394接口基本原理与结构-29" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-29"><a href="#11-1-IEEE-1394简介-29" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-29"><a href="#11-2-IEEE-1394的特点-29" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-29"><a href="#11-3-IEEE-1394的协议结构-29" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-29"><a href="#11-4-例题-29" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-29"><a href="#12-总线分类-29" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-29"><a href="#12-1-例题-29" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<h2 id="11-IEEE-1394接口基本原理与结构-30"><a href="#11-IEEE-1394接口基本原理与结构-30" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-30"><a href="#11-1-IEEE-1394简介-30" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-30"><a href="#11-2-IEEE-1394的特点-30" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-30"><a href="#11-3-IEEE-1394的协议结构-30" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<h1 id="第十四章——嵌入式系统总线和通讯接口-31"><a href="#第十四章——嵌入式系统总线和通讯接口-31" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-31"><a href="#1-知识点介绍-31" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-31"><a href="#2-串行接口基本原理与结构-31" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-31"><a href="#2-1-串行通信概述-31" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-31"><a href="#2-2-串行通信模式-31" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-31"><a href="#2-2-1-单工-31" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-31"><a href="#2-2-2-半双工-31" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-31"><a href="#2-2-3-全双工-31" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-31"><a href="#2-2-4-串行通信异步-31" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-31"><a href="#2-2-5-波特率和校验位-31" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-31"><a href="#2-2-6-串行异步特点-31" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-31"><a href="#2-2-7-串行通信同步-31" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-31"><a href="#2-2-8-串口同步和异步发送-31" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-31"><a href="#2-3-RS-232C串行接口-31" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-31"><a href="#2-3-1-接口规格-31" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-31"><a href="#2-3-2-接口信号-31" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-31"><a href="#2-3-3-引脚功能-31" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-31"><a href="#2-3-4-连接方式-31" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-31"><a href="#2-4-RS-422串行接口-31" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-31"><a href="#2-5-RS-485串行接口-31" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-31"><a href="#2-6-例题-31" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-31"><a href="#3-并行接口基本原理与结构-31" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-31"><a href="#3-1-并行接口基本概念-31" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-31"><a href="#3-2-并行接口分类-31" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-31"><a href="#3-3-并行总线分类-31" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-31"><a href="#3-4-并行总线IEE488-31" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-31"><a href="#3-5-并行总线SCSI和MXI-31" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-31"><a href="#3-6-例题-31" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-31"><a href="#4-PCI接口基本原理与结构-31" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-31"><a href="#4-1-PCI接口基本结构-31" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-31"><a href="#4-1-1-例题-31" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-31"><a href="#5-USB接口基本原理与结构-31" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-31"><a href="#5-1-热插拔-31" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-31"><a href="#5-2-USB总线的主要性能特点-31" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-31"><a href="#5-3-USB总线的应用-31" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-31"><a href="#5-4-USB总线物理接口-31" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-31"><a href="#5-5-例题-31" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-31"><a href="#6-SPI接口基本原理与结构-31" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-31"><a href="#6-1-SPI接口简介-31" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-31"><a href="#6-2-SPI接口基本原理-31" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-31"><a href="#6-3-SPI接口工作模式-31" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-31"><a href="#6-4-例题-31" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-31"><a href="#7-IIC接口基本原理与结构-31" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-31"><a href="#7-1-IIC接口简介-31" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-31"><a href="#7-2-操作模式-31" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-31"><a href="#7-3-启动信号-31" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-31"><a href="#7-4-读写数据-31" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-31"><a href="#7-5-数据传输格式-31" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-31"><a href="#7-6-应答信号-31" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-31"><a href="#7-7-IIC总线工作原理-31" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-31"><a href="#7-8-例题-31" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-31"><a href="#8-网络接口-31" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-31"><a href="#8-1-以太网接口基本原理与结构-31" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-31"><a href="#8-2-以太网基础知识-31" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-31"><a href="#8-3-传输编码-31" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-31"><a href="#8-4-802-3Mac层的帧-31" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-31"><a href="#8-5-以太网数据传输的特点-31" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-31"><a href="#8-6-以太网接口实现的方法-31" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-31"><a href="#8-7-网络编程接口-31" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-31"><a href="#8-8-例题-31" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-31"><a href="#9-CAN总线接口基本原理与结构-31" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-31"><a href="#9-1-CAN总线概述-31" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-31"><a href="#9-2-CAN总线接口-31" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-31"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-31" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-31"><a href="#10-无线以太网基本原理与结构-31" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-31"><a href="#10-1-WLAN简介-31" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-31"><a href="#10-2-WLAN标准-31" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-31"><a href="#11-IEEE-1394接口基本原理与结构-31" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-31"><a href="#11-1-IEEE-1394简介-31" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-31"><a href="#11-2-IEEE-1394的特点-31" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-31"><a href="#11-3-IEEE-1394的协议结构-31" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-30"><a href="#11-4-例题-30" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-30"><a href="#12-总线分类-30" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-30"><a href="#12-1-例题-30" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-31"><a href="#11-4-例题-31" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-31"><a href="#12-总线分类-31" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><h1 id="第十四章——嵌入式系统总线和通讯接口-32"><a href="#第十四章——嵌入式系统总线和通讯接口-32" class="headerlink" title="第十四章——嵌入式系统总线和通讯接口"></a><center>第十四章——嵌入式系统总线和通讯接口</center></h1><p><em>前言：</em><br>&amp;emsp;&amp;emsp; <em>计算机第十四章节主要知识点。</em></p>
<h2 id="1-知识点介绍-32"><a href="#1-知识点介绍-32" class="headerlink" title="1 知识点介绍"></a>1 知识点介绍</h2><ul>
<li>串行接口基本原理与结构</li>
<li>并行接口基本原理与结构</li>
<li>PCI接口基本原理与结构</li>
<li>USB接口基本原理与结构</li>
<li>SPI接口基本原理与结构</li>
<li>IIC接口基本原理与结构</li>
<li>网络接口基本原理与结构</li>
<li>总线分类</li>
</ul>
<h2 id="2-串行接口基本原理与结构-32"><a href="#2-串行接口基本原理与结构-32" class="headerlink" title="2 串行接口基本原理与结构"></a>2 串行接口基本原理与结构</h2><ul>
<li>串行通信概述</li>
<li>RS-232C串行接口</li>
<li>RS-422串行通信接口</li>
<li>RS-485串行总线接口</li>
</ul>
<h3 id="2-1-串行通信概述-32"><a href="#2-1-串行通信概述-32" class="headerlink" title="2.1 串行通信概述"></a>2.1 串行通信概述</h3><p>&amp;emsp;&amp;emsp;串行通信：数据是一位一位地进行传输的，在传输中每一位数据都占据一个固定的时间长度。<br>&amp;emsp;&amp;emsp;优点。</p>
<ul>
<li>传输线少、成本低</li>
<li>特别适合远距离传送</li>
</ul>
<p>&amp;emsp;&amp;emsp;缺点。</p>
<ul>
<li>速度慢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialCommunication.png" alt="SerialCommunication.png" title="SerialCommunication"></p>
<h3 id="2-2-串行通信模式-32"><a href="#2-2-串行通信模式-32" class="headerlink" title="2.2 串行通信模式"></a>2.2 串行通信模式</h3><h4 id="2-2-1-单工-32"><a href="#2-2-1-单工-32" class="headerlink" title="2.2.1 单工"></a>2.2.1 单工</h4><p>&amp;emsp;&amp;emsp;串行数据传送有3种基本的通信模式：单工、半双工、全双工通信。<br>&amp;emsp;&amp;emsp;单工通信：数据仅能从设备A到设备B进行单一方向的传输。如遥控、遥测等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Simplex.png" alt="Simplex.png" title="Simplex"></p>
<h4 id="2-2-2-半双工-32"><a href="#2-2-2-半双工-32" class="headerlink" title="2.2.2 半双工"></a>2.2.2 半双工</h4><p>&amp;emsp;&amp;emsp;半双工通信：数据可以从设备A到设备B进行传输，也可以从设备B到设备A进行传输，但不能在同一时刻进行双向传输。如：对讲机。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/HalfDuplex.png" alt="HalfDuplex.png" title="HalfDuplex"></p>
<h4 id="2-2-3-全双工-32"><a href="#2-2-3-全双工-32" class="headerlink" title="2.2.3 全双工"></a>2.2.3 全双工</h4><p>&amp;emsp;&amp;emsp;全双工通信：数据可以在同一时刻从设备A传输到设备B，或从设备B传输到设备A，即可以同时双向传输。如电话。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Duplex.png" alt="Duplex.png" title="Duplex"></p>
<h4 id="2-2-4-串行通信异步-32"><a href="#2-2-4-串行通信异步-32" class="headerlink" title="2.2.4 串行通信异步"></a>2.2.4 串行通信异步</h4><p>&amp;emsp;&amp;emsp;串行通信在信息格式上可以分为：异步通信和同步通信方式。<br>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>是指通信的发送与接收设备使用各自的时钟，控制数据的发送和接收过程。</li>
<li>为使双方的收发协调，要求发送和接收设备的时钟尽可能一致。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Asynchronization.png" alt="Asynchronization.png" title="Asynchronization"></p>
<p>&amp;emsp;&amp;emsp;异步通信方式。</p>
<ul>
<li>数据是一帧一帧传送的，没帧数据包含有起始位（“0”）、数据位、奇偶校验位和停止位（“1”），每帧数据的传送靠起始位来同步。</li>
<li>一帧数据的各位代码间的时间间隔是固定的，而相邻两帧的数据其时间间隔是不固定的。</li>
<li>在异步通信的数据传送中，传输线上允许空字符。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>异步通信对字符格式、波特率、校验位有确定的要求。</li>
</ul>
<p>&amp;emsp;&amp;emsp;字符格式。</p>
<ul>
<li>每个字符传送时，必须前面加一位起始位，后面加上1、1.5或2位停止位。</li>
<li>例如ASCII码传送时，一帧数据的组成是：前面1个起始位，接着7位ASCII编码，再接着一位奇偶校验位，最后一位停止位，共10位。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortFrame.png" alt="SerialPortFrame.png" title="SerialPortFrame"></p>
<h4 id="2-2-5-波特率和校验位-32"><a href="#2-2-5-波特率和校验位-32" class="headerlink" title="2.2.5 波特率和校验位"></a>2.2.5 波特率和校验位</h4><p>&amp;emsp;&amp;emsp;波特率。</p>
<ul>
<li>传送数据位的速率称为波特率，用位&#x2F;秒（bit&#x2F;s）来表示，称之为波特。</li>
<li>例如，数据传送的速率为120字符&#x2F;秒，每帧包括10个数据位，则传送波特率为： $10 \times 120 &#x3D; 1200b&#x2F;s &#x3D; 1200波特$</li>
<li>异步通信的波特率的数值通常为：150、300、600、1200、2400、4800、9600、14400、28800等，数值成倍数变化。</li>
</ul>
<p>&amp;emsp;&amp;emsp;校验位。</p>
<ul>
<li>偶校验就是要使字符加上校验位有偶数个“1”。</li>
<li>奇校验就是要使字符加上校验位有奇数个“1”。</li>
<li>例如数据“00010011”，共有奇数个“1”，偶校验时，则校验位就置为“1”，奇校验时，则校验位就置为“0”。</li>
</ul>
<h4 id="2-2-6-串行异步特点-32"><a href="#2-2-6-串行异步特点-32" class="headerlink" title="2.2.6 串行异步特点"></a>2.2.6 串行异步特点</h4><p>&amp;emsp;&amp;emsp;异步通信的特点。</p>
<ul>
<li>不要求收发双方时钟的严格一致，实现容易，设备开销较小。</li>
<li>但每个字符要附加2~3位用于起始，各帧之间还有间隔，因此传输效率不高。实际使用率只有约80%。</li>
</ul>
<h4 id="2-2-7-串行通信同步-32"><a href="#2-2-7-串行通信同步-32" class="headerlink" title="2.2.7 串行通信同步"></a>2.2.7 串行通信同步</h4><p>&amp;emsp;&amp;emsp;同步通信。</p>
<ul>
<li>是一种比特同步通信技术，要求收发双方具有同频同相的同步时钟信号，只需在传送报文的最前面附加特定的同步字符，使收发双方建立同步，此后便在同步时钟的控制下逐位发送&#x2F;接收。</li>
<li>同步传输采用字符块的方式，减少每一个字符的控制和错误检测数据位，因而可以具有较高的传输速率。</li>
<li>即将许多字符聚集成一字符块后，在每块信息之前要加上1~2个同步字符，字符块之后再加入适当的错误检测数据才传送出去。</li>
</ul>
<p>&amp;emsp;&amp;emsp;特点。</p>
<ul>
<li>数据传输速率较高。</li>
<li>但要求发送方时钟和接收方时钟保持严格同步。</li>
</ul>
<h4 id="2-2-8-串口同步和异步发送-32"><a href="#2-2-8-串口同步和异步发送-32" class="headerlink" title="2.2.8 串口同步和异步发送"></a>2.2.8 串口同步和异步发送</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortToSend.png" alt="SerialPortToSend.png" title="SerialPortToSend"></p>
<h3 id="2-3-RS-232C串行接口-32"><a href="#2-3-RS-232C串行接口-32" class="headerlink" title="2.3 RS-232C串行接口"></a>2.3 RS-232C串行接口</h3><h4 id="2-3-1-接口规格-32"><a href="#2-3-1-接口规格-32" class="headerlink" title="2.3.1 接口规格"></a>2.3.1 接口规格</h4><p>&amp;emsp;&amp;emsp;RS-232C是美国电子工业协会（EIA）制定的一种串行通信接口标准。<br>&amp;emsp;&amp;emsp;RS-232C接口规格。</p>
<ul>
<li>EIA所制定的传送电气规格如下表所示。</li>
<li>RS-232C通常以±12v的电压来驱动信号线，TTL标准与RS-232C标准之间的电平转换电路通常采用集成电路芯片实现，如M2AX23等。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">L(Low)</th>
<th align="center">H(Hight)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电压范围</td>
<td align="center">-25~-3v</td>
<td align="center">+3v~25v</td>
</tr>
<tr>
<td align="center">负逻辑</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h4 id="2-3-2-接口信号-32"><a href="#2-3-2-接口信号-32" class="headerlink" title="2.3.2 接口信号"></a>2.3.2 接口信号</h4><p>&amp;emsp;&amp;emsp;EIA制定的RS-232C接口与外界的相连采用25芯（DB-25）和9芯（DB-9）D型插接件，实际应用中，并不是每只引脚信号都必须用到。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Port9.png" alt="Port9.png" title="Port9"></p>
<h4 id="2-3-3-引脚功能-32"><a href="#2-3-3-引脚功能-32" class="headerlink" title="2.3.3 引脚功能"></a>2.3.3 引脚功能</h4><p>&amp;emsp;&amp;emsp;RS-232C DB-9各引脚功能如下。</p>
<table>
<thead>
<tr>
<th align="center">引脚号</th>
<th align="center">符号表示</th>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">CD</td>
<td align="center">载波检测</td>
<td align="center">主要用于Modem通知计算机其处于在线状态，即Modem检测到拨号音</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">RXD</td>
<td align="center">接收数据线</td>
<td align="center">用于接收外部设备送来的数据</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">TXD</td>
<td align="center">发送数据线</td>
<td align="center">用于将计算机的数据发送给外部设备</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">DTR</td>
<td align="center">数据终端</td>
<td align="center">当次引脚高电平时，通知Modem可以进行数据传输，计算机已经准备好</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">SG</td>
<td align="center">信号地</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">DSR</td>
<td align="center">数据设备就绪</td>
<td align="center">此引脚为高电平时，通知计算机Modem已经准备好，可以进行数据通信</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">RTS</td>
<td align="center">请求发送</td>
<td align="center">此引脚由计算机来控制，用以通知Modem马上传送数据至计算机，否则Modem将收到的数据暂时放入缓冲区中</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">CTS</td>
<td align="center">允许发送</td>
<td align="center">此引脚由Modem控制，用以通知计算机将要传送的数据送至Modem</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">RI</td>
<td align="center">振铃提示</td>
<td align="center">Modem通知计算机有呼叫进来，是否接听呼叫由计算机决定</td>
</tr>
</tbody></table>
<h4 id="2-3-4-连接方式-32"><a href="#2-3-4-连接方式-32" class="headerlink" title="2.3.4 连接方式"></a>2.3.4 连接方式</h4><p>&amp;emsp;&amp;emsp;RS-232C的基本连接方式。</p>
<ul>
<li>计算机利用RS-232C接口进行串口通信，有简单连接和完全连接两种连接方式</li>
<li>简单连接又称三线连接，即只连接发送数据线、接收数据线和信号地，实现全双工通信</li>
<li>如果应用中还需要使用RS-232C的控制信号，则采用完全连接方式。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SerialPortConnection.png" alt="SerialPortConnection.png" title="SerialPortConnection"></p>
<h3 id="2-4-RS-422串行接口-32"><a href="#2-4-RS-422串行接口-32" class="headerlink" title="2.4 RS-422串行接口"></a>2.4 RS-422串行接口</h3><p>&amp;emsp;&amp;emsp;RS-422标准是RS-232的改进型，是一种可单机发送多机接收的平衡传输规范，传输速率可达10Mb&#x2F;s。采用差分传输方式，也称平衡传输。</p>
<ul>
<li>允许在相同传输线上连接多个接收节点，最多可接10个节点，即一个主设备（Master），其余10个为从设备（Slave），从设备之间不能通信。</li>
<li>支持一点对多点的双向通信。RS-422四线接口由于采用单独的发送和接收通道，因此不必控制数据方向，各装置之间任何必须的信号交换均可以按软件方式（XON&#x2F;XOFF握手）或硬件方式（一对单独的双绞线）实现。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS422.png" alt="RS422.png" title="RS422"></p>
<p>&amp;emsp;&amp;emsp;RS-422的最大传输距离为4000英尺（约1219m），最大传输速率为10Mb&#x2F;s。</p>
<ul>
<li>传输速率与平衡双绞线的长度有关，只有在很短的距离下才能获得最高传输速率</li>
<li>在最大传输距离时，传输速率为100kb&#x2F;s</li>
<li>一般100m长的双绞线上所能获得的最大传输速率仅为1Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-422需要在传输电缆的最远端连接一个电阻，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离（300m以下）传输时可以不连接电阻。</li>
</ul>
<h3 id="2-5-RS-485串行接口-32"><a href="#2-5-RS-485串行接口-32" class="headerlink" title="2.5 RS-485串行接口"></a>2.5 RS-485串行接口</h3><p>&amp;emsp;&amp;emsp;在RS-422的基础上，为扩展应用范围，EIA制定了RS-485标准，增加了多点、双向通信能力。</p>
<ul>
<li>在通信距离为几十米至上千米时，通常采用RS-485接收器</li>
<li>RS-485接收器采用平衡发送和差分接收</li>
<li>即在发送端，驱动器将TTL电平信号转换成差分信号输出，在接收端，接收器将差分信号变成TTL电平，因此具有抑制共模干扰的能力。</li>
<li>接收器能够检测低达200mv的电压，具有高的灵敏度，故数据传输距离可达千米以上。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/RS485.png" alt="RS485.png" title="RS485"></p>
<p>&amp;emsp;&amp;emsp;RS-485可以采用二线与四线方式，二线制可以实现真正的多点双向通信。</p>
<ul>
<li>采用四线连接时，与RS-422一样只能实现点对点的通信，即只能有一个主设备，其余为从设备。</li>
<li>RS-485可以连接多达32个设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;RS-485的共模输出电压在-7~+12v之间，接收器最小输入阻抗为12kΩ。<br>&amp;emsp;&amp;emsp;RS-485满足所有RS-422的规范，所以RS-485的驱动器可以在RS-422网络中应用。<br>&amp;emsp;&amp;emsp;RS-485的最大传输速率为10Mb&#x2F;s。在最大传输距离时，传输速率为100kb&#x2F;s。<br>&amp;emsp;&amp;emsp;RS-485需要两个终端电阻，接在传输总线的两端，要求电阻阻值约等于传输电缆的特性阻抗。</p>
<ul>
<li>在短距离传输（在300m以下）时可不需终端电阻。</li>
</ul>
<h3 id="2-6-例题-32"><a href="#2-6-例题-32" class="headerlink" title="2.6 例题"></a>2.6 例题</h3><ol>
<li>使用串行总线传输数据时，被传输的数据（D）。</li>
</ol>
<p>A. 在发送设备和接收设备中都是进行串行到并行的变换<br>B. 在发送设备和接收设备中都是进行并行到串行的变换<br>C. 在发送设备中进行串行到并行的变换，接收设备中进行并行到串行的变换<br>D. 在发送设备中进行并行到串行的变换，接收设备中进行串行到并行的变换</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/ex1.png" alt="ex1.png" title="ex1"></p>
<h2 id="3-并行接口基本原理与结构-32"><a href="#3-并行接口基本原理与结构-32" class="headerlink" title="3 并行接口基本原理与结构"></a>3 并行接口基本原理与结构</h2><ul>
<li>并行接口分类</li>
<li>并行总线</li>
</ul>
<h3 id="3-1-并行接口基本概念-32"><a href="#3-1-并行接口基本概念-32" class="headerlink" title="3.1 并行接口基本概念"></a>3.1 并行接口基本概念</h3><p>&amp;emsp;&amp;emsp;并行通信通常是将数据字节的各位用多条数据线同时进行传送。</p>
<ul>
<li>一般用来连接打印机、扫描仪等，所以又称打印口。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Parallel.png" alt="Parallel.png" title="Parallel"></p>
<p>&amp;emsp;&amp;emsp;特定。</p>
<ul>
<li>控制简单，传输速度快</li>
<li>由于传输线较多，长距离传送时成本高且接收方的各位同时接收存在的困难。</li>
</ul>
<h3 id="3-2-并行接口分类-32"><a href="#3-2-并行接口分类-32" class="headerlink" title="3.2 并行接口分类"></a>3.2 并行接口分类</h3><p>&amp;emsp;&amp;emsp;并行接口可以分为。</p>
<ul>
<li>SPP（标准并口）</li>
<li>EPP（增强型并口）</li>
<li>ECP（扩展型并口）</li>
</ul>
<h3 id="3-3-并行总线分类-32"><a href="#3-3-并行总线分类-32" class="headerlink" title="3.3 并行总线分类"></a>3.3 并行总线分类</h3><p>&amp;emsep;&amp;emsp;并行总线分为。</p>
<ul>
<li>标准并行总线</li>
<li>非标准并行总线</li>
</ul>
<p>&amp;emsp;&amp;emsp;常用的并行标准总线：IEEE488总线和SCSI总线。<br>&amp;emsp;&amp;emsp;总线是一种高性能非标准的通用多用户并行总线。</p>
<h3 id="3-4-并行总线IEE488-32"><a href="#3-4-并行总线IEE488-32" class="headerlink" title="3.4 并行总线IEE488"></a>3.4 并行总线IEE488</h3><p>&amp;emsp;&amp;emsp;IEEE488总线。</p>
<ul>
<li>又称GPIB总线（General Purpose Interface Bus，通用接口总线）</li>
<li>位并行、字节串行双向异步方式传输信号</li>
<li>总线方式连接，仪器设备直接并联于总线上，总线上最多可连接15台设备</li>
<li>最大传输距离为20m，信号传输速度一般为500kb&#x2F;s，最大传输速度为1Mb&#x2F;s</li>
<li>广泛应用在仪器、仪表、测控领域</li>
</ul>
<h3 id="3-5-并行总线SCSI和MXI-32"><a href="#3-5-并行总线SCSI和MXI-32" class="headerlink" title="3.5 并行总线SCSI和MXI"></a>3.5 并行总线SCSI和MXI</h3><p>&amp;emsp;&amp;emsp;SCSI（Small Computer System Interface，小型计算机系统接口）总线。</p>
<ul>
<li>速度可达5Mb&#x2F;s，传输距离6m</li>
<li>传输速率很高</li>
<li>普通用作计算机的高速外设总线，如连接高速硬盘驱动器</li>
</ul>
<p>&amp;emsp;&amp;emsp;MXI总线（Multi-system Extension Interface bus，多系统扩展接口总线）。</p>
<ul>
<li>是一种高性能非标准的通用多用户并行总线</li>
<li>32位高速并行总线</li>
<li>最高速度可达23Mb&#x2F;s，传输距离20m</li>
<li>用作计算机与测控机箱的互连</li>
</ul>
<h3 id="3-6-例题-32"><a href="#3-6-例题-32" class="headerlink" title="3.6 例题"></a>3.6 例题</h3><ol>
<li>串行总线与并行总线比，（C）。</li>
</ol>
<p>A. 串行总线成本高，速度快<br>B. 串行总线成本高，速度慢<br>C. 并行总线成本高，速度快<br>D. 并行总线成本低，速度快</p>
<ol start="2">
<li>信息可以在两个方向上同时传输的总线属于（C）。</li>
</ol>
<p>A. 单工总线<br>B. 半双工总线<br>C. 全双工总线<br>D. 单向总线</p>
<ol start="3">
<li>以下关于总线的叙述中，不正确的是（C）。</li>
</ol>
<p>A. 并行总线适合近距离高速数据传输<br>B. 串行总线适合长距离数据传输<br>C. 单总线结构在一个总线上适合不同种类的设备，设计简单且性能很高<br>D. 专用总线在设计上可以与连接设备实现最佳匹配</p>
<h2 id="4-PCI接口基本原理与结构-32"><a href="#4-PCI接口基本原理与结构-32" class="headerlink" title="4 PCI接口基本原理与结构"></a>4 PCI接口基本原理与结构</h2><ul>
<li>PCI接口基本结构</li>
</ul>
<h3 id="4-1-PCI接口基本结构-32"><a href="#4-1-PCI接口基本结构-32" class="headerlink" title="4.1 PCI接口基本结构"></a>4.1 PCI接口基本结构</h3><p>&amp;emsp;&amp;emsp;PCI（Peripheral Component Interconnect，外围设备互连）总线是由Intel公司推出的一种局部总线，是当前用于系统扩展最流行的总线之一。<br>&amp;emsp;&amp;emsp;PCI总线是地址、数据多路复用的高性能32位和64位总线，是微处理器与外围控制部件、外围附加板之间的互连机构。<br>&amp;emsp;&amp;emsp;PCI定义了32位数据总线，并且可扩展为64位。总线速度有32MHz和66MHz两种。</p>
<ul>
<li>改良的PCI系统PCI-X，数据传输速度最高可以达到64位@133MHz</li>
<li>PCI总线主板插槽的体积比ISA总线插槽小，支持突发读写操作（突发数据传输），可同时支持多组外围设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;与ISA总线不同，PCI总线的地址总线与数据总线是分时复用的，支持即插即用（PNP：Plug-and-Play）、中断共享等功能。<br>&amp;emsp;&amp;emsp;PCI总线在数据传输时，由一个PCI设备做发起者（称为Master、Initator），而另一个PCI设备做目标（称为Slave、Target）。</p>
<ul>
<li>总线上所有时序的产生与控制都由Master发起</li>
<li>PCI总线在同一时刻只能供一对设备完成传输，要求有一个仲裁机构来决定谁有权拿到总线的主控权</li>
</ul>
<h4 id="4-1-1-例题-32"><a href="#4-1-1-例题-32" class="headerlink" title="4.1.1 例题"></a>4.1.1 例题</h4><ol>
<li>关于PCI总线，下列说法不正确的是（A）。</li>
</ol>
<p>A. PCI总线是地址、数据多路复用的一种总线，不支持即插即用，支持中断共享功能<br>B. PCI定义了32位数据总线，也可扩展为64位总线<br>C. PCI总线在数据传输时，由一个PCI设备做发起者，而另一个PCI设备做目标<br>D. PCI总线要求有一个仲裁机构来决定谁有权拿到总线的主控权，所以在同一时刻只能供一对设备完成传输</p>
<ol start="2">
<li>在以下描述中PCI总线的基本概念中，正确的表述有（B）、（E）、（F）、（G）、（J）、（K）。</li>
</ol>
<p>A. PCI总线是一个与处理器有关的高速外围总线<br>B. PCI总线的基本传输机制是触发传输<br>C. PCI设备一定是主设备<br>D. PCI的物理地址与其他总线一样，是由内存地址空间和I&#x2F;O地址组成<br>E. PCI设备的地址译码不能对配置空间直接寻址<br>F. PCI设备识别主要是对开发商代码和设备代码进行识别<br>G. 访问配置空间时，PCI桥应提供IDSEL信号以选择PCI设备<br>H. 系统中只允许有一条PCI总线<br>I. PCI总线是高速串行总线<br>J. PCI总线有3种桥，即HOST&#x2F;PCI桥，PCI&#x2F;PCI桥，PCI&#x2F;LEGACY桥<br>K. PCI桥是可以把一条总线的地址空间映射到另一条总线的地址空间</p>
<h2 id="5-USB接口基本原理与结构-32"><a href="#5-USB接口基本原理与结构-32" class="headerlink" title="5 USB接口基本原理与结构"></a>5 USB接口基本原理与结构</h2><ul>
<li>USB总线的主要性能特点</li>
<li>物理接口</li>
</ul>
<p>&amp;emsp;&amp;emsp;USB（Universal Serial Bus，通用串行总线）是由Compaq、HP、Intel、Lucent、Microsoft、NEC和Philips公司制定的连接计算机与外围设备的机外串行总线。</p>
<ul>
<li>最多可连接127个设备</li>
<li>用于多种嵌入式系统设备的数据通信。如移动硬盘、PDA</li>
</ul>
<h3 id="5-1-热插拔-32"><a href="#5-1-热插拔-32" class="headerlink" title="5.1 热插拔"></a>5.1 热插拔</h3><p>&amp;emsp;&amp;emsp;USB提供机箱外的热插拔功能，连接外设不必再打开机箱，也不必关闭主机电源，USB可智能地识别USB链上外围设备的动态插入或拆除，具有自动配置和重新配置外设的能力，连接设备方便，使用简单。<br>&amp;emsp;可连接多个外部设备。</p>
<ul>
<li>每个USB系统中有1个主机，USB总线采用“级联”方式可连续多个外部设备。</li>
<li>每个USB设备用一个USB插头连接到上一个USB设备的USB插座上，而其本身又提供一或多个USB插座供一下一个或多个USB设备连接使用。</li>
<li>这种多重连接是通过集线器（Hub）来实现的，整个USB网络中最多可连接127个设备，支持多个设备同时操作</li>
</ul>
<h3 id="5-2-USB总线的主要性能特点-32"><a href="#5-2-USB总线的主要性能特点-32" class="headerlink" title="5.2 USB总线的主要性能特点"></a>5.2 USB总线的主要性能特点</h3><p>&amp;emsp;&amp;emsp;可同时支持不同同步传输方式和速率的设备。</p>
<ul>
<li>可同时支持同步传输和异步传输两种传输方式</li>
<li>可同时支持不同速率的设备，速率最高可达几百Mb&#x2F;s</li>
<li>支持主机与设备之间的多数据流和多消息流传输，且支持同步和异步传输类型</li>
<li>提供了四种不同的数据传输类型：控制传输、数据传输、中断数据传输和同步数据传输</li>
</ul>
<p>&amp;emsp;&amp;emsp;较强的纠错能力。</p>
<ul>
<li>USB系统可实时地管理设备插拔</li>
<li>在USB协议中包括了传输错误管理、错误恢复等功能，同时根据不同的传输类型来处理传输错误</li>
</ul>
<p>&amp;emsp;&amp;emsp;低成本的电缆和连接器。</p>
<ul>
<li>USB采用统一的4引脚插头和一根四芯的电缆传送信号和电源</li>
<li>电缆长度可达5m</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB.png" alt="USB.png" title="USB"></p>
<p>&amp;emsp;&amp;emsp;总线供电。</p>
<ul>
<li>USB总线可以为连接在其上的设备提供5v电压&#x2F;100mA电流的供电，最大可提供500mA的电流</li>
<li>USB设备也可采用自供电方式，可以通过电池或其他的电力设备</li>
<li>支持节约能源的挂机和唤醒模式</li>
</ul>
<h3 id="5-3-USB总线的应用-32"><a href="#5-3-USB总线的应用-32" class="headerlink" title="5.3 USB总线的应用"></a>5.3 USB总线的应用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USB_.png" alt="USB_.png" title="USB_"></p>
<h3 id="5-4-USB总线物理接口-32"><a href="#5-4-USB总线物理接口-32" class="headerlink" title="5.4 USB总线物理接口"></a>5.4 USB总线物理接口</h3><p>&amp;emsp;&amp;emsp;USB总线的电缆有一对标准尺寸的双绞信号线和一对标准尺寸的电源线，共4根导线。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/USBInterface.png" alt="USBInterface.png" title="USBInterface"></p>
<table>
<thead>
<tr>
<th align="center">连接序号</th>
<th align="center">信号名称</th>
<th align="center">典型连接线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VBUS（USB电源）</td>
<td align="center">红</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">D+（正差分信号）</td>
<td align="center">白</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">D-（负差分信号）</td>
<td align="center">绿</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GND（USB地）</td>
<td align="center">黑</td>
</tr>
<tr>
<td align="center">外层</td>
<td align="center">屏蔽层</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="5-5-例题-32"><a href="#5-5-例题-32" class="headerlink" title="5.5 例题"></a>5.5 例题</h3><ol>
<li>下面关于通用串行总线USB的描述，不正确的是（D）。</li>
</ol>
<p>A. USB接口为外设提供电源<br>B. USB设备可以起集线器作用<br>C. 可同时连接127台输入&#x2F;输出设备<br>D. 通用串行总线不需要软件控制就能正常工作</p>
<ol start="2">
<li>在嵌入式系统设计中，用来进行系统初始代码调试的接口称为（D）。</li>
</ol>
<p>A. PCI接口<br>B. USB接口<br>C. 网络接口<br>D. JTAG接口</p>
<h2 id="6-SPI接口基本原理与结构-32"><a href="#6-SPI接口基本原理与结构-32" class="headerlink" title="6 SPI接口基本原理与结构"></a>6 SPI接口基本原理与结构</h2><ul>
<li>SPI接口简介</li>
<li>SPI接口基本原理</li>
<li>SPI接口工作模式</li>
</ul>
<h3 id="6-1-SPI接口简介-32"><a href="#6-1-SPI接口简介-32" class="headerlink" title="6.1 SPI接口简介"></a>6.1 SPI接口简介</h3><p>&amp;emsp;&amp;emsp;SPI（Serial Peripheral Interface，串行外围设备接口）是由Motorola公司开发的一个低成本、易使用的接口，主要用在微处理器（MCU）和外围设备芯片之间进行连接。</p>
<ul>
<li>SPI接口可以用来连接存储器、AD转换器、DA转换器、实时时钟日历、LCD驱动器、传感器、音频芯片，其他处理器等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;SPI是一个4线接口，主要使用4个信号。</p>
<ul>
<li>主机输出&#x2F;从机输入（MOSI）</li>
<li>主机输入&#x2F;从机输出（MISO）</li>
<li>串行SCLK或SCK</li>
<li>外设片选（ $\overline{\text{CS}}$ ）</li>
<li>有些处理器有SPI接口专用的芯片选择，称为从机选择（ $\overline{\text{SS}}$ ）</li>
</ul>
<p>&amp;emsp;&amp;emsp;MOSI信号由主机产生，从机接收。</p>
<ul>
<li>在有些芯片上，MOSI只被简单的标为串行输入（SI），或者串行数据输入（SDI）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;MISO信号由主机产生，不过还是在主机的控制下产生的。</p>
<ul>
<li>在一些芯片上，MISO有时被称为串行输出（SO）或串行数据输出（SDO）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;外设片选信号：通常只是由主机的备用I&#x2F;O引脚产生的。<br>&amp;emsp;&amp;emsp;与标准的串行接口不同，SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟信号由主机（处理器）产生，接收数据的外设（从设备）使用时钟来对串行比特流的接收进行同步化。</p>
<ul>
<li>可以将多个具有SPI接口的芯片连到主机的同一个SPI接口上，主机通过控制从设备的片选输入引脚来选择接收数据的从设备。</li>
</ul>
<h3 id="6-2-SPI接口基本原理-32"><a href="#6-2-SPI接口基本原理-32" class="headerlink" title="6.2 SPI接口基本原理"></a>6.2 SPI接口基本原理</h3><p>&amp;emsp;&amp;emsp;如图所示，微处理器通过SPI接口与外设进行连接。</p>
<ul>
<li>主机和外设都包含一个串行移位寄存器，主机写入一个字节到它的SPI串行寄存器，SPI寄存器通过MOSI信号线将字节传送给外设。</li>
<li>外设也可以将自己移位寄存器中的内容通过MISO信号线传送到主机。主机和外设的两个移位寄存器中的内容被互相交换。</li>
<li>外设的写操作和读操作是同步完成的，因此SPI成为一个很有效的协议。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPI.png" alt="SPI.png" title="SPI"></p>
<p>&amp;emsp;&amp;emsp;如果只是进行写操作，主机只需忽略收到的字节。<br>&amp;emsp;&amp;emsp;如果主机要读取外设的一个字节，就必须发送一个空字节来触发从机的数据传输。<br>&amp;emsp;&amp;emsp;当主机发送一个连续的数据流时，有些外设能进行多字节传输。</p>
<ul>
<li>如多数具有SPI接口的存储器芯片都以这种方式工作。在这种传输方式下，SPI外设的芯片选择端必须在整个传输过程中保持低电平。</li>
<li>如，存储器芯片会希望在一个“写”命令之后紧接着收到的是4个地址字节（起始地址），这样后面接收到的数据就可以存储到该地址。</li>
</ul>
<p>&amp;emsp;&amp;emsp;其他外设只需要一个单字节（比如一个发给AD转换器的命令），有些甚至还支持菊花链连接，如图所示。</p>
<ul>
<li>主机处理器从其SPI接口发送3个字节的数据</li>
<li>第1个字节发送给外设A，当第2个字节发送给外设A的时候，第1个字节已移出了A，而传送给了B</li>
<li>同样，主机想要从外设A读取一个结果，它必须要再发送一个3字节（空字节）的序列，这样就可以把A中的数据移到B中，然后再移到C中，最后送回到主机。在这个过程中，主机还依次从B和C接收到字节。</li>
</ul>
<p>&amp;emsp;&amp;emsp;注意，菊花链连接不一定适用于所有的SPI设备，特别是要求多字节传输的（比如存储器芯片）设备。有的外设西片不支持菊花链连接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SpiConnectPI.png" alt="SpiConnect.png" title="SpiConnectPI"></p>
<h3 id="6-3-SPI接口工作模式-32"><a href="#6-3-SPI接口工作模式-32" class="headerlink" title="6.3 SPI接口工作模式"></a>6.3 SPI接口工作模式</h3><p>&amp;emsp;&amp;emsp;根据时钟极性和时钟相位的不同，SPI有4种工作模式。</p>
<ul>
<li>时钟极性有高电平、低电平两种</li>
<li>时钟相位有两个：时钟相位0和时钟相位1</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟极性（CPOL：Clock Polarity）。</p>
<ul>
<li>时钟极性为低电平时：空闲时时钟（SCK）处于低电平，传输时跳转到高电平</li>
<li>时钟极性为高电平时：空闲时时钟（SCK）处于高电平，传输时跳转到低电平</li>
</ul>
<p>&amp;emsp;&amp;emsp;时钟相位（CPHA：Clock Phase）。</p>
<ul>
<li>当CPHA为0时，时钟周期的前一边缘采集数据</li>
<li>当CPHA为1时，时钟周期的后一边缘采集数据</li>
</ul>
<p>&amp;emsp;&amp;emsp;四种工作模式下的SCLK表现如下。</p>
<ul>
<li>红线表示采集数据，下面的一个例子是S3C2440上面SPI控制器的总线范例。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/SPIClock.png" alt="SPIClock.png" title="SPIClock"></p>
<h3 id="6-4-例题-32"><a href="#6-4-例题-32" class="headerlink" title="6.4 例题"></a>6.4 例题</h3><ol>
<li>以下四种串行总线中，一组总线上不能挂连多个器件的是（A）。</li>
</ol>
<p>A. RS232<br>B. RS485<br>C. $I^2C$<br>D. SPI</p>
<h2 id="7-IIC接口基本原理与结构-32"><a href="#7-IIC接口基本原理与结构-32" class="headerlink" title="7 IIC接口基本原理与结构"></a>7 IIC接口基本原理与结构</h2><ul>
<li>IIC接口简介</li>
<li>IIC总线的数据传送</li>
<li>IIC总线工作原理</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC Bus（Inter Integrated Circuit BUS，内部集成电路总线）是由Philips公司推出的二线制串行扩展总线，用于连接微控制器及其外围设备。</p>
<ul>
<li>IIC总线是具备总线仲裁和高低速设备同步等功能的高性能多主机总线</li>
<li>直接用导线连接设备，通信时无需片选信号</li>
<li>IIC总线的协议层包括物理层和数据链路层。物理层有两根信号线，在链路层每个连接到IIC总线上的设备都有唯一的地址</li>
</ul>
<h3 id="7-1-IIC接口简介-32"><a href="#7-1-IIC接口简介-32" class="headerlink" title="7.1 IIC接口简介"></a>7.1 IIC接口简介</h3><p>&amp;emsp;&amp;emsp;在IIC总线上，物理层只需要两条线一串行数数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递。</p>
<ul>
<li>SDA和SCL都是双向的</li>
<li>每个器件都有一个唯一的地址以供识别，而且各器件都可以作为一个发送器或接收器（由器件的功能决定的）。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IIC.png" alt="IIC.png" title="IIC"></p>
<h3 id="7-2-操作模式-32"><a href="#7-2-操作模式-32" class="headerlink" title="7.2 操作模式"></a>7.2 操作模式</h3><p>&amp;emsp;&amp;emsp;IIC总线有4中操作模式。</p>
<ul>
<li>主发送模式</li>
<li>主接收模式</li>
<li>从发送模式</li>
<li>从接收模式</li>
</ul>
<h3 id="7-3-启动信号-32"><a href="#7-3-启动信号-32" class="headerlink" title="7.3 启动信号"></a>7.3 启动信号</h3><p>&amp;emsp;&amp;emsp;IIC总线的启动信号。</p>
<ul>
<li>当IIC接口处于从模式时，要想数据传输，必须检测SDA线上的启动信号，启动信号由主器件产生</li>
<li>在SCL信号为高时，SDA产生一个由高变低的电平变化，即产生一个启动信号</li>
<li>当IIC总线上产生了启动信号后，那么这条总线就被发出启动信号的主器件占用了，变成”忙“状态</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence.png" alt="IICSequence.png" title="IICSequence"></p>
<h3 id="7-4-读写数据-32"><a href="#7-4-读写数据-32" class="headerlink" title="7.4 读写数据"></a>7.4 读写数据</h3><p>&amp;emsp;&amp;emsp;主器件产生一个启动信号后，会立即送出一个从地址，用来通知将与它进行数据通信的从器件。</p>
<ul>
<li>1个字节的地址包括7位的地址信息和1位的传输方向指示位（R&#x2F;W）</li>
<li>如果第7位为“0”，表示主机发送数据（W），即进行一个写操作</li>
<li>如果“1”，表示主机接收数据（R），即进行一个读操作</li>
</ul>
<h3 id="7-5-数据传输格式-32"><a href="#7-5-数据传输格式-32" class="headerlink" title="7.5 数据传输格式"></a>7.5 数据传输格式</h3><p>&amp;emsp;&amp;emsp;数据传输格式。</p>
<ul>
<li>SDA线上传输的每个字节长度都是8位，每次传输中字节的数量是没有限制的。</li>
<li>在起始条件后面的第一个字节是地址域，之后每个传输的字节后面都有一个应答（ACK）位（即一帧共有9位）</li>
<li>传输中串行数据的MSB（字节的高位）首先发送</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_.png" alt="IICSequence_.png" title="IICSequence_"></p>
<h3 id="7-6-应答信号-32"><a href="#7-6-应答信号-32" class="headerlink" title="7.6 应答信号"></a>7.6 应答信号</h3><p>&amp;emsp;&amp;emsp;应答信号。</p>
<ul>
<li>为了完成1个字节的传输操作，接收器应该在接收完1个字节之后发送ACK位到发送器，告诉发送器，已经收到了这个字节。</li>
<li>ACK脉冲信号在SCL线上第9个时钟处发出（前面8个时钟完成1个字节的数据传输，SCL上的时钟都是由主器件产生的）。</li>
<li>当发送器要接收ACK脉冲时，应该释放SDA信号线，即将SDA置高。</li>
<li>接收器在接收完前面的8位数据后，将SDA拉低。</li>
<li>发送器探测到SDA为低，就认为接收器成功接收了前面的8位数据。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICSequence_1.png" alt="IICSequence_1.png" title="IICSequence_1"></p>
<h3 id="7-7-IIC总线工作原理-32"><a href="#7-7-IIC总线工作原理-32" class="headerlink" title="7.7 IIC总线工作原理"></a>7.7 IIC总线工作原理</h3><p>&amp;emsp;&amp;emsp;总线竞争的仲裁。</p>
<ul>
<li>IIC总线上可以挂接有多个器件，有时会发生两个或多个主器件同时想占用总线的情况</li>
<li>IIC总线具有多主控制能力可对发生在SDA线上的总线竞争进行仲裁</li>
<li>仲裁原则：当多个主器件同时想占用总线时，如果某个器件发送高电平，而另一个主器件发送低电平，则发送电平与此时SDA总线电平不符的那个器件将自动关闭其输出级</li>
</ul>
<p>&amp;emsp;&amp;emsp;总线竞争的仲裁在两个层次上进行的。</p>
<ul>
<li>首先是地址位的比较，如果主器件寻址同一个从器件，则进入数据位的比较，从而确保了竞争仲裁的可靠性</li>
<li>由于是利用IIC总线上的信息进行仲裁，不会造成信息的丢失</li>
</ul>
<p>&amp;emsp;&amp;emsp;IIC总线的数据传输过程。</p>
<ul>
<li>开始：主设备产生启动信号，表明数据传输开始。</li>
<li>地址：主设备发送地址信息，包含7位的从设备地址和1位的数据方位指示位（读或写位，表示数据流的方向）。</li>
<li>数据：数据指示位，数据在主设备和从设备之间进行传输。数据一般以8位传输，MSB先传；具体能传输多少量的数据并没有限制。接收器产生1位的ACK（应答信号）表明收到了每个字节。传输过程可以被中止和重新开始。</li>
<li>停止：注射别产生停止信号，结束数据传输。</li>
</ul>
<h3 id="7-8-例题-32"><a href="#7-8-例题-32" class="headerlink" title="7.8 例题"></a>7.8 例题</h3><ol>
<li>关于IIC总线，下列说法错误的是（B）。</li>
</ol>
<p>A. IIC总线有4种操作模式：主发送模式、主接收模式、从发送模式和从接收模式<br>B. 传输中串行数据的LSB首先发送<br>C. IIC总线的数据传输过程包括了开始、地址、数据和停止信号的产生<br>D. IIC总线上，只需要两条线——串行数据SDA线、串行时钟SCL线，它们用于总线上器件之间的信息传递，并且都是双向的</p>
<ol start="2">
<li>IIC总线协议包含物理层和数据链路层，下图是常见的多个IIC设备接口示意图，下面描述不正确的是（）。</li>
</ol>
<p>A. 在物理层，IIC使用两条信号线，一条是串行数据线，一条是串行时钟线<br>B. 在数据链路层，每个IIC设备不用具有唯一的设备地址<br>C. 在IIC构成系统中，可以多主系统，但任一时刻只能有一个主IIC设备<br>D. IIC具有总线仲裁功能</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IICCircuit.png" alt="IICCircuit.png" title="IICCircuit"></p>
<h2 id="8-网络接口-32"><a href="#8-网络接口-32" class="headerlink" title="8 网络接口"></a>8 网络接口</h2><ul>
<li>以太网接口基本原理与结构</li>
<li>CAN总线接口基本原理与结构</li>
<li>无线以太网基本原理与结构</li>
<li>1394接口基本原理与结构</li>
</ul>
<h3 id="8-1-以太网接口基本原理与结构-32"><a href="#8-1-以太网接口基本原理与结构-32" class="headerlink" title="8.1 以太网接口基本原理与结构"></a>8.1 以太网接口基本原理与结构</h3><ul>
<li>以太网基础知识</li>
<li>嵌入式以太网接口的实现方法</li>
<li>网络编程接口</li>
</ul>
<h3 id="8-2-以太网基础知识-32"><a href="#8-2-以太网基础知识-32" class="headerlink" title="8.2 以太网基础知识"></a>8.2 以太网基础知识</h3><p>&amp;emsp;&amp;emsp;以太网（Ethernet）是目前应用最广泛的局域网通讯方式，同时也是一种协议。<br>&amp;emsp;&amp;emsp;以太网协议定义了一系列软件和硬件标准，从而将不同的设备连接在一起。<br>&amp;emsp;&amp;emsp;嵌入式系统通常使用的以太网协议是IEEE802.3协议。</p>
<ul>
<li>以太网接口电路主要由媒质接入控制MAC控制器和物理层接口（Physical Layer，PHY）两大部分构成</li>
</ul>
<h3 id="8-3-传输编码-32"><a href="#8-3-传输编码-32" class="headerlink" title="8.3 传输编码"></a>8.3 传输编码</h3><p>&amp;emsp;&amp;emsp;在802.3版本的标准中，没有采用直接的二进制编码（即用0v表示“0”，用5v表示“1”），而是采用。</p>
<ul>
<li>曼彻斯特编码（Manchester Encoding）</li>
<li>差分曼彻斯特编码（Differential Manchester Encoding）</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码的规律。</p>
<ul>
<li>每位中间有一个电平跳变，从高到低的跳变表示“0”，从低到高的跳变表示”1“。</li>
</ul>
<p>&amp;emsp;&amp;emsp;差分曼彻斯特编码的规律。</p>
<ul>
<li>每位的中间有一个电平跳变，但不用这个跳变来表示数据，而是利用每个码元开始有无跳变来表示“0”或“1”，有跳变表示“0”，无跳变表示“1”（保持性）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;曼彻斯特编码和差分曼彻斯特编码相比，前者编码简单，后者能提供更好的噪声抑制性能。</p>
<ul>
<li>在802.3系统中，采用曼彻斯特编码，其高电平为+0.85v，低电平信号为-0.85v，这样指令信号电压仍然是0v。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Manchester.png" alt="Manchester.png" title="Manchester"></p>
<h3 id="8-4-802-3Mac层的帧-32"><a href="#8-4-802-3Mac层的帧-32" class="headerlink" title="8.4 802.3Mac层的帧"></a>8.4 802.3Mac层的帧</h3><p>&amp;emsp;&amp;emsp;802.3 Mac层的以太网的物理传输帧如表所示。</p>
<table>
<thead>
<tr>
<th align="center">PR</th>
<th align="center">SD</th>
<th align="center">DA</th>
<th align="center">SA</th>
<th align="center">TYPE</th>
<th align="center">DATA</th>
<th align="center">PAD</th>
<th align="center">FCS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">56位</td>
<td align="center">8位</td>
<td align="center">48位</td>
<td align="center">48位</td>
<td align="center">16位</td>
<td align="center">不超过1500字节</td>
<td align="center">可选</td>
<td align="center">32位</td>
</tr>
</tbody></table>
<ul>
<li>PR：同步位，用于收发双方的时钟同步，同时也指明了传输的速率，是56位的二进制数101010101010…，最后2位是10。</li>
<li>SD：分隔位，表示下面跟着的是真正的数据而不是同步时钟，为8位的10101011。</li>
<li>DA：目的地址，以太网的地址为48位二进制地址，表明该帧传输给哪个网卡。如果为FFFFFFFFFFFF，是广播地址。广播地址的数据可以被任何网卡接收到。</li>
<li>SA：源地址，48位，表明该帧的数据是哪个网卡发的，即发送端的网卡地址，是6个字节。</li>
<li>TYPE：类型字段，表明该帧的数据是什么类型的数据，不同协议的类型字段不同。如：0800H表示数据为IP包，0806H表示数据为ARP包，814CH是SNMP包，8137H为IPX&#x2F;SPX包。</li>
<li>DATA：数据段，该段数据不能超过1500B，以太网规定整个传输包的最大长度不能超过1514B（14B为DA，SA，TYPE）。</li>
<li>PAD：填充位。以太网帧传输的数据包最小不能小于60B，（除去DA、SA、TYPE的14B），还必须传输46B的数据，当数据段的数据不足46B时，后面通常是补0（也可以补其他值）。</li>
<li>FCS：32位数据校验位。32位的CRC校验，该校验由网卡自动计算，自动生成，自动校验，自动在数据段后面填入。不需要软件管理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;PR、SD、PAD、FCS数据段是网卡（包括物理层和Mac层的处理）层自动产生的，剩下的DA、SA、TYPE、DATA4个段的内容由上层软件控制。</p>
<h3 id="8-5-以太网数据传输的特点-32"><a href="#8-5-以太网数据传输的特点-32" class="headerlink" title="8.5 以太网数据传输的特点"></a>8.5 以太网数据传输的特点</h3><p>&amp;emsp;&amp;emsp;以太网数据传输的特点。</p>
<ul>
<li>所有数据位的传输由低位开始，传输的位流用曼彻斯特编码。</li>
<li>以太网是基于冲突检测的总线复用方法，冲突退避算法是由硬件自动执行。</li>
<li>以太网传输的数据段的长度，DA + SA + TYPE + DATA + PAD最小为60B，最大为1514B。</li>
<li>通常的以太网卡可以接收3种地址的数据：广播地址、多播地址（或者叫组播地址，在嵌入式系统中很少用到）、自己的地址。但有时，用于网络分析和监控，网卡也可以设置为接收任何数据包。</li>
<li>任何两个网卡的物理地址都是不一样的，是世界上唯一的，网卡地址由专门机构分配。不同厂家使用不同地址段，同一厂家的任何两个网卡的地址也是唯一的。根据网卡的地址段（网卡地址的前3个字节）可以知道网卡的生产厂家。</li>
</ul>
<h3 id="8-6-以太网接口实现的方法-32"><a href="#8-6-以太网接口实现的方法-32" class="headerlink" title="8.6 以太网接口实现的方法"></a>8.6 以太网接口实现的方法</h3><p>&amp;emsp;&amp;emsp;嵌入式处理器 + 网卡芯片。</p>
<ul>
<li>把以太网芯片连接到嵌入式处理器的总线上。</li>
<li>通用性强，对嵌入式处理器没有特殊要求，不受处理器的限制，但是，嵌入式处理器和网络数据交换通过外部总线（通常是并行总线）交换数据，速度慢，可靠性不高，电路板走线复杂。</li>
<li>目前常见的以太网接口芯片，如CS8900、RTL8019&#x2F;8029&#x2F;8039、DM9008及DWL650无线网卡等。</li>
</ul>
<p>&amp;emsp;&amp;emsp;带有以太网接口的嵌入式处理器。</p>
<ul>
<li>常有以太网接口的嵌入式处理器通常是面向网络应用而设计的，要求嵌入式处理器有通用的网络接口（比如：MII接口）。</li>
<li>处理器和网络数据交换通过内部总线，速度快。</li>
</ul>
<h3 id="8-7-网络编程接口-32"><a href="#8-7-网络编程接口-32" class="headerlink" title="8.7 网络编程接口"></a>8.7 网络编程接口</h3><p>&amp;emsp;&amp;emsp;BSD套接字（BSD Sockets）是使用的最广泛的网络程序编程方法。</p>
<ul>
<li>主要用于应用程序的编写，用于网络上主机与主机之间的相互通信。</li>
<li>很多操作系统都支持BSD套接字编程。例如，UNIX、Linux、VxWorks、Windows的Winsock基本上是来自BSD Sockets。</li>
</ul>
<p>&amp;emsp;&amp;emsp;套接字（Sockets）分为Stream Sockets和Data Sockets。</p>
<ul>
<li>Stream Sockets是可靠性的双向数据传输，对应使用TCP协议传输数据</li>
<li>Data Sockets是不可靠连接，对应使用UDP协议传输数据</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Socket.png" alt="Socket.png" title="Socket"></p>
<h3 id="8-8-例题-32"><a href="#8-8-例题-32" class="headerlink" title="8.8 例题"></a>8.8 例题</h3><p>略</p>
<h2 id="9-CAN总线接口基本原理与结构-32"><a href="#9-CAN总线接口基本原理与结构-32" class="headerlink" title="9 CAN总线接口基本原理与结构"></a>9 CAN总线接口基本原理与结构</h2><ul>
<li>CAN总线概述</li>
<li>在嵌入式处理器上扩展CAN总线接口</li>
</ul>
<h3 id="9-1-CAN总线概述-32"><a href="#9-1-CAN总线概述-32" class="headerlink" title="9.1 CAN总线概述"></a>9.1 CAN总线概述</h3><p>&amp;emsp;&amp;emsp;CAN（Controller Area Netword，控制器局域网）是德国Bosch公司于1983年为汽车应用而开发的，它是一种现场总线（FieldBus），能有效支持分布式控制和实时控制的串行通信网络。</p>
<ul>
<li>1993年11月，ISO正式颁布了控制器局域网CAN国际标准（ISO11898）。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线是一种多主方式的串行通信总线。</p>
<ul>
<li>理想的由CAN总线构成的单一网络中，是可以挂接任意多个节点，实际应用中节点数目受网络硬件的电气特性所限制。例如：当使用Philips P82C250作为CAN收发器时，同一网络中允许挂接110个节点。</li>
<li>CAN总线具有很高的实时性能，已经在汽车工业、航空工业、工业控制、安全防护等领域中得到了广泛应用。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线的通信介质可采用双绞线、同轴电缆和光导纤维，最常用的是双绞线。</p>
<ul>
<li>通信距离与波特率有关，最大通信距离可达10km，最大通信波特率可达1Mbps。</li>
<li>CAN总线仲裁采用11位标识和非破坏性位仲裁总线结构机制，可以确定数据块的优先级，保证在网络节点冲突时最高优先级节点不需要冲突等待。</li>
<li>CAN总线采用了多主竞争式总线结构，具有多主站运行和分散仲裁的串行总线以及广播通信的特点。</li>
<li>CAN总线上任一节点可在任一时刻主动向网络上其他节点发送信息而不分主次，因此可在各节点之间实现自由通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线信号使用差分电压传送。</p>
<ul>
<li>两条信号线被称为CAN_H和CAN_L，静态时均是2.5v左右，此时状态表示为逻辑1，也可以叫作“隐形”。</li>
<li>采用CAN_H比CAN_L高表示逻辑0，称为“显性”，通常电压值为CAN_H &#x3D; 3.5v和CAN_L &#x3D; 1.5v。</li>
<li>当“显性”位和“隐性”位同时发送的时候，最后总线数值降为“显性”。</li>
<li>这种特性为CAN总线的仲裁奠定了基础。</li>
</ul>
<h3 id="9-2-CAN总线接口-32"><a href="#9-2-CAN总线接口-32" class="headerlink" title="9.2 CAN总线接口"></a>9.2 CAN总线接口</h3><p>&amp;emsp;&amp;emsp;一些面向工业控制的嵌入式处理器集成了一个或者多个CAN总线控制器。</p>
<ul>
<li>例如：Phillips公司的LPC2194和LPC2294（ARM7TDMI内核）带有4个CAN总线控制器。</li>
<li>CAN总线控制器主要是完成时序控制逻辑转换等工作，要在电气特性上满足CAN总线标准，还需要一个CAN总线的物理层芯片，用它来实现TTL电平到CAN总线电平特性的转换，即CAN收发器。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/CAN.png" alt="CAN.png" title="CAN"></p>
<p>&amp;emsp;&amp;emsp;实际上，多数嵌入式处理器都不带CAN总线控制器。</p>
<ul>
<li>通常的解决方案是在嵌入式处理器的外部总线上扩展CAN总线接口芯片。</li>
<li>例如：Phillips公司的SJA1000 CAN总线接口芯片，Microchip公司的MCP251x系列（MCP2510和MCP2515）CAN总线接口芯片，这两种芯片都支持CAN2.0B标准。</li>
<li>SJA 1000的总线采用的是地址线和数据线复用的方式，多数嵌入式处理器采用SJA 1000扩展CAN总线较为复杂。</li>
</ul>
<h3 id="9-3-嵌入式处理器上扩展CAN总线接口-32"><a href="#9-3-嵌入式处理器上扩展CAN总线接口-32" class="headerlink" title="9.3 嵌入式处理器上扩展CAN总线接口"></a>9.3 嵌入式处理器上扩展CAN总线接口</h3><p>&amp;emsp;&amp;emsp;MCP2510是由Microchip公司生产的CAN协议控制器，完全支持CAN总线V2.0A&#x2F;B技术规范。</p>
<ul>
<li>0~8字节的有效数据长度，支持远程帧</li>
<li>最大1Mb&#x2F;s的可编程波特率</li>
<li>两个支持过滤波器（Filter，Mask）的接收缓冲区，三个发送缓冲区</li>
<li>支持回环（Loop Back）模式，便于测试</li>
<li>SPI高速串行总线，最大5MHz</li>
<li>3v到5.5v供电</li>
</ul>
<p>&amp;emsp;&amp;emsp;大多数嵌入式处理器都有SPI总线控制器，MCP2510可以3v到5.5v供电，能够直接和3.3v I&#x2F;O口的嵌入式处理器连接，电路原理图如图所示。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/MCP2510.png" alt="MCP2510.png" title="MCP2510"></p>
<p>&amp;emsp;&amp;emsp;MCP2510使用3.3v电压供电，可以直接和三星S3C44B0X处理器通过SPI总线连接。相关的资源如下。</p>
<ul>
<li>使用一个扩展的I&#x2F;O口（EXIO2）作为片选信号，电平有效。</li>
<li>用S3C2410A的外部中断6（EXINT6）作为中断管脚，低电平有效。</li>
<li>16MHz晶体作为输入时钟，MCP2510内部有晶振电路，用晶体可以直接起振使用TJA1050作为CAN总线收发器。</li>
</ul>
<p>&amp;emsp;&amp;emsp;CAN总线收发器TJA1050必须使用5v供电。MCP2510和TJA1050连接的两个信号都是单向的信号。需要满足I&#x2F;O口的电气特性。</p>
<ul>
<li>从MCP2510输出的TXCAN信号是否满足TJA1050的输入电平。TJA1050位5v供电时，输入高电平 $V_{ih}$ 的范围是2~5.3v。而3.3v供电的MCP2510输出TXCAN信号高电平 $V_{oh}$ 最小值为2.6v，可以满足要求。</li>
<li>从TJA1050输出的RXD信号是否满足MCP2510的输入电平。3.3v供电的MCP2510输入信号RXCAN高电平范围 $V_{ih}$ ：2~4.3v，无法满足5v逻辑的TJA1050输出电平，电阻分压实现单向电平转换。</li>
</ul>
<p>&amp;emsp;&amp;emsp;分压电阻值的选择，需要考虑2个问题。</p>
<ul>
<li>TJA1050输出信号的驱动能力（输出电流 $\leq 15mA$ ）</li>
<li>MCP2510的RXCAN管脚的输入阻抗（输入电流 $\leq 5μA$ ）</li>
</ul>
<h2 id="10-无线以太网基本原理与结构-32"><a href="#10-无线以太网基本原理与结构-32" class="headerlink" title="10 无线以太网基本原理与结构"></a>10 无线以太网基本原理与结构</h2><ul>
<li>WLAN简介</li>
<li>WLAN标准</li>
</ul>
<h3 id="10-1-WLAN简介-32"><a href="#10-1-WLAN简介-32" class="headerlink" title="10.1 WLAN简介"></a>10.1 WLAN简介</h3><p>&amp;emsp;&amp;emsp;WLAN（Wireless Local Area Network，无线局域网）是利用无线通信技术在一定局部范围内建立的，是计算机网络与无线通信技术相结合的产物，以无线多址通道作为传输媒介，提供有线局域网的功能。<br>&amp;emsp;&amp;emsp;传输介质。</p>
<ul>
<li>红外线IR</li>
<li>射频RF波段</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLAN.png" alt="WLAN.png" title="WLAN"></p>
<h3 id="10-2-WLAN标准-32"><a href="#10-2-WLAN标准-32" class="headerlink" title="10.2 WLAN标准"></a>10.2 WLAN标准</h3><p>&amp;emsp;&amp;emsp;WLAN的标准：主要是针对物理层和媒质访问控制层（MAC层）。</p>
<ul>
<li>涉及到所有使用的无线频率范围、控制接口通信协议等技术规范与技术标准。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/WLANStandard.png" alt="WLANStandard.png" title="WLANStandard"></p>
<h2 id="11-IEEE-1394接口基本原理与结构-32"><a href="#11-IEEE-1394接口基本原理与结构-32" class="headerlink" title="11 IEEE 1394接口基本原理与结构"></a>11 IEEE 1394接口基本原理与结构</h2><ul>
<li>IEEE 1394简介</li>
<li>IEEE 1394的特点</li>
<li>IEEE 1394的协议结构</li>
</ul>
<h3 id="11-1-IEEE-1394简介-32"><a href="#11-1-IEEE-1394简介-32" class="headerlink" title="11.1 IEEE 1394简介"></a>11.1 IEEE 1394简介</h3><p>&amp;emsp;&amp;emsp;IEEE 1394是Apple公司率先提出的一种高品质、高传输速率的串行总线技术，1995年被IEEE认定为串行工业总线标准。</p>
<ul>
<li>1394作为一种标准总线，可以在不同的工业设备之间架起一座沟通的桥梁</li>
<li>在一条总线上可以接入63个设备</li>
<li>实时多媒体领域，大容量存储以及打印机、扫描仪上等等</li>
<li>IEEE 1394规范仅支持64位固定解址模式</li>
</ul>
<h3 id="11-2-IEEE-1394的特点-32"><a href="#11-2-IEEE-1394的特点-32" class="headerlink" title="11.2 IEEE 1394的特点"></a>11.2 IEEE 1394的特点</h3><p>&amp;emsp;&amp;emsp;支持多种总线速度，适应不同应用要求。</p>
<ul>
<li>IEEE 1394a：100Mb&#x2F;s、200Mb&#x2F;s、400Mb&#x2F;s</li>
<li>IEEE 1394b：800Mb&#x2F;s、1600Mb&#x2F;s、3200Mb&#x2F;s</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持热插拔。</p>
<ul>
<li>设备的资源均由总线控制器自动分配</li>
<li>总线控制器会自动重新配置好设备</li>
</ul>
<p>&amp;emsp;&amp;emsp;接口有两种类型。</p>
<ul>
<li>6针的六角形接口和4针的小型四角形接口</li>
<li>6针的六角形接口可向所连接的设备供电，而4针的四角形接口则不能</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持同步和异步两种传输方式。</p>
<ul>
<li>设备可以根据需要动态地选择传输方式，总线自动完成带宽分配</li>
<li>要求实时传输并对数据的完整性要去不严格的场合，可采用同步传输方式</li>
<li>对数据完整性要求较高的场合，采用异步传输方式更好</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持点到点通信模式，IEEE 1394是多主总线。</p>
<ul>
<li>每个设备均可以获取总线的控制权，与其他设备进行通信。</li>
</ul>
<p>&amp;emsp;&amp;emsp;两种传输方式：Backplane模式和Cable模式。</p>
<ul>
<li>Backplane模式最小的速率也比USB1.1最高速率高，分别为12.5Mbps&#x2F;s、25Mbps&#x2F;s、50Mbps&#x2F;s，可以用于多数的高带宽应用。</li>
<li>Cable模式是速度非常快的模式，分为100Mbps&#x2F;s、200Mbps&#x2F;s和400Mbps&#x2F;s几种，在200Mbps&#x2F;s下可以传输不经压缩的高质量数据电影。</li>
</ul>
<p>&amp;emsp;&amp;emsp;遵循ANSI IEEE 1212控制及状态寄存器（CSR）标准，定义了64位的地址空间。</p>
<ul>
<li>可寻址1024条总线的63个节点，每个节点包含256TB的内存空间</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持较远距离的传输。</p>
<ul>
<li>普通线缆：2个设备之间的最大距离可达4.5m（高级线缆可达15m）</li>
<li>玻璃光缆或5类双绞线：设备间距离可达100m以上。</li>
</ul>
<p>&amp;emsp;&amp;emsp;支持公平仲裁原则，为每一种传输方式保证足够的传输带宽。</p>
<ul>
<li>支持错误检测和处理。</li>
</ul>
<p>&amp;emsp;&amp;emsp;六线电缆具有电源线，可传输8~40v的直流电压。</p>
<ul>
<li>2对双绞线：信号传递</li>
<li>1对双绞线：供应电源</li>
</ul>
<h3 id="11-3-IEEE-1394的协议结构-32"><a href="#11-3-IEEE-1394的协议结构-32" class="headerlink" title="11.3 IEEE 1394的协议结构"></a>11.3 IEEE 1394的协议结构</h3><p>&amp;emsp;&amp;emsp;IEEE 1394的协议栈由3层组成：物理层、链路层和事务层，另外还有一个管理层。</p>
<ul>
<li>物理层和链路层由硬件构成，通常集成在同一块芯片上</li>
<li>事务层主要由软件实现</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/IEEE1394.png" alt="IEEE1394.png" title="IEEE1394"></p>
<p>&amp;emsp;&amp;emsp;物理层提供IEEE1394的电气和机械接口，功能是重组字节流并将它们发送到目的节点上去。</p>
<ul>
<li>物理层为链路层提供服务</li>
<li>解析字节流并发送数据包给链路层</li>
</ul>
<p>&amp;emsp;&amp;emsp;链路层提供了给事务层确认的数据服务，包括：寻址、数据组帧和数据校验。</p>
<ul>
<li>提供直接面向应用的服务</li>
<li>支持同步和异步传输模式</li>
<li>链路层的底层提供了仲裁机制</li>
</ul>
<h3 id="11-4-例题-32"><a href="#11-4-例题-32" class="headerlink" title="11.4 例题"></a>11.4 例题</h3><ol>
<li>IEEE 1394具有（D）位地址空间，IEEE 1394的通信协议具有三个协议包，不包括（B）。</li>
</ol>
<p>(1)<br>A. 8<br>B. 16<br>C. 32<br>D. 64</p>
<p>(2)<br>A. 事物层<br>B. 表示层<br>C. 链路层<br>D. 物理层</p>
<h2 id="12-总线分类-32"><a href="#12-总线分类-32" class="headerlink" title="12 总线分类"></a>12 总线分类</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/Bus.png" alt="Bus.png" title="Bus"></p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-31"><a href="#12-1-例题-31" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
<table>
<thead>
<tr>
<th align="center">总线分类</th>
<th align="center">说明</th>
<th align="center">常用总线</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内部总线</td>
<td align="center">内部总线是微处理机内部各外围芯片与处理器之间的总线，用于芯片一级的互连</td>
<td align="center">IIC总线、SPI总线、SCI总线等</td>
</tr>
<tr>
<td align="center">系统总线</td>
<td align="center">系统总线是微机中各插件板与系统板之间的总线，用于插件板一级的互连</td>
<td align="center">ISA总线、EISA总线、VESA总线、PCI总线等</td>
</tr>
<tr>
<td align="center">外部总线</td>
<td align="center">外部总线则是微机和外部设备之间的总线，微机作为一种设备，通过该总线和其他设备进行信息与数据交换，它用于设备一级的互连</td>
<td align="center">RS232、RS485、USB总线、IEEE1394总线等</td>
</tr>
</tbody></table>
<h3 id="12-1-例题-32"><a href="#12-1-例题-32" class="headerlink" title="12.1 例题"></a>12.1 例题</h3><ol>
<li>以下关于嵌入式系统总线的描述中，不正确的是（C）。</li>
</ol>
<p>A. 异步通信时数据是一帧一帧传送的，没帧数据的传送靠起始位来同步<br>B. SPI、IIC、UART都属于串行通信方式<br>C. 同步通信方式是字符同步，且在字符与字符之间的时序仍然是同步的<br>D. RS232、RS485、USB、IEEE1394总线都属于外部总线</p>
<ol start="2">
<li>不属于系统总线的是（C）。</li>
</ol>
<p>A. ISA<br>B. EISA<br>C. SCSI<br>D. PCI</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://onlycalm.cn">OnlyCalm</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://onlycalm.cn/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3/">http://onlycalm.cn/docs/兴趣/国家软考/中级嵌入式系统设计师/第十四章——嵌入式系统总线和通讯接口/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://onlycalm.cn" target="_blank">OnlyCalm's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/">嵌入式系统设计师</a><a class="post-meta__tags" href="/tags/%E4%B8%AD%E7%BA%A7/">中级</a><a class="post-meta__tags" href="/tags/%E8%BD%AF%E8%80%83/">软考</a></div><div class="post_share"><div class="social-share" data-image="https://onlycalm.gitee.io/blogimage/res/Cover_12.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="http://onlycalm.gitee.io/blogimage/res/微信收款码.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/res/微信收款码.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="http://onlycalm.gitee.io/blogimage/res/支付宝收款码.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/res/支付宝收款码.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E4%BA%94%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%A1%AC%E4%BB%B6%E8%AE%BE%E8%AE%A1/" title="第十五章——嵌入式硬件设计"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_7.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">第十五章——嵌入式硬件设计</div></div></a></div><div class="next-post pull-right"><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E8%AE%BE%E5%A4%87/" title="第十三章——嵌入式系统输入输出设备"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">第十三章——嵌入式系统输入输出设备</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E4%B8%80%E7%AB%A0%E2%80%94%E2%80%94%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" title="第一章——计算机系统基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_14.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-27</div><div class="title">第一章——计算机系统基础</div></div></a></div><div><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E4%B8%83%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E4%B8%8E%E8%BF%90%E7%BB%B4/" title="第七章——嵌入式系统开发与运维"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-31</div><div class="title">第七章——嵌入式系统开发与运维</div></div></a></div><div><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E4%B8%89%E7%AB%A0%E2%80%94%E2%80%94%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86/" title="第三章——操作系统知识"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_14.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-08</div><div class="title">第三章——操作系统知识</div></div></a></div><div><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E4%B9%9D%E7%AB%A0%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" title="第九章——数据结构与算法"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-01</div><div class="title">第九章——数据结构与算法</div></div></a></div><div><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E4%BA%8C%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6/" title="第二章——嵌入式系统软件"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_10.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-02</div><div class="title">第二章——嵌入式系统软件</div></div></a></div><div><a href="/docs/%E5%85%B4%E8%B6%A3/%E5%9B%BD%E5%AE%B6%E8%BD%AF%E8%80%83/%E4%B8%AD%E7%BA%A7%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%AC%AC%E4%BA%94%E7%AB%A0%E2%80%94%E2%80%94%E5%AE%89%E5%85%A8%E6%80%A7%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="第五章——安全性基础知识"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-30</div><div class="title">第五章——安全性基础知识</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="comment-switch"><span class="first-comment">Valine</span><span id="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="http://onlycalm.gitee.io/blogimage/res/Avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">OnlyCalm</div><div class="author-info__description">自娱自乐，做大娱乐家</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">229</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">327</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">53</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/onlycalm"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/onlycalm" target="_blank" title="GitHub"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_42475711" target="_blank" title="CSDN"><i class="fab fa-cuttlefish"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">贫富安。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0"><span class="toc-text">2.1 串行通信概述</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-1"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-1"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-1"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-1"><span class="toc-text">2.2.1 单工</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-2"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-2"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-2"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-2"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-1"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-1"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-1"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-1"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-1"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-1"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-1"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-1"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-1"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-1"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-1"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-1"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-1"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-1"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-1"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-1"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-1"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-1"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-1"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-1"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-1"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-1"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-1"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-1"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-1"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-1"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-1"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-1"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-1"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-1"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-1"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-1"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-1"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-1"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-1"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-1"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-1"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-1"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-1"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-1"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-1"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-1"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-1"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-1"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-1"><span class="toc-text">12.1 例题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-2"><span class="toc-text">2.2.2 半双工</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-3"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-3"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-3"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-3"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-3"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-2"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-2"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-2"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-2"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-2"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-2"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-2"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-2"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-2"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-2"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-2"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-2"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-2"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-2"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-2"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-2"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-2"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-2"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-2"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-2"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-2"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-2"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-2"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-2"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-2"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-2"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-2"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-2"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-2"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-2"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-2"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-2"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-2"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-2"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-2"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-2"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-2"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-2"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-2"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-2"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-2"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-2"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-2"><span class="toc-text">12.1 例题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-3"><span class="toc-text">2.2.3 全双工</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-4"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-4"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-4"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-4"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-4"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-4"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-3"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-3"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-3"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-3"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-3"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-3"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-3"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-3"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-3"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-3"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-3"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-3"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-3"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-3"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-3"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-3"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-3"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-3"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-3"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-3"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-3"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-3"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-3"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-3"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-3"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-3"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-3"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-3"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-3"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-3"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-3"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-3"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-3"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-3"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-3"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-3"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-3"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-3"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-3"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-3"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-3"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-3"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-3"><span class="toc-text">12.1 例题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-4"><span class="toc-text">2.2.4 串行通信异步</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-5"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-5"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-5"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-5"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-5"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-5"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-5"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-4"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-4"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-4"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-4"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-4"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-4"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-4"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-4"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-4"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-4"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-4"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-4"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-4"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-4"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-4"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-4"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-4"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-4"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-4"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-4"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-4"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-4"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-4"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-4"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-4"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-4"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-4"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-4"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-4"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-4"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-4"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-4"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-4"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-4"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-4"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-4"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-4"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-4"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-4"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-4"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-4"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-4"><span class="toc-text">12.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-6"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-6"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-6"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-6"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-6"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-6"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-6"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-5"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-5"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-5"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-5"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-5"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-5"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-5"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-5"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-5"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-5"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-5"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-5"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-5"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-5"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-5"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-5"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-5"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-5"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-5"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-5"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-5"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-5"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-5"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-5"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-5"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-5"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-5"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-5"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-5"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-5"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-5"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-5"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-5"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-5"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-5"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-5"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-5"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-5"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-5"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-5"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-5"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-5"><span class="toc-text">12.1 例题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-6"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-6"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-6"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-6"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-7"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-7"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-7"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-7"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-7"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-7"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-7"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-7"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-7"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-7"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-7"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-6"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-6"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-6"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-6"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-6"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-6"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-6"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-6"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-6"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-6"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-6"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-6"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-6"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-6"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-6"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-6"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-6"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-6"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-6"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-6"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-6"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-6"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-6"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-6"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-6"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-6"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-6"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-6"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-6"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-6"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-6"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-6"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-6"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-6"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-6"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-6"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-6"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-6"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-7"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-7"><span class="toc-text">2.3.2 接口信号</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-8"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-8"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-8"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-8"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-8"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-8"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-8"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-8"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-8"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-8"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-8"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-8"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-8"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-7"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-7"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-7"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-7"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-7"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-7"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-7"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-7"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-7"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-7"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-7"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-7"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-7"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-7"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-7"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-7"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-7"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-7"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-7"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-7"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-7"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-7"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-7"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-7"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-7"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-7"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-7"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-7"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-7"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-7"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-7"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-7"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-7"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-7"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-7"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-7"><span class="toc-text">12.1 例题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-8"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-8"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-9"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-9"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-9"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-9"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-9"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-9"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-9"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-9"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-9"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-9"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-9"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-9"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-9"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-9"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-9"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-8"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-8"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-8"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-8"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-8"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-8"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-8"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-8"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-8"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-8"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-8"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-8"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-8"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-8"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-8"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-8"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-8"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-8"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-8"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-8"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-8"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-8"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-8"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-8"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-8"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-8"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-8"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-8"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-8"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-8"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-8"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-8"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-8"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-8"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">2.4 RS-422串行接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-10"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-10"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-10"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-10"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-10"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-10"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-10"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-10"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-10"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-10"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-10"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-10"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-10"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-10"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-10"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-9"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-9"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-9"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-9"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-9"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-9"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-9"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-9"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-9"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-9"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-9"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-9"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-9"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-9"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-9"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-9"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-9"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-9"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-9"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-9"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-9"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-9"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-9"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-9"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-9"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-9"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-9"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-9"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-9"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-9"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-9"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-9"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-9"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-9"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">2.5 RS-485串行接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-11"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-11"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-11"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-11"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-11"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-11"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-11"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-11"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-11"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-11"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-11"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-11"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-11"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-11"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-11"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-10"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-10"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-10"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-10"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-10"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-10"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-10"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-10"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-10"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-10"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-10"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-10"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-10"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-10"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-10"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-10"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-10"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-10"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-10"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-10"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-10"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-10"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-10"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-10"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-10"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-10"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-10"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-10"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-10"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-10"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-10"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-10"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-10"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-10"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">2.6 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-12"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-12"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-12"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-12"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-12"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-12"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-12"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-12"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-12"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-12"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-12"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-12"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-12"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-12"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-12"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-11"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-11"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-11"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-11"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-11"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-11"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-11"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-11"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-11"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-11"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-11"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-11"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-11"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-11"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-11"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-11"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-11"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-11"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-11"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-11"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-11"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-11"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-11"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-11"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-11"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-11"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-11"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-11"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-11"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-11"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-11"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-11"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-11"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-11"><span class="toc-text">12.1 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-12"><span class="toc-text">3.1 并行接口基本概念</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-13"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-13"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-13"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-13"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-13"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-13"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-13"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-13"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-13"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-13"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-13"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-13"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-13"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-13"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-13"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-13"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-12"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-12"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-12"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-12"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-12"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-12"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-12"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-12"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-12"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-12"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-12"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-12"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-12"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-12"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-12"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-12"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-12"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-12"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-12"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-12"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-12"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-12"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-12"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-12"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-12"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-12"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-12"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-12"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-12"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-12"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-12"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-12"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-12"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-13"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-13"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-13"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-13"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-13"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-13"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-13"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-14"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-14"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-14"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-14"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-14"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-14"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-14"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-14"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-14"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-14"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-14"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-14"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-14"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-14"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-14"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-14"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-14"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-14"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-14"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-14"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-14"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-14"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-14"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-13"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-13"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-13"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-13"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-13"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-13"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-13"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-13"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-13"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-13"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-13"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-13"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-13"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-13"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-13"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-13"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-13"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-13"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-13"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-13"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-13"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-13"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-13"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-13"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-13"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-13"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-14"><span class="toc-text">5.3 USB总线的应用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-15"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-15"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-15"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-15"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-15"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-15"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-15"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-15"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-15"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-15"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-15"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-15"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-15"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-15"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-15"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-15"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-15"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-15"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-15"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-15"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-15"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-15"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-15"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-15"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-14"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-14"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-14"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-14"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-14"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-14"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-14"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-14"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-14"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-14"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-14"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-14"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-14"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-14"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-14"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-14"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-14"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-14"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-14"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-14"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-14"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-14"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-14"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-14"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-14"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">5.4 USB总线物理接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-16"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-16"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-16"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-16"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-16"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-16"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-16"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-16"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-16"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-16"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-16"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-16"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-16"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-16"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-16"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-16"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-16"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-16"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-16"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-16"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-16"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-16"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-16"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-16"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-15"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-15"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-15"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-15"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-15"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-15"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-15"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-15"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-15"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-15"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-15"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-15"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-15"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-15"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-15"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-15"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-15"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-15"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-15"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-15"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-15"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-15"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-15"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-15"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-15"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-16"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-16"><span class="toc-text">6.2 SPI接口基本原理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-17"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-17"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-17"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-17"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-17"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-17"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-17"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-17"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-17"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-17"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-17"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-17"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-17"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-17"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-17"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-17"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-17"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-17"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-17"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-17"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-17"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-17"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-17"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-17"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-17"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-17"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-16"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-16"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-16"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-16"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-16"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-16"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-16"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-16"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-16"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-16"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-16"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-16"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-16"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-16"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-16"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-16"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-16"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-16"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-16"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-16"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-16"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-16"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-16"><span class="toc-text">12.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-18"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-18"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-18"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-18"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-18"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-18"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-18"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-18"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-18"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-18"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-18"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-18"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-18"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-18"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-18"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-18"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-18"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-18"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-18"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-18"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-18"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-18"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-18"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-18"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-18"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-18"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-17"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-17"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-17"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-17"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-17"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-17"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-17"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-17"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-17"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-17"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-17"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-17"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-17"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-17"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-17"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-17"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-17"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-17"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-17"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-17"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-17"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-17"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-17"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-18"><span class="toc-text">6.3 SPI接口工作模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-19"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-19"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-19"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-19"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-19"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-19"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-19"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-19"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-19"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-19"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-19"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-19"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-19"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-19"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-19"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-19"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-19"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-19"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-19"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-19"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-19"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-19"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-19"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-19"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-19"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-19"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-19"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-18"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-18"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-18"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-18"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-18"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-18"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-18"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-18"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-18"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-18"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-18"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-18"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-18"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-18"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-18"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-18"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-18"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-18"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-18"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-18"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-18"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-18"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-19"><span class="toc-text">7.1 IIC接口简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-20"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-20"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-20"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-20"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-20"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-20"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-20"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-20"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-20"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-20"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-20"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-20"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-20"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-20"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-20"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-20"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-20"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-20"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-20"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-20"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-20"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-20"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-20"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-20"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-20"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-20"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-20"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-20"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-19"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-19"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-19"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-19"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-19"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-19"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-19"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-19"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-19"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-19"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-19"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-19"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-19"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-19"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-19"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-19"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-19"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-19"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-19"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-19"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-19"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-20"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-20"><span class="toc-text">7.3 启动信号</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-21"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-21"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-21"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-21"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-21"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-21"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-21"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-21"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-21"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-21"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-21"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-21"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-21"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-21"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-21"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-21"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-21"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-21"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-21"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-21"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-21"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-21"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-21"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-21"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-21"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-21"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-21"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-21"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-21"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-21"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-20"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-20"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-20"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-20"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-20"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-20"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-20"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-20"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-20"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-20"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-20"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-20"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-20"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-20"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-20"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-20"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-20"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-20"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-20"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-21"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-21"><span class="toc-text">7.5 数据传输格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-22"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-22"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-22"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-22"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-22"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-22"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-22"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-22"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-22"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-22"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-22"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-22"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-22"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-22"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-22"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-22"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-22"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-22"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-22"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-22"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-22"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-22"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-22"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-22"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-22"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-22"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-22"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-22"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-22"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-22"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-22"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-22"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-21"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-21"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-21"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-21"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-21"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-21"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-21"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-21"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-21"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-21"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-21"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-21"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-21"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-21"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-21"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-21"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-21"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-22"><span class="toc-text">7.6 应答信号</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-23"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-23"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-23"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-23"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-23"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-23"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-23"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-23"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-23"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-23"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-23"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-23"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-23"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-23"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-23"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-23"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-23"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-23"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-23"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-23"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-23"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-23"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-23"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-23"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-23"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-23"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-23"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-23"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-23"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-23"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-23"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-23"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-23"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-22"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-22"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-22"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-22"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-22"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-22"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-22"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-22"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-22"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-22"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-22"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-22"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-22"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-22"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-22"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-22"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-23"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">7.8 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-24"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-24"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-24"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-24"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-24"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-24"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-24"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-24"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-24"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-24"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-24"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-24"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-24"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-24"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-24"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-24"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-24"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-24"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-24"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-24"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-24"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-24"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-24"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-24"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-24"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-24"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-24"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-24"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-24"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-24"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-24"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-24"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-24"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-24"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-23"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-23"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-23"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-23"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-23"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-23"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-23"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-23"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-23"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-23"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-23"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-23"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-23"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-23"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-23"><span class="toc-text">12.1 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-24"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-24"><span class="toc-text">8.3 传输编码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-25"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-25"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-25"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-25"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-25"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-25"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-25"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-25"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-25"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-25"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-25"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-25"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-25"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-25"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-25"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-25"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-25"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-25"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-25"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-25"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-25"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-25"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-25"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-25"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-25"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-25"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-25"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-25"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-25"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-25"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-25"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-25"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-25"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-25"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-25"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-25"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-24"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-24"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-24"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-24"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-24"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-24"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-24"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-24"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-24"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-24"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-24"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-24"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-24"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-25"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-25"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-25"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">8.7 网络编程接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-26"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-26"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-26"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-26"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-26"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-26"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-26"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-26"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-26"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-26"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-26"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-26"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-26"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-26"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-26"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-26"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-26"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-26"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-26"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-26"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-26"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-26"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-26"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-26"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-26"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-26"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-26"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-26"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-26"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-26"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-26"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-26"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-26"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-26"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-26"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-26"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-26"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-26"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-26"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-25"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-25"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-25"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-25"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-25"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-25"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-25"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-25"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-25"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-25"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-26"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">9.2 CAN总线接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-27"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-27"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-27"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-27"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-27"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-27"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-27"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-27"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-27"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-27"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-27"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-27"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-27"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-27"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-27"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-27"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-27"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-27"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-27"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-27"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-27"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-27"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-27"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-27"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-27"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-27"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-27"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-27"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-27"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-27"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-27"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-27"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-27"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-27"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-27"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-27"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-27"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-27"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-27"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-27"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-26"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-26"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-26"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-26"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-26"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-26"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-26"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-26"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-26"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-27"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-28"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-28"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-28"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-28"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-28"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-28"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-28"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-28"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-28"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-28"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-28"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-28"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-28"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-28"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-28"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-28"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-28"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-28"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-28"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-28"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-28"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-28"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-28"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-28"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-28"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-28"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-28"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-28"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-28"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-28"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-28"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-28"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-28"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-28"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-28"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-28"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-28"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-28"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-28"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-28"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-28"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-27"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-27"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-27"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-27"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-27"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-27"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-27"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-27"><span class="toc-text">12.1 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-28"><span class="toc-text">10.1 WLAN简介</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-29"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-29"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-29"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-29"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-29"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-29"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-29"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-29"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-29"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-29"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-29"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-29"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-29"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-29"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-29"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-29"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-29"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-29"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-29"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-29"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-29"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-29"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-29"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-29"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-29"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-29"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-29"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-29"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-29"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-29"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-29"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-29"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-29"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-29"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-29"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-29"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-29"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-29"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-29"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-29"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-29"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-29"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-28"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-28"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-28"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-28"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-28"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-28"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-28"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-29"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-30"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-30"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-30"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-30"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-30"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-30"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-30"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-30"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-30"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-30"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-30"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-30"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-30"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-30"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-30"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-30"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-30"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-30"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-30"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-30"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-30"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-30"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-30"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-30"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-30"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-30"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-30"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-30"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-30"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-30"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-30"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-30"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-30"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-30"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-30"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-30"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-30"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-30"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-30"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-30"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-30"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-30"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-30"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-29"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-29"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-29"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-29"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-29"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-29"><span class="toc-text">12.1 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-30"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-30"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-30"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-30"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-31"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-31"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-31"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-31"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-31"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-31"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-31"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-31"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-31"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-31"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-31"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-31"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-31"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-31"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-31"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-31"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-31"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-31"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-31"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-31"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-31"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-31"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-31"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-31"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-31"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-31"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-31"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-31"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-31"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-31"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-31"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-31"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-31"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-31"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-31"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-31"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-31"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-31"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-31"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-31"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-31"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-31"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-31"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-31"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-31"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-31"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-31"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-30"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-30"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-31"><span class="toc-text">12 总线分类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E7%AB%A0%E2%80%94%E2%80%94%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%80%BB%E7%BA%BF%E5%92%8C%E9%80%9A%E8%AE%AF%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">第十四章——嵌入式系统总线和通讯接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BB%8B%E7%BB%8D-32"><span class="toc-text">1 知识点介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">2 串行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A6%82%E8%BF%B0-32"><span class="toc-text">2.1 串行通信概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%BC%8F-32"><span class="toc-text">2.2 串行通信模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%8D%95%E5%B7%A5-32"><span class="toc-text">2.2.1 单工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E5%8D%8A%E5%8F%8C%E5%B7%A5-32"><span class="toc-text">2.2.2 半双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%85%A8%E5%8F%8C%E5%B7%A5-32"><span class="toc-text">2.2.3 全双工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%BC%82%E6%AD%A5-32"><span class="toc-text">2.2.4 串行通信异步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%B3%A2%E7%89%B9%E7%8E%87%E5%92%8C%E6%A0%A1%E9%AA%8C%E4%BD%8D-32"><span class="toc-text">2.2.5 波特率和校验位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-6-%E4%B8%B2%E8%A1%8C%E5%BC%82%E6%AD%A5%E7%89%B9%E7%82%B9-32"><span class="toc-text">2.2.6 串行异步特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-7-%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1%E5%90%8C%E6%AD%A5-32"><span class="toc-text">2.2.7 串行通信同步</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-8-%E4%B8%B2%E5%8F%A3%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8F%91%E9%80%81-32"><span class="toc-text">2.2.8 串口同步和异步发送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-RS-232C%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">2.3 RS-232C串行接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%8E%A5%E5%8F%A3%E8%A7%84%E6%A0%BC-32"><span class="toc-text">2.3.1 接口规格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E6%8E%A5%E5%8F%A3%E4%BF%A1%E5%8F%B7-32"><span class="toc-text">2.3.2 接口信号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%BC%95%E8%84%9A%E5%8A%9F%E8%83%BD-32"><span class="toc-text">2.3.3 引脚功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F-32"><span class="toc-text">2.3.4 连接方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-RS-422%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">2.4 RS-422串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-RS-485%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">2.5 RS-485串行接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">2.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">3 并行接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-32"><span class="toc-text">3.1 并行接口基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E7%B1%BB-32"><span class="toc-text">3.2 并行接口分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-32"><span class="toc-text">3.3 并行总线分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFIEE488-32"><span class="toc-text">3.4 并行总线IEE488</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E5%B9%B6%E8%A1%8C%E6%80%BB%E7%BA%BFSCSI%E5%92%8CMXI-32"><span class="toc-text">3.5 并行总线SCSI和MXI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">3.6 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">4 PCI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-PCI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-32"><span class="toc-text">4.1 PCI接口基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">4.1.1 例题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-USB%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">5 USB接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%83%AD%E6%8F%92%E6%8B%94-32"><span class="toc-text">5.1 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E4%B8%BB%E8%A6%81%E6%80%A7%E8%83%BD%E7%89%B9%E7%82%B9-32"><span class="toc-text">5.2 USB总线的主要性能特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-USB%E6%80%BB%E7%BA%BF%E7%9A%84%E5%BA%94%E7%94%A8-32"><span class="toc-text">5.3 USB总线的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-USB%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">5.4 USB总线物理接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">5.5 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">6 SPI接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-SPI%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-32"><span class="toc-text">6.1 SPI接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-SPI%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-32"><span class="toc-text">6.2 SPI接口基本原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SPI%E6%8E%A5%E5%8F%A3%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F-32"><span class="toc-text">6.3 SPI接口工作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">6.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-IIC%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">7 IIC接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-IIC%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B-32"><span class="toc-text">7.1 IIC接口简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F-32"><span class="toc-text">7.2 操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%90%AF%E5%8A%A8%E4%BF%A1%E5%8F%B7-32"><span class="toc-text">7.3 启动信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE-32"><span class="toc-text">7.4 读写数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E6%A0%BC%E5%BC%8F-32"><span class="toc-text">7.5 数据传输格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-%E5%BA%94%E7%AD%94%E4%BF%A1%E5%8F%B7-32"><span class="toc-text">7.6 应答信号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7-IIC%E6%80%BB%E7%BA%BF%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-32"><span class="toc-text">7.7 IIC总线工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">7.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">8 网络接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">8.1 以太网接口基本原理与结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-32"><span class="toc-text">8.2 以太网基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BC%A0%E8%BE%93%E7%BC%96%E7%A0%81-32"><span class="toc-text">8.3 传输编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-802-3Mac%E5%B1%82%E7%9A%84%E5%B8%A7-32"><span class="toc-text">8.4 802.3Mac层的帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%9A%84%E7%89%B9%E7%82%B9-32"><span class="toc-text">8.5 以太网数据传输的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95-32"><span class="toc-text">8.6 以太网接口实现的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">8.7 网络编程接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">8.8 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">9 CAN总线接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-CAN%E6%80%BB%E7%BA%BF%E6%A6%82%E8%BF%B0-32"><span class="toc-text">9.1 CAN总线概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">9.2 CAN总线接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%A4%84%E7%90%86%E5%99%A8%E4%B8%8A%E6%89%A9%E5%B1%95CAN%E6%80%BB%E7%BA%BF%E6%8E%A5%E5%8F%A3-32"><span class="toc-text">9.3 嵌入式处理器上扩展CAN总线接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E6%97%A0%E7%BA%BF%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">10 无线以太网基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-WLAN%E7%AE%80%E4%BB%8B-32"><span class="toc-text">10.1 WLAN简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-WLAN%E6%A0%87%E5%87%86-32"><span class="toc-text">10.2 WLAN标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-IEEE-1394%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%93%E6%9E%84-32"><span class="toc-text">11 IEEE 1394接口基本原理与结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-IEEE-1394%E7%AE%80%E4%BB%8B-32"><span class="toc-text">11.1 IEEE 1394简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-IEEE-1394%E7%9A%84%E7%89%B9%E7%82%B9-32"><span class="toc-text">11.2 IEEE 1394的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-IEEE-1394%E7%9A%84%E5%8D%8F%E8%AE%AE%E7%BB%93%E6%9E%84-32"><span class="toc-text">11.3 IEEE 1394的协议结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">11.4 例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E6%80%BB%E7%BA%BF%E5%88%86%E7%B1%BB-32"><span class="toc-text">12 总线分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-31"><span class="toc-text">12.1 例题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%BE%8B%E9%A2%98-32"><span class="toc-text">12.1 例题</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/docs/%E5%B7%A5%E5%85%B7/Hexo/%E8%87%AA%E5%A8%B1%E8%87%AA%E4%B9%90%EF%BC%8C%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%88%E5%8D%81%E4%B8%83%EF%BC%89%E2%80%94%E2%80%94%E8%85%BE%E8%AE%AF%E4%BA%91SSL%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7/" title="自娱自乐，我的博客（十七）——腾讯云SSL证书申请"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自娱自乐，我的博客（十七）——腾讯云SSL证书申请"/></a><div class="content"><a class="title" href="/docs/%E5%B7%A5%E5%85%B7/Hexo/%E8%87%AA%E5%A8%B1%E8%87%AA%E4%B9%90%EF%BC%8C%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%88%E5%8D%81%E4%B8%83%EF%BC%89%E2%80%94%E2%80%94%E8%85%BE%E8%AE%AF%E4%BA%91SSL%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7/" title="自娱自乐，我的博客（十七）——腾讯云SSL证书申请">自娱自乐，我的博客（十七）——腾讯云SSL证书申请</a><time datetime="2024-02-06T06:08:00.000Z" title="发表于 2024-02-06 14:08:00">2024-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/docs/%E5%B7%A5%E5%85%B7/Hexo/%E8%87%AA%E5%A8%B1%E8%87%AA%E4%B9%90%EF%BC%8C%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%88%E5%8D%81%E5%85%AD%EF%BC%89%E2%80%94%E2%80%94%E5%8D%9A%E5%AE%A2%E6%89%98%E7%AE%A1%E5%88%B0%E8%85%BE%E8%AE%AF%E4%BA%91/" title="自娱自乐，我的博客（十六）——博客托管到腾讯云"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自娱自乐，我的博客（十六）——博客托管到腾讯云"/></a><div class="content"><a class="title" href="/docs/%E5%B7%A5%E5%85%B7/Hexo/%E8%87%AA%E5%A8%B1%E8%87%AA%E4%B9%90%EF%BC%8C%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%88%E5%8D%81%E5%85%AD%EF%BC%89%E2%80%94%E2%80%94%E5%8D%9A%E5%AE%A2%E6%89%98%E7%AE%A1%E5%88%B0%E8%85%BE%E8%AE%AF%E4%BA%91/" title="自娱自乐，我的博客（十六）——博客托管到腾讯云">自娱自乐，我的博客（十六）——博客托管到腾讯云</a><time datetime="2024-02-06T03:43:00.000Z" title="发表于 2024-02-06 11:43:00">2024-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/docs/%E5%B7%A5%E5%85%B7/Hexo/%E8%87%AA%E5%A8%B1%E8%87%AA%E4%B9%90%EF%BC%8C%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%88%E5%8D%81%E4%BA%94%EF%BC%89%E2%80%94%E2%80%94%E5%9F%9F%E5%90%8DICP%E5%A4%87%E6%A1%88/" title="自娱自乐，我的博客（十五）——域名ICP备案"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自娱自乐，我的博客（十五）——域名ICP备案"/></a><div class="content"><a class="title" href="/docs/%E5%B7%A5%E5%85%B7/Hexo/%E8%87%AA%E5%A8%B1%E8%87%AA%E4%B9%90%EF%BC%8C%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%EF%BC%88%E5%8D%81%E4%BA%94%EF%BC%89%E2%80%94%E2%80%94%E5%9F%9F%E5%90%8DICP%E5%A4%87%E6%A1%88/" title="自娱自乐，我的博客（十五）——域名ICP备案">自娱自乐，我的博客（十五）——域名ICP备案</a><time datetime="2024-02-05T11:37:00.000Z" title="发表于 2024-02-05 19:37:00">2024-02-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/docs/%E5%B7%A5%E5%85%B7/Ubuntu/Ubuntu20.04%E5%AE%89%E8%A3%85qq%E9%9F%B3%E4%B9%90/" title="Ubuntu20.04安装qq音乐"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ubuntu20.04安装qq音乐"/></a><div class="content"><a class="title" href="/docs/%E5%B7%A5%E5%85%B7/Ubuntu/Ubuntu20.04%E5%AE%89%E8%A3%85qq%E9%9F%B3%E4%B9%90/" title="Ubuntu20.04安装qq音乐">Ubuntu20.04安装qq音乐</a><time datetime="2024-02-04T15:38:00.000Z" title="发表于 2024-02-04 23:38:00">2024-02-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/docs/%E5%B7%A5%E5%85%B7/Vim/%E5%9F%BA%E7%A1%80%E7%AF%87/Vim%E5%9F%BA%E7%A1%80%E7%AF%87%EF%BC%88%E4%BA%8C%E5%8D%81%E5%85%AB%EF%BC%89%E2%80%94%E2%80%94%E7%BB%88%E7%AB%AF%E6%8F%92%E4%BB%B6vim-floaterm/" title="Vim基础篇（二十八）——终端插件vim-floaterm"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://onlycalm.gitee.io/blogimage/res/Cover_9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim基础篇（二十八）——终端插件vim-floaterm"/></a><div class="content"><a class="title" href="/docs/%E5%B7%A5%E5%85%B7/Vim/%E5%9F%BA%E7%A1%80%E7%AF%87/Vim%E5%9F%BA%E7%A1%80%E7%AF%87%EF%BC%88%E4%BA%8C%E5%8D%81%E5%85%AB%EF%BC%89%E2%80%94%E2%80%94%E7%BB%88%E7%AB%AF%E6%8F%92%E4%BB%B6vim-floaterm/" title="Vim基础篇（二十八）——终端插件vim-floaterm">Vim基础篇（二十八）——终端插件vim-floaterm</a><time datetime="2023-01-20T12:05:00.000Z" title="发表于 2023-01-20 20:05:00">2023-01-20</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By OnlyCalm</div><div class="footer_custom_text">生生灯火，明暗无辄</br>欢迎访问 <a href="https://onlycalm.cn">OnlyCalm</a> 的博客</br>粤ICP备2024183071号-1</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? '' : ''

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'uoaDTvEN4KnsU5xM1f2l1T12-MdYXbMMI',
      appKey: 'f2158LsoEVzRzMS8EG7rvFSs',
      avatar: 'wavatar',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.jsdelivr.net/npm/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><script>(() => {
  const initGitalk = () => {
    const gitalk = new Gitalk(Object.assign({
      clientID: '0b3f5b76c03e1d9ecca0',
      clientSecret: '94ba0623c1599038f16bc6ecbdf0c9015c735fe5',
      repo: 'blogtalk',
      owner: 'onlycalm',
      admin: ['onlycalm'],
      id: '505d94f618f260e6a8393b86e44c8aec',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async() => {
    if (typeof Gitalk === 'function') initGitalk()
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.css')
      await getScript('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js')
      initGitalk()
    }
  }
  
  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  if ('Valine' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script src="/js/sakura.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/unitychan.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>